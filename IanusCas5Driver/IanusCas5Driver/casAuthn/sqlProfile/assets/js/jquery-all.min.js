function tableToGrid(e,t){jQuery(e).each(function(){if(!this.grid){jQuery(this).width("99%");var e=jQuery(this).width(),i=jQuery("tr td:first-child input[type=checkbox]:first",jQuery(this)),s=jQuery("tr td:first-child input[type=radio]:first",jQuery(this)),i=0<i.length,s=!i&&0<s.length,r=i||s,n=[],a=[];jQuery("th",jQuery(this)).each(function(){0===n.length&&r?(n.push({name:"__selection__",index:"__selection__",width:0,hidden:!0}),a.push("__selection__")):(n.push({name:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),index:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),width:jQuery(this).width()||150}),a.push(jQuery(this).html()))});var o=[],l=[],d=[];for(jQuery("tbody > tr",jQuery(this)).each(function(){var e={},t=0;jQuery("td",jQuery(this)).each(function(){if(0===t&&r){var i=jQuery("input",jQuery(this)),s=i.attr("value");l.push(s||o.length),i.is(":checked")&&d.push(s),e[n[t].name]=i.attr("value")}else e[n[t].name]=jQuery(this).html();t++}),t>0&&o.push(e)}),jQuery(this).empty(),jQuery(this).addClass("scroll"),jQuery(this).jqGrid(jQuery.extend({datatype:"local",width:e,colNames:a,colModel:n,multiselect:i},t||{})),e=0;e<o.length;e++)s=null,0<l.length&&(s=l[e])&&s.replace&&(s=encodeURIComponent(s).replace(/[.\-%]/g,"_")),null===s&&(s=e+1),jQuery(this).jqGrid("addRowData",s,o[e]);for(e=0;e<d.length;e++)jQuery(this).jqGrid("setSelection",d[e])}})}!function(e,t){function i(e){var t=e.length,i=ne.type(e);return ne.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||"function"!==i&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function s(e){var t=fe[e]={};return ne.each(e.match(oe)||[],function(e,i){t[i]=!0}),t}function r(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=ne.expando+Math.random()}function n(e,i,s){var r;if(s===t&&1===e.nodeType)if(r="data-"+i.replace(be,"-$1").toLowerCase(),s=e.getAttribute(r),"string"==typeof s){try{s="true"===s?!0:"false"===s?!1:"null"===s?null:+s+""===s?+s:ve.test(s)?JSON.parse(s):s}catch(n){}ge.set(e,i,s)}else s=t;return s}function a(){return!0}function o(){return!1}function l(){try{return V.activeElement}catch(e){}}function d(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function c(e,t,i){if(ne.isFunction(t))return ne.grep(e,function(e,s){return!!t.call(e,s,e)!==i});if(t.nodeType)return ne.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(Ie.test(t))return ne.filter(t,e,i);t=ne.filter(t,e)}return ne.grep(e,function(e){return te.call(t,e)>=0!==i})}function h(e,t){return ne.nodeName(e,"table")&&ne.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function u(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function p(e){var t=Oe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function f(e,t){for(var i=e.length,s=0;i>s;s++)me.set(e[s],"globalEval",!t||me.get(t[s],"globalEval"))}function g(e,t){var i,s,r,n,a,o,l,d;if(1===t.nodeType){if(me.hasData(e)&&(n=me.access(e),a=me.set(t,n),d=n.events)){delete a.handle,a.events={};for(r in d)for(i=0,s=d[r].length;s>i;i++)ne.event.add(t,r,d[r][i])}ge.hasData(e)&&(o=ge.access(e),l=ne.extend({},o),ge.set(t,l))}}function m(e,i){var s=e.getElementsByTagName?e.getElementsByTagName(i||"*"):e.querySelectorAll?e.querySelectorAll(i||"*"):[];return i===t||i&&ne.nodeName(e,i)?ne.merge([e],s):s}function v(e,t){var i=t.nodeName.toLowerCase();"input"===i&&Re.test(e.type)?t.checked=e.checked:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}function b(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),s=t,r=Ze.length;r--;)if(t=Ze[r]+i,t in e)return t;return s}function y(e,t){return e=t||e,"none"===ne.css(e,"display")||!ne.contains(e.ownerDocument,e)}function w(t){return e.getComputedStyle(t,null)}function _(e,t){for(var i,s,r,n=[],a=0,o=e.length;o>a;a++)s=e[a],s.style&&(n[a]=me.get(s,"olddisplay"),i=s.style.display,t?(n[a]||"none"!==i||(s.style.display=""),""===s.style.display&&y(s)&&(n[a]=me.access(s,"olddisplay",D(s.nodeName)))):n[a]||(r=y(s),(i&&"none"!==i||!r)&&me.set(s,"olddisplay",r?i:ne.css(s,"display"))));for(a=0;o>a;a++)s=e[a],s.style&&(t&&"none"!==s.style.display&&""!==s.style.display||(s.style.display=t?n[a]||"":"none"));return e}function x(e,t,i){var s=Ue.exec(t);return s?Math.max(0,s[1]-(i||0))+(s[2]||"px"):t}function j(e,t,i,s,r){for(var n=i===(s?"border":"content")?4:"width"===t?1:0,a=0;4>n;n+=2)"margin"===i&&(a+=ne.css(e,i+Ke[n],!0,r)),s?("content"===i&&(a-=ne.css(e,"padding"+Ke[n],!0,r)),"margin"!==i&&(a-=ne.css(e,"border"+Ke[n]+"Width",!0,r))):(a+=ne.css(e,"padding"+Ke[n],!0,r),"padding"!==i&&(a+=ne.css(e,"border"+Ke[n]+"Width",!0,r)));return a}function C(e,t,i){var s=!0,r="width"===t?e.offsetWidth:e.offsetHeight,n=w(e),a=ne.support.boxSizing&&"border-box"===ne.css(e,"boxSizing",!1,n);if(0>=r||null==r){if(r=Le(e,t,n),(0>r||null==r)&&(r=e.style[t]),$e.test(r))return r;s=a&&(ne.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+j(e,t,i||(a?"border":"content"),s,n)+"px"}function D(e){var t=V,i=Ye[e];return i||(i=S(e,t),"none"!==i&&i||(We=(We||ne("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(We[0].contentWindow||We[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),i=S(e,t),We.detach()),Ye[e]=i),i}function S(e,t){var i=ne(t.createElement(e)).appendTo(t.body),s=ne.css(i[0],"display");return i.remove(),s}function q(e,t,i,s){var r;if(ne.isArray(t))ne.each(t,function(t,r){i||tt.test(e)?s(e,r):q(e+"["+("object"==typeof r?t:"")+"]",r,i,s)});else if(i||"object"!==ne.type(t))s(e,t);else for(r in t)q(e+"["+r+"]",t[r],i,s)}function I(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var s,r=0,n=t.toLowerCase().match(oe)||[];if(ne.isFunction(i))for(;s=n[r++];)"+"===s[0]?(s=s.slice(1)||"*",(e[s]=e[s]||[]).unshift(i)):(e[s]=e[s]||[]).push(i)}}function T(e,i,s,r){function n(l){var d;return a[l]=!0,ne.each(e[l]||[],function(e,l){var c=l(i,s,r);return"string"!=typeof c||o||a[c]?o?!(d=c):t:(i.dataTypes.unshift(c),n(c),!1)}),d}var a={},o=e===bt;return n(i.dataTypes[0])||!a["*"]&&n("*")}function F(e,i){var s,r,n=ne.ajaxSettings.flatOptions||{};for(s in i)i[s]!==t&&((n[s]?e:r||(r={}))[s]=i[s]);return r&&ne.extend(!0,e,r),e}function k(e,i,s){for(var r,n,a,o,l=e.contents,d=e.dataTypes;"*"===d[0];)d.shift(),r===t&&(r=e.mimeType||i.getResponseHeader("Content-Type"));if(r)for(n in l)if(l[n]&&l[n].test(r)){d.unshift(n);break}if(d[0]in s)a=d[0];else{for(n in s){if(!d[0]||e.converters[n+" "+d[0]]){a=n;break}o||(o=n)}a=a||o}return a?(a!==d[0]&&d.unshift(a),s[a]):t}function P(e,t,i,s){var r,n,a,o,l,d={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)d[a.toLowerCase()]=e.converters[a];for(n=c.shift();n;)if(e.responseFields[n]&&(i[e.responseFields[n]]=t),!l&&s&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=n,n=c.shift())if("*"===n)n=l;else if("*"!==l&&l!==n){if(a=d[l+" "+n]||d["* "+n],!a)for(r in d)if(o=r.split(" "),o[1]===n&&(a=d[l+" "+o[0]]||d["* "+o[0]])){a===!0?a=d[r]:d[r]!==!0&&(n=o[0],c.unshift(o[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+l+" to "+n}}}return{state:"success",data:t}}function E(){return setTimeout(function(){qt=t}),qt=ne.now()}function N(e,t,i){for(var s,r=(Et[t]||[]).concat(Et["*"]),n=0,a=r.length;a>n;n++)if(s=r[n].call(i,t,e))return s}function A(e,t,i){var s,r,n=0,a=Pt.length,o=ne.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=qt||E(),i=Math.max(0,d.startTime+d.duration-t),s=i/d.duration||0,n=1-s,a=0,l=d.tweens.length;l>a;a++)d.tweens[a].run(n);return o.notifyWith(e,[d,n,i]),1>n&&l?i:(o.resolveWith(e,[d]),!1)},d=o.promise({elem:e,props:ne.extend({},t),opts:ne.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:qt||E(),duration:i.duration,tweens:[],createTween:function(t,i){var s=ne.Tween(e,d.opts,t,i,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(s),s},stop:function(t){var i=0,s=t?d.tweens.length:0;if(r)return this;for(r=!0;s>i;i++)d.tweens[i].run(1);return t?o.resolveWith(e,[d,t]):o.rejectWith(e,[d,t]),this}}),c=d.props;for(R(c,d.opts.specialEasing);a>n;n++)if(s=Pt[n].call(d,e,c,d.opts))return s;return ne.map(c,N,d),ne.isFunction(d.opts.start)&&d.opts.start.call(e,d),ne.fx.timer(ne.extend(l,{elem:e,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function R(e,t){var i,s,r,n,a;for(i in e)if(s=ne.camelCase(i),r=t[s],n=e[i],ne.isArray(n)&&(r=n[1],n=e[i]=n[0]),i!==s&&(e[s]=n,delete e[i]),a=ne.cssHooks[s],a&&"expand"in a){n=a.expand(n),delete e[s];for(i in n)i in e||(e[i]=n[i],t[i]=r)}else t[s]=r}function M(e,i,s){var r,n,a,o,l,d,c=this,h={},u=e.style,p=e.nodeType&&y(e),f=me.get(e,"fxshow");s.queue||(l=ne._queueHooks(e,"fx"),null==l.unqueued&&(l.unqueued=0,d=l.empty.fire,l.empty.fire=function(){l.unqueued||d()}),l.unqueued++,c.always(function(){c.always(function(){l.unqueued--,ne.queue(e,"fx").length||l.empty.fire()})})),1===e.nodeType&&("height"in i||"width"in i)&&(s.overflow=[u.overflow,u.overflowX,u.overflowY],"inline"===ne.css(e,"display")&&"none"===ne.css(e,"float")&&(u.display="inline-block")),s.overflow&&(u.overflow="hidden",c.always(function(){u.overflow=s.overflow[0],u.overflowX=s.overflow[1],u.overflowY=s.overflow[2]}));for(r in i)if(n=i[r],Tt.exec(n)){if(delete i[r],a=a||"toggle"===n,n===(p?"hide":"show")){if("show"!==n||!f||f[r]===t)continue;p=!0}h[r]=f&&f[r]||ne.style(e,r)}if(!ne.isEmptyObject(h)){f?"hidden"in f&&(p=f.hidden):f=me.access(e,"fxshow",{}),a&&(f.hidden=!p),p?ne(e).show():c.done(function(){ne(e).hide()}),c.done(function(){var t;me.remove(e,"fxshow");for(t in h)ne.style(e,t,h[t])});for(r in h)o=N(p?f[r]:0,r,c),r in f||(f[r]=o.start,p&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}}function G(e,t,i,s,r){return new G.prototype.init(e,t,i,s,r)}function O(e,t){var i,s={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)i=Ke[r],s["margin"+i]=s["padding"+i]=e;return t&&(s.opacity=s.width=e),s}function H(e){return ne.isWindow(e)?e:9===e.nodeType&&e.defaultView}var z,L,W=typeof t,B=e.location,V=e.document,U=V.documentElement,$=e.jQuery,X=e.$,Y={},Q=[],J="2.0.3",K=Q.concat,Z=Q.push,ee=Q.slice,te=Q.indexOf,ie=Y.toString,se=Y.hasOwnProperty,re=J.trim,ne=function(e,t){return new ne.fn.init(e,t,z)},ae=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,oe=/\S+/g,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,de=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ce=/^-ms-/,he=/-([\da-z])/gi,ue=function(e,t){return t.toUpperCase()},pe=function(){V.removeEventListener("DOMContentLoaded",pe,!1),e.removeEventListener("load",pe,!1),ne.ready()};ne.fn=ne.prototype={jquery:J,constructor:ne,init:function(e,i,s){var r,n;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:le.exec(e),!r||!r[1]&&i)return!i||i.jquery?(i||s).find(e):this.constructor(i).find(e);if(r[1]){if(i=i instanceof ne?i[0]:i,ne.merge(this,ne.parseHTML(r[1],i&&i.nodeType?i.ownerDocument||i:V,!0)),de.test(r[1])&&ne.isPlainObject(i))for(r in i)ne.isFunction(this[r])?this[r](i[r]):this.attr(r,i[r]);return this}return n=V.getElementById(r[2]),n&&n.parentNode&&(this.length=1,this[0]=n),this.context=V,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ne.isFunction(e)?s.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ne.makeArray(e,this))},selector:"",length:0,toArray:function(){return ee.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=ne.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ne.each(this,e,t)},ready:function(e){return ne.ready.promise().done(e),this},slice:function(){return this.pushStack(ee.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},map:function(e){return this.pushStack(ne.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:[].sort,splice:[].splice},ne.fn.init.prototype=ne.fn,ne.extend=ne.fn.extend=function(){var e,i,s,r,n,a,o=arguments[0]||{},l=1,d=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[1]||{},l=2),"object"==typeof o||ne.isFunction(o)||(o={}),d===l&&(o=this,--l);d>l;l++)if(null!=(e=arguments[l]))for(i in e)s=o[i],r=e[i],o!==r&&(c&&r&&(ne.isPlainObject(r)||(n=ne.isArray(r)))?(n?(n=!1,a=s&&ne.isArray(s)?s:[]):a=s&&ne.isPlainObject(s)?s:{},o[i]=ne.extend(c,a,r)):r!==t&&(o[i]=r));return o},ne.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===ne&&(e.$=X),t&&e.jQuery===ne&&(e.jQuery=$),ne},isReady:!1,readyWait:1,holdReady:function(e){e?ne.readyWait++:ne.ready(!0)},ready:function(e){(e===!0?--ne.readyWait:ne.isReady)||(ne.isReady=!0,e!==!0&&--ne.readyWait>0||(L.resolveWith(V,[ne]),ne.fn.trigger&&ne(V).trigger("ready").off("ready")))},isFunction:function(e){return"function"===ne.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Y[ie.call(e)]||"object":typeof e},isPlainObject:function(e){if("object"!==ne.type(e)||e.nodeType||ne.isWindow(e))return!1;try{if(e.constructor&&!se.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||V;var s=de.exec(e),r=!i&&[];return s?[t.createElement(s[1])]:(s=ne.buildFragment([e],t,r),r&&ne(r).remove(),ne.merge([],s.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var i,s;if(!e||"string"!=typeof e)return null;try{s=new DOMParser,i=s.parseFromString(e,"text/xml")}catch(r){i=t}return(!i||i.getElementsByTagName("parsererror").length)&&ne.error("Invalid XML: "+e),i},noop:function(){},globalEval:function(e){var t,i=eval;e=ne.trim(e),e&&(1===e.indexOf("use strict")?(t=V.createElement("script"),t.text=e,V.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(ce,"ms-").replace(he,ue)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,s){var r,n=0,a=e.length,o=i(e);if(s){if(o)for(;a>n&&(r=t.apply(e[n],s),r!==!1);n++);else for(n in e)if(r=t.apply(e[n],s),r===!1)break}else if(o)for(;a>n&&(r=t.call(e[n],n,e[n]),r!==!1);n++);else for(n in e)if(r=t.call(e[n],n,e[n]),r===!1)break;return e},trim:function(e){return null==e?"":re.call(e)},makeArray:function(e,t){var s=t||[];return null!=e&&(i(Object(e))?ne.merge(s,"string"==typeof e?[e]:e):Z.call(s,e)),s},inArray:function(e,t,i){return null==t?-1:te.call(t,e,i)},merge:function(e,i){var s=i.length,r=e.length,n=0;if("number"==typeof s)for(;s>n;n++)e[r++]=i[n];else for(;i[n]!==t;)e[r++]=i[n++];return e.length=r,e},grep:function(e,t,i){var s,r=[],n=0,a=e.length;for(i=!!i;a>n;n++)s=!!t(e[n],n),i!==s&&r.push(e[n]);return r},map:function(e,t,s){var r,n=0,a=e.length,o=i(e),l=[];if(o)for(;a>n;n++)r=t(e[n],n,s),null!=r&&(l[l.length]=r);else for(n in e)r=t(e[n],n,s),null!=r&&(l[l.length]=r);return K.apply([],l)},guid:1,proxy:function(e,i){var s,r,n;return"string"==typeof i&&(s=e[i],i=e,e=s),ne.isFunction(e)?(r=ee.call(arguments,2),n=function(){return e.apply(i||this,r.concat(ee.call(arguments)))},n.guid=e.guid=e.guid||ne.guid++,n):t},access:function(e,i,s,r,n,a,o){var l=0,d=e.length,c=null==s;if("object"===ne.type(s)){n=!0;for(l in s)ne.access(e,i,l,s[l],!0,a,o)}else if(r!==t&&(n=!0,ne.isFunction(r)||(o=!0),c&&(o?(i.call(e,r),i=null):(c=i,i=function(e,t,i){return c.call(ne(e),i)})),i))for(;d>l;l++)i(e[l],s,o?r:r.call(e[l],l,i(e[l],s)));return n?e:c?i.call(e):d?i(e[0],s):a},now:Date.now,swap:function(e,t,i,s){var r,n,a={};for(n in t)a[n]=e.style[n],e.style[n]=t[n];r=i.apply(e,s||[]);for(n in t)e.style[n]=a[n];return r}}),ne.ready.promise=function(t){return L||(L=ne.Deferred(),"complete"===V.readyState?setTimeout(ne.ready):(V.addEventListener("DOMContentLoaded",pe,!1),e.addEventListener("load",pe,!1))),L.promise(t)},ne.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Y["[object "+t+"]"]=t.toLowerCase()}),z=ne(V),function(e,t){function i(e,t,i,s){var r,n,a,o,l,d,c,h,f,g;if((t?t.ownerDocument||t:H)!==P&&k(t),t=t||P,i=i||[],!e||"string"!=typeof e)return i;if(1!==(o=t.nodeType)&&9!==o)return[];if(N&&!s){if(r=ye.exec(e))if(a=r[1]){if(9===o){if(n=t.getElementById(a),!n||!n.parentNode)return i;if(n.id===a)return i.push(n),i}else if(t.ownerDocument&&(n=t.ownerDocument.getElementById(a))&&G(t,n)&&n.id===a)return i.push(n),i}else{if(r[2])return ee.apply(i,t.getElementsByTagName(e)),i;if((a=r[3])&&j.getElementsByClassName&&t.getElementsByClassName)return ee.apply(i,t.getElementsByClassName(a)),i}if(j.qsa&&(!A||!A.test(e))){if(h=c=O,f=t,g=9===o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(d=u(e),(c=t.getAttribute("id"))?h=c.replace(xe,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=d.length;l--;)d[l]=h+p(d[l]);f=pe.test(e)&&t.parentNode||t,g=d.join(",")}if(g)try{return ee.apply(i,f.querySelectorAll(g)),i}catch(m){}finally{c||t.removeAttribute("id")}}}return _(e.replace(ce,"$1"),t,i,s)}function s(){function e(i,s){return t.push(i+=" ")>D.cacheLength&&delete e[t.shift()],e[i]=s}var t=[];return e}function r(e){return e[O]=!0,e}function n(e){var t=P.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var i=e.split("|"),s=e.length;s--;)D.attrHandle[i[s]]=t}function o(e,t){var i=t&&e,s=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(s)return s;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function l(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function d(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function c(e){return r(function(t){return t=+t,r(function(i,s){for(var r,n=e([],i.length,t),a=n.length;a--;)i[r=n[a]]&&(i[r]=!(s[r]=i[r]))})})}function h(){}function u(e,t){var s,r,n,a,o,l,d,c=B[e+" "];if(c)return t?0:c.slice(0);for(o=e,l=[],d=D.preFilter;o;){(!s||(r=he.exec(o)))&&(r&&(o=o.slice(r[0].length)||o),l.push(n=[])),s=!1,(r=ue.exec(o))&&(s=r.shift(),n.push({value:s,type:r[0].replace(ce," ")}),o=o.slice(s.length));for(a in D.filter)!(r=ve[a].exec(o))||d[a]&&!(r=d[a](r))||(s=r.shift(),n.push({value:s,type:a,matches:r}),o=o.slice(s.length));if(!s)break}return t?o.length:o?i.error(e):B(e,l).slice(0)}function p(e){for(var t=0,i=e.length,s="";i>t;t++)s+=e[t].value;return s}function f(e,t,i){var s=t.dir,r=i&&"parentNode"===s,n=L++;return t.first?function(t,i,n){for(;t=t[s];)if(1===t.nodeType||r)return e(t,i,n)}:function(t,i,a){var o,l,d,c=z+" "+n;if(a){for(;t=t[s];)if((1===t.nodeType||r)&&e(t,i,a))return!0}else for(;t=t[s];)if(1===t.nodeType||r)if(d=t[O]||(t[O]={}),(l=d[s])&&l[0]===c){if((o=l[1])===!0||o===C)return o===!0}else if(l=d[s]=[c],l[1]=e(t,i,a)||C,l[1]===!0)return!0}}function g(e){return e.length>1?function(t,i,s){for(var r=e.length;r--;)if(!e[r](t,i,s))return!1;return!0}:e[0]}function m(e,t,i,s,r){for(var n,a=[],o=0,l=e.length,d=null!=t;l>o;o++)(n=e[o])&&(!i||i(n,s,r))&&(a.push(n),d&&t.push(o));return a}function v(e,t,i,s,n,a){return s&&!s[O]&&(s=v(s)),n&&!n[O]&&(n=v(n,a)),r(function(r,a,o,l){var d,c,h,u=[],p=[],f=a.length,g=r||w(t||"*",o.nodeType?[o]:o,[]),v=!e||!r&&t?g:m(g,u,e,o,l),b=i?n||(r?e:f||s)?[]:a:v;if(i&&i(v,b,o,l),s)for(d=m(b,p),s(d,[],o,l),c=d.length;c--;)(h=d[c])&&(b[p[c]]=!(v[p[c]]=h));if(r){if(n||e){if(n){for(d=[],c=b.length;c--;)(h=b[c])&&d.push(v[c]=h);n(null,b=[],d,l)}for(c=b.length;c--;)(h=b[c])&&(d=n?ie.call(r,h):u[c])>-1&&(r[d]=!(a[d]=h))}}else b=m(b===a?b.splice(f,b.length):b),n?n(null,a,b,l):ee.apply(a,b)})}function b(e){for(var t,i,s,r=e.length,n=D.relative[e[0].type],a=n||D.relative[" "],o=n?1:0,l=f(function(e){return e===t},a,!0),d=f(function(e){return ie.call(t,e)>-1},a,!0),c=[function(e,i,s){return!n&&(s||i!==T)||((t=i).nodeType?l(e,i,s):d(e,i,s))}];r>o;o++)if(i=D.relative[e[o].type])c=[f(g(c),i)];else{if(i=D.filter[e[o].type].apply(null,e[o].matches),i[O]){for(s=++o;r>s&&!D.relative[e[s].type];s++);return v(o>1&&g(c),o>1&&p(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(ce,"$1"),i,s>o&&b(e.slice(o,s)),r>s&&b(e=e.slice(s)),r>s&&p(e))}c.push(i)}return g(c)}function y(e,t){var s=0,n=t.length>0,a=e.length>0,o=function(r,o,l,d,c){var h,u,p,f=[],g=0,v="0",b=r&&[],y=null!=c,w=T,_=r||a&&D.find.TAG("*",c&&o.parentNode||o),x=z+=null==w?1:Math.random()||.1;for(y&&(T=o!==P&&o,C=s);null!=(h=_[v]);v++){if(a&&h){for(u=0;p=e[u++];)if(p(h,o,l)){d.push(h);break}y&&(z=x,C=++s)}n&&((h=!p&&h)&&g--,r&&b.push(h))}if(g+=v,n&&v!==g){for(u=0;p=t[u++];)p(b,f,o,l);if(r){if(g>0)for(;v--;)b[v]||f[v]||(f[v]=K.call(d));f=m(f)}ee.apply(d,f),y&&!r&&f.length>0&&g+t.length>1&&i.uniqueSort(d)}return y&&(z=x,T=w),b};return n?r(o):o}function w(e,t,s){for(var r=0,n=t.length;n>r;r++)i(e,t[r],s);return s}function _(e,t,i,s){var r,n,a,o,l,d=u(e);if(!s&&1===d.length){if(n=d[0]=d[0].slice(0),n.length>2&&"ID"===(a=n[0]).type&&j.getById&&9===t.nodeType&&N&&D.relative[n[1].type]){if(t=(D.find.ID(a.matches[0].replace(je,Ce),t)||[])[0],!t)return i;e=e.slice(n.shift().value.length)}for(r=ve.needsContext.test(e)?0:n.length;r--&&(a=n[r],!D.relative[o=a.type]);)if((l=D.find[o])&&(s=l(a.matches[0].replace(je,Ce),pe.test(n[0].type)&&t.parentNode||t))){if(n.splice(r,1),e=s.length&&p(n),!e)return ee.apply(i,s),i;break}}return I(e,d)(s,t,!N,i,pe.test(e)),i}var x,j,C,D,S,q,I,T,F,k,P,E,N,A,R,M,G,O="sizzle"+-new Date,H=e.document,z=0,L=0,W=s(),B=s(),V=s(),U=!1,$=function(e,t){return e===t?(U=!0,0):0},X=typeof t,Y=1<<31,Q={}.hasOwnProperty,J=[],K=J.pop,Z=J.push,ee=J.push,te=J.slice,ie=J.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},se="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ae="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=ae.replace("w","w#"),le="\\["+re+"*("+ae+")"+re+"*(?:([*^$|!~]?=)"+re+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+oe+")|)|)"+re+"*\\]",de=":("+ae+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+le.replace(3,8)+")*)|.*)\\)|)",ce=RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),he=RegExp("^"+re+"*,"+re+"*"),ue=RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),pe=RegExp(re+"*[+~]"),fe=RegExp("="+re+"*([^\\]'\"]*)"+re+"*\\]","g"),ge=RegExp(de),me=RegExp("^"+oe+"$"),ve={ID:RegExp("^#("+ae+")"),CLASS:RegExp("^\\.("+ae+")"),TAG:RegExp("^("+ae.replace("w","w*")+")"),ATTR:RegExp("^"+le),PSEUDO:RegExp("^"+de),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:RegExp("^(?:"+se+")$","i"),needsContext:RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},be=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,we=/^(?:input|select|textarea|button)$/i,_e=/^h\d$/i,xe=/'|\\/g,je=RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),Ce=function(e,t,i){var s="0x"+t-65536;return s!==s||i?t:0>s?String.fromCharCode(s+65536):String.fromCharCode(55296|s>>10,56320|1023&s)};try{ee.apply(J=te.call(H.childNodes),H.childNodes),J[H.childNodes.length].nodeType}catch(De){ee={apply:J.length?function(e,t){Z.apply(e,te.call(t))}:function(e,t){for(var i=e.length,s=0;e[i++]=t[s++];);e.length=i-1}}}q=i.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},j=i.support={},k=i.setDocument=function(e){var i=e?e.ownerDocument||e:H,s=i.defaultView;return i!==P&&9===i.nodeType&&i.documentElement?(P=i,E=i.documentElement,N=!q(i),s&&s.attachEvent&&s!==s.top&&s.attachEvent("onbeforeunload",function(){k()}),j.attributes=n(function(e){return e.className="i",!e.getAttribute("className")}),j.getElementsByTagName=n(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),j.getElementsByClassName=n(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),j.getById=n(function(e){return E.appendChild(e).id=O,!i.getElementsByName||!i.getElementsByName(O).length}),j.getById?(D.find.ID=function(e,t){if(typeof t.getElementById!==X&&N){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},D.filter.ID=function(e){var t=e.replace(je,Ce);return function(e){return e.getAttribute("id")===t}}):(delete D.find.ID,D.filter.ID=function(e){var t=e.replace(je,Ce);return function(e){var i=typeof e.getAttributeNode!==X&&e.getAttributeNode("id");return i&&i.value===t}}),D.find.TAG=j.getElementsByTagName?function(e,i){return typeof i.getElementsByTagName!==X?i.getElementsByTagName(e):t}:function(e,t){var i,s=[],r=0,n=t.getElementsByTagName(e);if("*"===e){for(;i=n[r++];)1===i.nodeType&&s.push(i);return s}return n},D.find.CLASS=j.getElementsByClassName&&function(e,i){return typeof i.getElementsByClassName!==X&&N?i.getElementsByClassName(e):t},R=[],A=[],(j.qsa=be.test(i.querySelectorAll))&&(n(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||A.push("\\["+re+"*(?:value|"+se+")"),e.querySelectorAll(":checked").length||A.push(":checked")}),n(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&A.push("[*^$]="+re+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||A.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),A.push(",.*:")})),(j.matchesSelector=be.test(M=E.webkitMatchesSelector||E.mozMatchesSelector||E.oMatchesSelector||E.msMatchesSelector))&&n(function(e){j.disconnectedMatch=M.call(e,"div"),M.call(e,"[s!='']:x"),R.push("!=",de)}),A=A.length&&RegExp(A.join("|")),R=R.length&&RegExp(R.join("|")),G=be.test(E.contains)||E.compareDocumentPosition?function(e,t){var i=9===e.nodeType?e.documentElement:e,s=t&&t.parentNode;return e===s||!(!s||1!==s.nodeType||!(i.contains?i.contains(s):e.compareDocumentPosition&&16&e.compareDocumentPosition(s)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=E.compareDocumentPosition?function(e,t){if(e===t)return U=!0,0;var s=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return s?1&s||!j.sortDetached&&t.compareDocumentPosition(e)===s?e===i||G(H,e)?-1:t===i||G(H,t)?1:F?ie.call(F,e)-ie.call(F,t):0:4&s?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var s,r=0,n=e.parentNode,a=t.parentNode,l=[e],d=[t];if(e===t)return U=!0,0;if(!n||!a)return e===i?-1:t===i?1:n?-1:a?1:F?ie.call(F,e)-ie.call(F,t):0;if(n===a)return o(e,t);for(s=e;s=s.parentNode;)l.unshift(s);for(s=t;s=s.parentNode;)d.unshift(s);for(;l[r]===d[r];)r++;return r?o(l[r],d[r]):l[r]===H?-1:d[r]===H?1:0},i):P},i.matches=function(e,t){return i(e,null,null,t)},i.matchesSelector=function(e,t){if((e.ownerDocument||e)!==P&&k(e),t=t.replace(fe,"='$1']"),!(!j.matchesSelector||!N||R&&R.test(t)||A&&A.test(t)))try{var s=M.call(e,t);if(s||j.disconnectedMatch||e.document&&11!==e.document.nodeType)return s}catch(r){}return i(t,P,null,[e]).length>0},i.contains=function(e,t){return(e.ownerDocument||e)!==P&&k(e),G(e,t)},i.attr=function(e,i){(e.ownerDocument||e)!==P&&k(e);var s=D.attrHandle[i.toLowerCase()],r=s&&Q.call(D.attrHandle,i.toLowerCase())?s(e,i,!N):t;return r===t?j.attributes||!N?e.getAttribute(i):(r=e.getAttributeNode(i))&&r.specified?r.value:null:r},i.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},i.uniqueSort=function(e){var t,i=[],s=0,r=0;if(U=!j.detectDuplicates,F=!j.sortStable&&e.slice(0),e.sort($),U){for(;t=e[r++];)t===e[r]&&(s=i.push(r));for(;s--;)e.splice(i[s],1)}return e},S=i.getText=function(e){var t,i="",s=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=S(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[s];s++)i+=S(t);return i},D=i.selectors={cacheLength:50,createPseudo:r,match:ve,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(je,Ce),e[3]=(e[4]||e[5]||"").replace(je,Ce),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||i.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&i.error(e[0]),e},PSEUDO:function(e){var i,s=!e[5]&&e[2];return ve.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:s&&ge.test(s)&&(i=u(s,!0))&&(i=s.indexOf(")",s.length-i)-s.length)&&(e[0]=e[0].slice(0,i),e[2]=s.slice(0,i)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(je,Ce).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=RegExp("(^|"+re+")"+e+"("+re+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==X&&e.getAttribute("class")||"")})},ATTR:function(e,t,s){return function(r){var n=i.attr(r,e);return null==n?"!="===t:t?(n+="","="===t?n===s:"!="===t?n!==s:"^="===t?s&&0===n.indexOf(s):"*="===t?s&&n.indexOf(s)>-1:"$="===t?s&&n.slice(-s.length)===s:"~="===t?(" "+n+" ").indexOf(s)>-1:"|="===t?n===s||n.slice(0,s.length+1)===s+"-":!1):!0}},CHILD:function(e,t,i,s,r){var n="nth"!==e.slice(0,3),a="last"!==e.slice(-4),o="of-type"===t;return 1===s&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var d,c,h,u,p,f,g=n!==a?"nextSibling":"previousSibling",m=t.parentNode,v=o&&t.nodeName.toLowerCase(),b=!l&&!o;if(m){if(n){for(;g;){for(h=t;h=h[g];)if(o?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&b){for(c=m[O]||(m[O]={}),d=c[e]||[],p=d[0]===z&&d[1],u=d[0]===z&&d[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(u=p=0)||f.pop();)if(1===h.nodeType&&++u&&h===t){c[e]=[z,p,u];break}}else if(b&&(d=(t[O]||(t[O]={}))[e])&&d[0]===z)u=d[1];else for(;(h=++p&&h&&h[g]||(u=p=0)||f.pop())&&((o?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++u||(b&&((h[O]||(h[O]={}))[e]=[z,u]),h!==t)););return u-=r,u===s||0===u%s&&u/s>=0}}},PSEUDO:function(e,t){var s,n=D.pseudos[e]||D.setFilters[e.toLowerCase()]||i.error("unsupported pseudo: "+e);return n[O]?n(t):n.length>1?(s=[e,e,"",t],D.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,i){for(var s,r=n(e,t),a=r.length;a--;)s=ie.call(e,r[a]),e[s]=!(i[s]=r[a])}):function(e){return n(e,0,s)}):n}},pseudos:{not:r(function(e){var t=[],i=[],s=I(e.replace(ce,"$1"));return s[O]?r(function(e,t,i,r){for(var n,a=s(e,null,r,[]),o=e.length;o--;)(n=a[o])&&(e[o]=!(t[o]=n))}):function(e,r,n){return t[0]=e,s(t,null,n,i),!i.pop()}}),has:r(function(e){return function(t){return i(e,t).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:r(function(e){return me.test(e||"")||i.error("unsupported lang: "+e),e=e.replace(je,Ce).toLowerCase(),function(t){var i;do if(i=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id;
},root:function(e){return e===E},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!D.pseudos.empty(e)},header:function(e){return _e.test(e.nodeName)},input:function(e){return we.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,i){return[0>i?i+t:i]}),even:c(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:c(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:c(function(e,t,i){for(var s=0>i?i+t:i;--s>=0;)e.push(s);return e}),gt:c(function(e,t,i){for(var s=0>i?i+t:i;t>++s;)e.push(s);return e})}},D.pseudos.nth=D.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})D.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})D.pseudos[x]=d(x);h.prototype=D.filters=D.pseudos,D.setFilters=new h,I=i.compile=function(e,t){var i,s=[],r=[],n=V[e+" "];if(!n){for(t||(t=u(e)),i=t.length;i--;)n=b(t[i]),n[O]?s.push(n):r.push(n);n=V(e,y(r,s))}return n},j.sortStable=O.split("").sort($).join("")===O,j.detectDuplicates=U,k(),j.sortDetached=n(function(e){return 1&e.compareDocumentPosition(P.createElement("div"))}),n(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,i,s){return s?t:e.getAttribute(i,"type"===i.toLowerCase()?1:2)}),j.attributes&&n(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,i,s){return s||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),n(function(e){return null==e.getAttribute("disabled")})||a(se,function(e,i,s){var r;return s?t:(r=e.getAttributeNode(i))&&r.specified?r.value:e[i]===!0?i.toLowerCase():null}),ne.find=i,ne.expr=i.selectors,ne.expr[":"]=ne.expr.pseudos,ne.unique=i.uniqueSort,ne.text=i.getText,ne.isXMLDoc=i.isXML,ne.contains=i.contains}(e);var fe={};ne.Callbacks=function(e){e="string"==typeof e?fe[e]||s(e):ne.extend({},e);var i,r,n,a,o,l,d=[],c=!e.once&&[],h=function(t){for(i=e.memory&&t,r=!0,l=a||0,a=0,o=d.length,n=!0;d&&o>l;l++)if(d[l].apply(t[0],t[1])===!1&&e.stopOnFalse){i=!1;break}n=!1,d&&(c?c.length&&h(c.shift()):i?d=[]:u.disable())},u={add:function(){if(d){var t=d.length;!function s(t){ne.each(t,function(t,i){var r=ne.type(i);"function"===r?e.unique&&u.has(i)||d.push(i):i&&i.length&&"string"!==r&&s(i)})}(arguments),n?o=d.length:i&&(a=t,h(i))}return this},remove:function(){return d&&ne.each(arguments,function(e,t){for(var i;(i=ne.inArray(t,d,i))>-1;)d.splice(i,1),n&&(o>=i&&o--,l>=i&&l--)}),this},has:function(e){return e?ne.inArray(e,d)>-1:!(!d||!d.length)},empty:function(){return d=[],o=0,this},disable:function(){return d=c=i=t,this},disabled:function(){return!d},lock:function(){return c=t,i||u.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!d||r&&!c||(t=t||[],t=[e,t.slice?t.slice():t],n?c.push(t):h(t)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},ne.extend({Deferred:function(e){var t=[["resolve","done",ne.Callbacks("once memory"),"resolved"],["reject","fail",ne.Callbacks("once memory"),"rejected"],["notify","progress",ne.Callbacks("memory")]],i="pending",s={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ne.Deferred(function(i){ne.each(t,function(t,n){var a=n[0],o=ne.isFunction(e[t])&&e[t];r[n[1]](function(){var e=o&&o.apply(this,arguments);e&&ne.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[a+"With"](this===s?i.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ne.extend(e,s):s}},r={};return s.pipe=s.then,ne.each(t,function(e,n){var a=n[2],o=n[3];s[n[1]]=a.add,o&&a.add(function(){i=o},t[1^e][2].disable,t[2][2].lock),r[n[0]]=function(){return r[n[0]+"With"](this===r?s:this,arguments),this},r[n[0]+"With"]=a.fireWith}),s.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,s,r=0,n=ee.call(arguments),a=n.length,o=1!==a||e&&ne.isFunction(e.promise)?a:0,l=1===o?e:ne.Deferred(),d=function(e,i,s){return function(r){i[e]=this,s[e]=arguments.length>1?ee.call(arguments):r,s===t?l.notifyWith(i,s):--o||l.resolveWith(i,s)}};if(a>1)for(t=Array(a),i=Array(a),s=Array(a);a>r;r++)n[r]&&ne.isFunction(n[r].promise)?n[r].promise().done(d(r,s,n)).fail(l.reject).progress(d(r,i,t)):--o;return o||l.resolveWith(s,n),l.promise()}}),ne.support=function(t){var i=V.createElement("input"),s=V.createDocumentFragment(),r=V.createElement("div"),n=V.createElement("select"),a=n.appendChild(V.createElement("option"));return i.type?(i.type="checkbox",t.checkOn=""!==i.value,t.optSelected=a.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,i.checked=!0,t.noCloneChecked=i.cloneNode(!0).checked,n.disabled=!0,t.optDisabled=!a.disabled,i=V.createElement("input"),i.value="t",i.type="radio",t.radioValue="t"===i.value,i.setAttribute("checked","t"),i.setAttribute("name","t"),s.appendChild(i),t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin"in e,r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===r.style.backgroundClip,ne(function(){var i,s,n="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",a=V.getElementsByTagName("body")[0];a&&(i=V.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(i).appendChild(r),r.innerHTML="",r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",ne.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===r.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(r,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(r,null)||{width:"4px"}).width,s=r.appendChild(V.createElement("div")),s.style.cssText=r.style.cssText=n,s.style.marginRight=s.style.width="0",r.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(s,null)||{}).marginRight)),a.removeChild(i))}),t):t}({});var ge,me,ve=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,be=/([A-Z])/g;r.uid=1,r.accepts=function(e){return e.nodeType?1===e.nodeType||9===e.nodeType:!0},r.prototype={key:function(e){if(!r.accepts(e))return 0;var t={},i=e[this.expando];if(!i){i=r.uid++;try{t[this.expando]={value:i},Object.defineProperties(e,t)}catch(s){t[this.expando]=i,ne.extend(e,t)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,i){var s,r=this.key(e),n=this.cache[r];if("string"==typeof t)n[t]=i;else if(ne.isEmptyObject(n))ne.extend(this.cache[r],t);else for(s in t)n[s]=t[s];return n},get:function(e,i){var s=this.cache[this.key(e)];return i===t?s:s[i]},access:function(e,i,s){var r;return i===t||i&&"string"==typeof i&&s===t?(r=this.get(e,i),r!==t?r:this.get(e,ne.camelCase(i))):(this.set(e,i,s),s!==t?s:i)},remove:function(e,i){var s,r,n,a=this.key(e),o=this.cache[a];if(i===t)this.cache[a]={};else{ne.isArray(i)?r=i.concat(i.map(ne.camelCase)):(n=ne.camelCase(i),i in o?r=[i,n]:(r=n,r=r in o?[r]:r.match(oe)||[])),s=r.length;for(;s--;)delete o[r[s]]}},hasData:function(e){return!ne.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},ge=new r,me=new r,ne.extend({acceptData:r.accepts,hasData:function(e){return ge.hasData(e)||me.hasData(e)},data:function(e,t,i){return ge.access(e,t,i)},removeData:function(e,t){ge.remove(e,t)},_data:function(e,t,i){return me.access(e,t,i)},_removeData:function(e,t){me.remove(e,t)}}),ne.fn.extend({data:function(e,i){var s,r,a=this[0],o=0,l=null;if(e===t){if(this.length&&(l=ge.get(a),1===a.nodeType&&!me.get(a,"hasDataAttrs"))){for(s=a.attributes;s.length>o;o++)r=s[o].name,0===r.indexOf("data-")&&(r=ne.camelCase(r.slice(5)),n(a,r,l[r]));me.set(a,"hasDataAttrs",!0)}return l}return"object"==typeof e?this.each(function(){ge.set(this,e)}):ne.access(this,function(i){var s,r=ne.camelCase(e);if(a&&i===t){if(s=ge.get(a,e),s!==t)return s;if(s=ge.get(a,r),s!==t)return s;if(s=n(a,r,t),s!==t)return s}else this.each(function(){var s=ge.get(this,r);ge.set(this,r,i),-1!==e.indexOf("-")&&s!==t&&ge.set(this,e,i)})},null,i,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ge.remove(this,e)})}}),ne.extend({queue:function(e,i,s){var r;return e?(i=(i||"fx")+"queue",r=me.get(e,i),s&&(!r||ne.isArray(s)?r=me.access(e,i,ne.makeArray(s)):r.push(s)),r||[]):t},dequeue:function(e,t){t=t||"fx";var i=ne.queue(e,t),s=i.length,r=i.shift(),n=ne._queueHooks(e,t),a=function(){ne.dequeue(e,t)};"inprogress"===r&&(r=i.shift(),s--),r&&("fx"===t&&i.unshift("inprogress"),delete n.stop,r.call(e,a,n)),!s&&n&&n.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return me.get(e,i)||me.access(e,i,{empty:ne.Callbacks("once memory").add(function(){me.remove(e,[t+"queue",i])})})}}),ne.fn.extend({queue:function(e,i){var s=2;return"string"!=typeof e&&(i=e,e="fx",s--),s>arguments.length?ne.queue(this[0],e):i===t?this:this.each(function(){var t=ne.queue(this,e,i);ne._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ne.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ne.dequeue(this,e)})},delay:function(e,t){return e=ne.fx?ne.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var s=setTimeout(t,e);i.stop=function(){clearTimeout(s)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var s,r=1,n=ne.Deferred(),a=this,o=this.length,l=function(){--r||n.resolveWith(a,[a])};for("string"!=typeof e&&(i=e,e=t),e=e||"fx";o--;)s=me.get(a[o],e+"queueHooks"),s&&s.empty&&(r++,s.empty.add(l));return l(),n.promise(i)}});var ye,we,_e=/[\t\r\n\f]/g,xe=/\r/g,je=/^(?:input|select|textarea|button)$/i;ne.fn.extend({attr:function(e,t){return ne.access(this,ne.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ne.removeAttr(this,e)})},prop:function(e,t){return ne.access(this,ne.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ne.propFix[e]||e]})},addClass:function(e){var t,i,s,r,n,a=0,o=this.length,l="string"==typeof e&&e;if(ne.isFunction(e))return this.each(function(t){ne(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(oe)||[];o>a;a++)if(i=this[a],s=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(_e," "):" ")){for(n=0;r=t[n++];)0>s.indexOf(" "+r+" ")&&(s+=r+" ");i.className=ne.trim(s)}return this},removeClass:function(e){var t,i,s,r,n,a=0,o=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ne.isFunction(e))return this.each(function(t){ne(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(oe)||[];o>a;a++)if(i=this[a],s=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(_e," "):"")){for(n=0;r=t[n++];)for(;s.indexOf(" "+r+" ")>=0;)s=s.replace(" "+r+" "," ");i.className=e?ne.trim(s):""}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):ne.isFunction(e)?this.each(function(i){ne(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var t,s=0,r=ne(this),n=e.match(oe)||[];t=n[s++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(i===W||"boolean"===i)&&(this.className&&me.set(this,"__className__",this.className),this.className=this.className||e===!1?"":me.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,s=this.length;s>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(_e," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,s,r,n=this[0];return arguments.length?(r=ne.isFunction(e),this.each(function(s){var n;1===this.nodeType&&(n=r?e.call(this,s,ne(this).val()):e,null==n?n="":"number"==typeof n?n+="":ne.isArray(n)&&(n=ne.map(n,function(e){return null==e?"":e+""})),i=ne.valHooks[this.type]||ne.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,n,"value")!==t||(this.value=n))})):n?(i=ne.valHooks[n.type]||ne.valHooks[n.nodeName.toLowerCase()],i&&"get"in i&&(s=i.get(n,"value"))!==t?s:(s=n.value,"string"==typeof s?s.replace(xe,""):null==s?"":s)):void 0}}),ne.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,i,s=e.options,r=e.selectedIndex,n="select-one"===e.type||0>r,a=n?null:[],o=n?r+1:s.length,l=0>r?o:n?r:0;o>l;l++)if(i=s[l],!(!i.selected&&l!==r||(ne.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&ne.nodeName(i.parentNode,"optgroup"))){if(t=ne(i).val(),n)return t;a.push(t)}return a},set:function(e,t){for(var i,s,r=e.options,n=ne.makeArray(t),a=r.length;a--;)s=r[a],(s.selected=ne.inArray(ne(s).val(),n)>=0)&&(i=!0);return i||(e.selectedIndex=-1),n}}},attr:function(e,i,s){var r,n,a=e.nodeType;return e&&3!==a&&8!==a&&2!==a?typeof e.getAttribute===W?ne.prop(e,i,s):(1===a&&ne.isXMLDoc(e)||(i=i.toLowerCase(),r=ne.attrHooks[i]||(ne.expr.match.bool.test(i)?we:ye)),s===t?r&&"get"in r&&null!==(n=r.get(e,i))?n:(n=ne.find.attr(e,i),null==n?t:n):null!==s?r&&"set"in r&&(n=r.set(e,s,i))!==t?n:(e.setAttribute(i,s+""),s):(ne.removeAttr(e,i),t)):void 0},removeAttr:function(e,t){var i,s,r=0,n=t&&t.match(oe);if(n&&1===e.nodeType)for(;i=n[r++];)s=ne.propFix[i]||i,ne.expr.match.bool.test(i)&&(e[s]=!1),e.removeAttribute(i)},attrHooks:{type:{set:function(e,t){if(!ne.support.radioValue&&"radio"===t&&ne.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,i,s){var r,n,a,o=e.nodeType;return e&&3!==o&&8!==o&&2!==o?(a=1!==o||!ne.isXMLDoc(e),a&&(i=ne.propFix[i]||i,n=ne.propHooks[i]),s!==t?n&&"set"in n&&(r=n.set(e,s,i))!==t?r:e[i]=s:n&&"get"in n&&null!==(r=n.get(e,i))?r:e[i]):void 0},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||je.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),we={set:function(e,t,i){return t===!1?ne.removeAttr(e,i):e.setAttribute(i,i),i}},ne.each(ne.expr.match.bool.source.match(/\w+/g),function(e,i){var s=ne.expr.attrHandle[i]||ne.find.attr;ne.expr.attrHandle[i]=function(e,i,r){var n=ne.expr.attrHandle[i],a=r?t:(ne.expr.attrHandle[i]=t)!=s(e,i,r)?i.toLowerCase():null;return ne.expr.attrHandle[i]=n,a}}),ne.support.optSelected||(ne.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),ne.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ne.propFix[this.toLowerCase()]=this}),ne.each(["radio","checkbox"],function(){ne.valHooks[this]={set:function(e,i){return ne.isArray(i)?e.checked=ne.inArray(ne(e).val(),i)>=0:t}},ne.support.checkOn||(ne.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ce=/^key/,De=/^(?:mouse|contextmenu)|click/,Se=/^(?:focusinfocus|focusoutblur)$/,qe=/^([^.]*)(?:\.(.+)|)$/;ne.event={global:{},add:function(e,i,s,r,n){var a,o,l,d,c,h,u,p,f,g,m,v=me.get(e);if(v){for(s.handler&&(a=s,s=a.handler,n=a.selector),s.guid||(s.guid=ne.guid++),(d=v.events)||(d=v.events={}),(o=v.handle)||(o=v.handle=function(e){return typeof ne===W||e&&ne.event.triggered===e.type?t:ne.event.dispatch.apply(o.elem,arguments)},o.elem=e),i=(i||"").match(oe)||[""],c=i.length;c--;)l=qe.exec(i[c])||[],f=m=l[1],g=(l[2]||"").split(".").sort(),f&&(u=ne.event.special[f]||{},f=(n?u.delegateType:u.bindType)||f,u=ne.event.special[f]||{},h=ne.extend({type:f,origType:m,data:r,handler:s,guid:s.guid,selector:n,needsContext:n&&ne.expr.match.needsContext.test(n),namespace:g.join(".")},a),(p=d[f])||(p=d[f]=[],p.delegateCount=0,u.setup&&u.setup.call(e,r,g,o)!==!1||e.addEventListener&&e.addEventListener(f,o,!1)),u.add&&(u.add.call(e,h),h.handler.guid||(h.handler.guid=s.guid)),n?p.splice(p.delegateCount++,0,h):p.push(h),ne.event.global[f]=!0);e=null}},remove:function(e,t,i,s,r){var n,a,o,l,d,c,h,u,p,f,g,m=me.hasData(e)&&me.get(e);if(m&&(l=m.events)){for(t=(t||"").match(oe)||[""],d=t.length;d--;)if(o=qe.exec(t[d])||[],p=g=o[1],f=(o[2]||"").split(".").sort(),p){for(h=ne.event.special[p]||{},p=(s?h.delegateType:h.bindType)||p,u=l[p]||[],o=o[2]&&RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=n=u.length;n--;)c=u[n],!r&&g!==c.origType||i&&i.guid!==c.guid||o&&!o.test(c.namespace)||s&&s!==c.selector&&("**"!==s||!c.selector)||(u.splice(n,1),c.selector&&u.delegateCount--,h.remove&&h.remove.call(e,c));a&&!u.length&&(h.teardown&&h.teardown.call(e,f,m.handle)!==!1||ne.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)ne.event.remove(e,p+t[d],i,s,!0);ne.isEmptyObject(l)&&(delete m.handle,me.remove(e,"events"))}},trigger:function(i,s,r,n){var a,o,l,d,c,h,u,p=[r||V],f=se.call(i,"type")?i.type:i,g=se.call(i,"namespace")?i.namespace.split("."):[];if(o=l=r=r||V,3!==r.nodeType&&8!==r.nodeType&&!Se.test(f+ne.event.triggered)&&(f.indexOf(".")>=0&&(g=f.split("."),f=g.shift(),g.sort()),c=0>f.indexOf(":")&&"on"+f,i=i[ne.expando]?i:new ne.Event(f,"object"==typeof i&&i),i.isTrigger=n?2:3,i.namespace=g.join("."),i.namespace_re=i.namespace?RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=t,i.target||(i.target=r),s=null==s?[i]:ne.makeArray(s,[i]),u=ne.event.special[f]||{},n||!u.trigger||u.trigger.apply(r,s)!==!1)){if(!n&&!u.noBubble&&!ne.isWindow(r)){for(d=u.delegateType||f,Se.test(d+f)||(o=o.parentNode);o;o=o.parentNode)p.push(o),l=o;l===(r.ownerDocument||V)&&p.push(l.defaultView||l.parentWindow||e)}for(a=0;(o=p[a++])&&!i.isPropagationStopped();)i.type=a>1?d:u.bindType||f,h=(me.get(o,"events")||{})[i.type]&&me.get(o,"handle"),h&&h.apply(o,s),h=c&&o[c],h&&ne.acceptData(o)&&h.apply&&h.apply(o,s)===!1&&i.preventDefault();return i.type=f,n||i.isDefaultPrevented()||u._default&&u._default.apply(p.pop(),s)!==!1||!ne.acceptData(r)||c&&ne.isFunction(r[f])&&!ne.isWindow(r)&&(l=r[c],l&&(r[c]=null),ne.event.triggered=f,r[f](),ne.event.triggered=t,l&&(r[c]=l)),i.result}},dispatch:function(e){e=ne.event.fix(e);var i,s,r,n,a,o=[],l=ee.call(arguments),d=(me.get(this,"events")||{})[e.type]||[],c=ne.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(o=ne.event.handlers.call(this,e,d),i=0;(n=o[i++])&&!e.isPropagationStopped();)for(e.currentTarget=n.elem,s=0;(a=n.handlers[s++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(a.namespace))&&(e.handleObj=a,e.data=a.data,r=((ne.event.special[a.origType]||{}).handle||a.handler).apply(n.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,i){var s,r,n,a,o=[],l=i.delegateCount,d=e.target;if(l&&d.nodeType&&(!e.button||"click"!==e.type))for(;d!==this;d=d.parentNode||this)if(d.disabled!==!0||"click"!==e.type){for(r=[],s=0;l>s;s++)a=i[s],n=a.selector+" ",r[n]===t&&(r[n]=a.needsContext?ne(n,this).index(d)>=0:ne.find(n,this,null,[d]).length),r[n]&&r.push(a);r.length&&o.push({elem:d,handlers:r})}return i.length>l&&o.push({elem:this,handlers:i.slice(l)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var s,r,n,a=i.button;return null==e.pageX&&null!=i.clientX&&(s=e.target.ownerDocument||V,r=s.documentElement,n=s.body,e.pageX=i.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=i.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[ne.expando])return e;var t,i,s,r=e.type,n=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=De.test(r)?this.mouseHooks:Ce.test(r)?this.keyHooks:{}),s=a.props?this.props.concat(a.props):this.props,e=new ne.Event(n),t=s.length;t--;)i=s[t],e[i]=n[i];return e.target||(e.target=V),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,n):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):t},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ne.nodeName(this,"input")?(this.click(),!1):t},_default:function(e){return ne.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,s){var r=ne.extend(new ne.Event,i,{type:e,isSimulated:!0,originalEvent:{}});s?ne.event.trigger(r,null,t):ne.event.dispatch.call(t,r),r.isDefaultPrevented()&&i.preventDefault()}},ne.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)},ne.Event=function(e,i){return this instanceof ne.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?a:o):this.type=e,i&&ne.extend(this,i),this.timeStamp=e&&e.timeStamp||ne.now(),this[ne.expando]=!0,t):new ne.Event(e,i)},ne.Event.prototype={isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=a,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=a,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.stopPropagation()}},ne.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ne.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,s=this,r=e.relatedTarget,n=e.handleObj;return(!r||r!==s&&!ne.contains(s,r))&&(e.type=n.origType,i=n.handler.apply(this,arguments),e.type=t),i}}}),ne.support.focusinBubbles||ne.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,s=function(e){ne.event.simulate(t,e.target,ne.event.fix(e),!0)};ne.event.special[t]={setup:function(){0===i++&&V.addEventListener(e,s,!0)},teardown:function(){0===--i&&V.removeEventListener(e,s,!0)}}}),ne.fn.extend({on:function(e,i,s,r,n){var a,l;if("object"==typeof e){"string"!=typeof i&&(s=s||i,i=t);for(l in e)this.on(l,i,s,e[l],n);return this}if(null==s&&null==r?(r=i,s=i=t):null==r&&("string"==typeof i?(r=s,s=t):(r=s,s=i,i=t)),r===!1)r=o;else if(!r)return this;return 1===n&&(a=r,r=function(e){return ne().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=ne.guid++)),this.each(function(){ne.event.add(this,e,r,s,i)})},one:function(e,t,i,s){return this.on(e,t,i,s,1)},off:function(e,i,s){var r,n;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ne(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(n in e)this.off(n,i,e[n]);return this}return(i===!1||"function"==typeof i)&&(s=i,i=t),s===!1&&(s=o),this.each(function(){ne.event.remove(this,e,s,i)})},trigger:function(e,t){return this.each(function(){ne.event.trigger(e,t,this)})},triggerHandler:function(e,i){var s=this[0];return s?ne.event.trigger(e,i,s,!0):t}});var Ie=/^.[^:#\[\.,]*$/,Te=/^(?:parents|prev(?:Until|All))/,Fe=ne.expr.match.needsContext,ke={children:!0,contents:!0,next:!0,prev:!0};ne.fn.extend({find:function(e){var t,i=[],s=this,r=s.length;if("string"!=typeof e)return this.pushStack(ne(e).filter(function(){for(t=0;r>t;t++)if(ne.contains(s[t],this))return!0}));for(t=0;r>t;t++)ne.find(e,s[t],i);return i=this.pushStack(r>1?ne.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},has:function(e){var t=ne(e,this),i=t.length;return this.filter(function(){for(var e=0;i>e;e++)if(ne.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(c(this,e||[],!0))},filter:function(e){return this.pushStack(c(this,e||[],!1))},is:function(e){return!!c(this,"string"==typeof e&&Fe.test(e)?ne(e):e||[],!1).length},closest:function(e,t){for(var i,s=0,r=this.length,n=[],a=Fe.test(e)||"string"!=typeof e?ne(e,t||this.context):0;r>s;s++)for(i=this[s];i&&i!==t;i=i.parentNode)if(11>i.nodeType&&(a?a.index(i)>-1:1===i.nodeType&&ne.find.matchesSelector(i,e))){i=n.push(i);break}return this.pushStack(n.length>1?ne.unique(n):n)},index:function(e){return e?"string"==typeof e?te.call(ne(e),this[0]):te.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var i="string"==typeof e?ne(e,t):ne.makeArray(e&&e.nodeType?[e]:e),s=ne.merge(this.get(),i);return this.pushStack(ne.unique(s))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ne.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ne.dir(e,"parentNode")},parentsUntil:function(e,t,i){return ne.dir(e,"parentNode",i)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return ne.dir(e,"nextSibling")},prevAll:function(e){return ne.dir(e,"previousSibling")},nextUntil:function(e,t,i){return ne.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return ne.dir(e,"previousSibling",i)},siblings:function(e){return ne.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ne.sibling(e.firstChild)},contents:function(e){return e.contentDocument||ne.merge([],e.childNodes)}},function(e,t){ne.fn[e]=function(i,s){var r=ne.map(this,t,i);return"Until"!==e.slice(-5)&&(s=i),s&&"string"==typeof s&&(r=ne.filter(s,r)),this.length>1&&(ke[e]||ne.unique(r),Te.test(e)&&r.reverse()),this.pushStack(r)}}),ne.extend({filter:function(e,t,i){var s=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===s.nodeType?ne.find.matchesSelector(s,e)?[s]:[]:ne.find.matches(e,ne.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,i,s){for(var r=[],n=s!==t;(e=e[i])&&9!==e.nodeType;)if(1===e.nodeType){if(n&&ne(e).is(s))break;r.push(e)}return r},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var Pe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ee=/<([\w:]+)/,Ne=/<|&#?\w+;/,Ae=/<(?:script|style|link)/i,Re=/^(?:checkbox|radio)$/i,Me=/checked\s*(?:[^=]|=\s*.checked.)/i,Ge=/^$|\/(?:java|ecma)script/i,Oe=/^true\/(.*)/,He=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ze={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ze.optgroup=ze.option,ze.tbody=ze.tfoot=ze.colgroup=ze.caption=ze.thead,ze.th=ze.td,ne.fn.extend({text:function(e){return ne.access(this,function(e){return e===t?ne.text(this):this.empty().append((this[0]&&this[0].ownerDocument||V).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,s=e?ne.filter(e,this):this,r=0;null!=(i=s[r]);r++)t||1!==i.nodeType||ne.cleanData(m(i)),i.parentNode&&(t&&ne.contains(i.ownerDocument,i)&&f(m(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ne.cleanData(m(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ne.clone(this,e,t)})},html:function(e){return ne.access(this,function(e){var i=this[0]||{},s=0,r=this.length;if(e===t&&1===i.nodeType)return i.innerHTML;if("string"==typeof e&&!Ae.test(e)&&!ze[(Ee.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Pe,"<$1></$2>");try{for(;r>s;s++)i=this[s]||{},1===i.nodeType&&(ne.cleanData(m(i,!1)),i.innerHTML=e);i=0}catch(n){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=ne.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(i){var s=e[t++],r=e[t++];r&&(s&&s.parentNode!==r&&(s=this.nextSibling),ne(this).remove(),r.insertBefore(i,s))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,i){e=K.apply([],e);var s,r,n,a,o,l,d=0,c=this.length,h=this,f=c-1,g=e[0],v=ne.isFunction(g);if(v||!(1>=c||"string"!=typeof g||ne.support.checkClone)&&Me.test(g))return this.each(function(s){var r=h.eq(s);v&&(e[0]=g.call(this,s,r.html())),r.domManip(e,t,i)});if(c&&(s=ne.buildFragment(e,this[0].ownerDocument,!1,!i&&this),r=s.firstChild,1===s.childNodes.length&&(s=r),r)){for(n=ne.map(m(s,"script"),u),a=n.length;c>d;d++)o=s,d!==f&&(o=ne.clone(o,!0,!0),a&&ne.merge(n,m(o,"script"))),t.call(this[d],o,d);if(a)for(l=n[n.length-1].ownerDocument,ne.map(n,p),d=0;a>d;d++)o=n[d],Ge.test(o.type||"")&&!me.access(o,"globalEval")&&ne.contains(l,o)&&(o.src?ne._evalUrl(o.src):ne.globalEval(o.textContent.replace(He,"")))}return this}}),ne.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ne.fn[e]=function(e){for(var i,s=[],r=ne(e),n=r.length-1,a=0;n>=a;a++)i=a===n?this:this.clone(!0),ne(r[a])[t](i),Z.apply(s,i.get());return this.pushStack(s)}}),ne.extend({clone:function(e,t,i){var s,r,n,a,o=e.cloneNode(!0),l=ne.contains(e.ownerDocument,e);if(!(ne.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ne.isXMLDoc(e)))for(a=m(o),n=m(e),s=0,r=n.length;r>s;s++)v(n[s],a[s]);if(t)if(i)for(n=n||m(e),a=a||m(o),s=0,r=n.length;r>s;s++)g(n[s],a[s]);else g(e,o);return a=m(o,"script"),a.length>0&&f(a,!l&&m(e,"script")),o},buildFragment:function(e,t,i,s){for(var r,n,a,o,l,d,c=0,h=e.length,u=t.createDocumentFragment(),p=[];h>c;c++)if(r=e[c],r||0===r)if("object"===ne.type(r))ne.merge(p,r.nodeType?[r]:r);else if(Ne.test(r)){for(n=n||u.appendChild(t.createElement("div")),a=(Ee.exec(r)||["",""])[1].toLowerCase(),o=ze[a]||ze._default,n.innerHTML=o[1]+r.replace(Pe,"<$1></$2>")+o[2],d=o[0];d--;)n=n.lastChild;ne.merge(p,n.childNodes),n=u.firstChild,n.textContent=""}else p.push(t.createTextNode(r));for(u.textContent="",c=0;r=p[c++];)if((!s||-1===ne.inArray(r,s))&&(l=ne.contains(r.ownerDocument,r),n=m(u.appendChild(r),"script"),l&&f(n),i))for(d=0;r=n[d++];)Ge.test(r.type||"")&&i.push(r);return u},cleanData:function(e){for(var i,s,n,a,o,l,d=ne.event.special,c=0;(s=e[c])!==t;c++){if(r.accepts(s)&&(o=s[me.expando],o&&(i=me.cache[o]))){if(n=Object.keys(i.events||{}),n.length)for(l=0;(a=n[l])!==t;l++)d[a]?ne.event.remove(s,a):ne.removeEvent(s,a,i.handle);
me.cache[o]&&delete me.cache[o]}delete ge.cache[s[ge.expando]]}},_evalUrl:function(e){return ne.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ne.fn.extend({wrapAll:function(e){var t;return ne.isFunction(e)?this.each(function(t){ne(this).wrapAll(e.call(this,t))}):(this[0]&&(t=ne(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return ne.isFunction(e)?this.each(function(t){ne(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ne(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=ne.isFunction(e);return this.each(function(i){ne(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){ne.nodeName(this,"body")||ne(this).replaceWith(this.childNodes)}).end()}});var Le,We,Be=/^(none|table(?!-c[ea]).+)/,Ve=/^margin/,Ue=RegExp("^("+ae+")(.*)$","i"),$e=RegExp("^("+ae+")(?!px)[a-z%]+$","i"),Xe=RegExp("^([+-])=("+ae+")","i"),Ye={BODY:"block"},Qe={position:"absolute",visibility:"hidden",display:"block"},Je={letterSpacing:0,fontWeight:400},Ke=["Top","Right","Bottom","Left"],Ze=["Webkit","O","Moz","ms"];ne.fn.extend({css:function(e,i){return ne.access(this,function(e,i,s){var r,n,a={},o=0;if(ne.isArray(i)){for(r=w(e),n=i.length;n>o;o++)a[i[o]]=ne.css(e,i[o],!1,r);return a}return s!==t?ne.style(e,i,s):ne.css(e,i)},e,i,arguments.length>1)},show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){y(this)?ne(this).show():ne(this).hide()})}}),ne.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Le(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,i,s,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,a,o,l=ne.camelCase(i),d=e.style;return i=ne.cssProps[l]||(ne.cssProps[l]=b(d,l)),o=ne.cssHooks[i]||ne.cssHooks[l],s===t?o&&"get"in o&&(n=o.get(e,!1,r))!==t?n:d[i]:(a=typeof s,"string"===a&&(n=Xe.exec(s))&&(s=(n[1]+1)*n[2]+parseFloat(ne.css(e,i)),a="number"),null==s||"number"===a&&isNaN(s)||("number"!==a||ne.cssNumber[l]||(s+="px"),ne.support.clearCloneStyle||""!==s||0!==i.indexOf("background")||(d[i]="inherit"),o&&"set"in o&&(s=o.set(e,s,r))===t||(d[i]=s)),t)}},css:function(e,i,s,r){var n,a,o,l=ne.camelCase(i);return i=ne.cssProps[l]||(ne.cssProps[l]=b(e.style,l)),o=ne.cssHooks[i]||ne.cssHooks[l],o&&"get"in o&&(n=o.get(e,!0,s)),n===t&&(n=Le(e,i,r)),"normal"===n&&i in Je&&(n=Je[i]),""===s||s?(a=parseFloat(n),s===!0||ne.isNumeric(a)?a||0:n):n}}),Le=function(e,i,s){var r,n,a,o=s||w(e),l=o?o.getPropertyValue(i)||o[i]:t,d=e.style;return o&&(""!==l||ne.contains(e.ownerDocument,e)||(l=ne.style(e,i)),$e.test(l)&&Ve.test(i)&&(r=d.width,n=d.minWidth,a=d.maxWidth,d.minWidth=d.maxWidth=d.width=l,l=o.width,d.width=r,d.minWidth=n,d.maxWidth=a)),l},ne.each(["height","width"],function(e,i){ne.cssHooks[i]={get:function(e,s,r){return s?0===e.offsetWidth&&Be.test(ne.css(e,"display"))?ne.swap(e,Qe,function(){return C(e,i,r)}):C(e,i,r):t},set:function(e,t,s){var r=s&&w(e);return x(e,t,s?j(e,i,s,ne.support.boxSizing&&"border-box"===ne.css(e,"boxSizing",!1,r),r):0)}}}),ne(function(){ne.support.reliableMarginRight||(ne.cssHooks.marginRight={get:function(e,i){return i?ne.swap(e,{display:"inline-block"},Le,[e,"marginRight"]):t}}),!ne.support.pixelPosition&&ne.fn.position&&ne.each(["top","left"],function(e,i){ne.cssHooks[i]={get:function(e,s){return s?(s=Le(e,i),$e.test(s)?ne(e).position()[i]+"px":s):t}}})}),ne.expr&&ne.expr.filters&&(ne.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight},ne.expr.filters.visible=function(e){return!ne.expr.filters.hidden(e)}),ne.each({margin:"",padding:"",border:"Width"},function(e,t){ne.cssHooks[e+t]={expand:function(i){for(var s=0,r={},n="string"==typeof i?i.split(" "):[i];4>s;s++)r[e+Ke[s]+t]=n[s]||n[s-2]||n[0];return r}},Ve.test(e)||(ne.cssHooks[e+t].set=x)});var et=/%20/g,tt=/\[\]$/,it=/\r?\n/g,st=/^(?:submit|button|image|reset|file)$/i,rt=/^(?:input|select|textarea|keygen)/i;ne.fn.extend({serialize:function(){return ne.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ne.prop(this,"elements");return e?ne.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ne(this).is(":disabled")&&rt.test(this.nodeName)&&!st.test(e)&&(this.checked||!Re.test(e))}).map(function(e,t){var i=ne(this).val();return null==i?null:ne.isArray(i)?ne.map(i,function(e){return{name:t.name,value:e.replace(it,"\r\n")}}):{name:t.name,value:i.replace(it,"\r\n")}}).get()}}),ne.param=function(e,i){var s,r=[],n=function(e,t){t=ne.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=ne.ajaxSettings&&ne.ajaxSettings.traditional),ne.isArray(e)||e.jquery&&!ne.isPlainObject(e))ne.each(e,function(){n(this.name,this.value)});else for(s in e)q(s,e[s],i,n);return r.join("&").replace(et,"+")},ne.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ne.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),ne.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,s){return this.on(t,e,i,s)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var nt,at,ot=ne.now(),lt=/\?/,dt=/#.*$/,ct=/([?&])_=[^&]*/,ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,ut=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pt=/^(?:GET|HEAD)$/,ft=/^\/\//,gt=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,mt=ne.fn.load,vt={},bt={},yt="*/".concat("*");try{at=B.href}catch(wt){at=V.createElement("a"),at.href="",at=at.href}nt=gt.exec(at.toLowerCase())||[],ne.fn.load=function(e,i,s){if("string"!=typeof e&&mt)return mt.apply(this,arguments);var r,n,a,o=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l),e=e.slice(0,l)),ne.isFunction(i)?(s=i,i=t):i&&"object"==typeof i&&(n="POST"),o.length>0&&ne.ajax({url:e,type:n,dataType:"html",data:i}).done(function(e){a=arguments,o.html(r?ne("<div>").append(ne.parseHTML(e)).find(r):e)}).complete(s&&function(e,t){o.each(s,a||[e.responseText,t,e])}),this},ne.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ne.fn[t]=function(e){return this.on(t,e)}}),ne.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:at,type:"GET",isLocal:ut.test(nt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":yt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ne.parseJSON,"text xml":ne.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?F(F(e,ne.ajaxSettings),t):F(ne.ajaxSettings,e)},ajaxPrefilter:I(vt),ajaxTransport:I(bt),ajax:function(e,i){function s(e,i,s,o){var d,h,b,y,_,j=i;2!==w&&(w=2,l&&clearTimeout(l),r=t,a=o||"",x.readyState=e>0?4:0,d=e>=200&&300>e||304===e,s&&(y=k(u,x,s)),y=P(u,y,x,d),d?(u.ifModified&&(_=x.getResponseHeader("Last-Modified"),_&&(ne.lastModified[n]=_),_=x.getResponseHeader("etag"),_&&(ne.etag[n]=_)),204===e||"HEAD"===u.type?j="nocontent":304===e?j="notmodified":(j=y.state,h=y.data,b=y.error,d=!b)):(b=j,(e||!j)&&(j="error",0>e&&(e=0))),x.status=e,x.statusText=(i||j)+"",d?g.resolveWith(p,[h,j,x]):g.rejectWith(p,[x,j,b]),x.statusCode(v),v=t,c&&f.trigger(d?"ajaxSuccess":"ajaxError",[x,u,d?h:b]),m.fireWith(p,[x,j]),c&&(f.trigger("ajaxComplete",[x,u]),--ne.active||ne.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=t),i=i||{};var r,n,a,o,l,d,c,h,u=ne.ajaxSetup({},i),p=u.context||u,f=u.context&&(p.nodeType||p.jquery)?ne(p):ne.event,g=ne.Deferred(),m=ne.Callbacks("once memory"),v=u.statusCode||{},b={},y={},w=0,_="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!o)for(o={};t=ht.exec(a);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return w||(e=y[i]=y[i]||e,b[e]=t),this},overrideMimeType:function(e){return w||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)v[t]=[v[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||_;return r&&r.abort(t),s(0,t),this}};if(g.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,u.url=((e||u.url||at)+"").replace(dt,"").replace(ft,nt[1]+"//"),u.type=i.method||i.type||u.method||u.type,u.dataTypes=ne.trim(u.dataType||"*").toLowerCase().match(oe)||[""],null==u.crossDomain&&(d=gt.exec(u.url.toLowerCase()),u.crossDomain=!(!d||d[1]===nt[1]&&d[2]===nt[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(nt[3]||("http:"===nt[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=ne.param(u.data,u.traditional)),T(vt,u,i,x),2===w)return x;c=u.global,c&&0===ne.active++&&ne.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!pt.test(u.type),n=u.url,u.hasContent||(u.data&&(n=u.url+=(lt.test(n)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=ct.test(n)?n.replace(ct,"$1_="+ot++):n+(lt.test(n)?"&":"?")+"_="+ot++)),u.ifModified&&(ne.lastModified[n]&&x.setRequestHeader("If-Modified-Since",ne.lastModified[n]),ne.etag[n]&&x.setRequestHeader("If-None-Match",ne.etag[n])),(u.data&&u.hasContent&&u.contentType!==!1||i.contentType)&&x.setRequestHeader("Content-Type",u.contentType),x.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+yt+"; q=0.01":""):u.accepts["*"]);for(h in u.headers)x.setRequestHeader(h,u.headers[h]);if(u.beforeSend&&(u.beforeSend.call(p,x,u)===!1||2===w))return x.abort();_="abort";for(h in{success:1,error:1,complete:1})x[h](u[h]);if(r=T(bt,u,i,x)){x.readyState=1,c&&f.trigger("ajaxSend",[x,u]),u.async&&u.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},u.timeout));try{w=1,r.send(b,s)}catch(j){if(!(2>w))throw j;s(-1,j)}}else s(-1,"No Transport");return x},getJSON:function(e,t,i){return ne.get(e,t,i,"json")},getScript:function(e,i){return ne.get(e,t,i,"script")}}),ne.each(["get","post"],function(e,i){ne[i]=function(e,s,r,n){return ne.isFunction(s)&&(n=n||r,r=s,s=t),ne.ajax({url:e,type:i,dataType:n,data:s,success:r})}}),ne.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ne.globalEval(e),e}}}),ne.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ne.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(s,r){t=ne("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&r("error"===e.type?404:200,e.type)}),V.head.appendChild(t[0])},abort:function(){i&&i()}}}});var _t=[],xt=/(=)\?(?=&|$)|\?\?/;ne.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=_t.pop()||ne.expando+"_"+ot++;return this[e]=!0,e}}),ne.ajaxPrefilter("json jsonp",function(i,s,r){var n,a,o,l=i.jsonp!==!1&&(xt.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&xt.test(i.data)&&"data");return l||"jsonp"===i.dataTypes[0]?(n=i.jsonpCallback=ne.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(xt,"$1"+n):i.jsonp!==!1&&(i.url+=(lt.test(i.url)?"&":"?")+i.jsonp+"="+n),i.converters["script json"]=function(){return o||ne.error(n+" was not called"),o[0]},i.dataTypes[0]="json",a=e[n],e[n]=function(){o=arguments},r.always(function(){e[n]=a,i[n]&&(i.jsonpCallback=s.jsonpCallback,_t.push(n)),o&&ne.isFunction(a)&&a(o[0]),o=a=t}),"script"):t}),ne.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var jt=ne.ajaxSettings.xhr(),Ct={0:200,1223:204},Dt=0,St={};e.ActiveXObject&&ne(e).on("unload",function(){for(var e in St)St[e]();St=t}),ne.support.cors=!!jt&&"withCredentials"in jt,ne.support.ajax=jt=!!jt,ne.ajaxTransport(function(e){var i;return ne.support.cors||jt&&!e.crossDomain?{send:function(s,r){var n,a,o=e.xhr();if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(n in e.xhrFields)o[n]=e.xhrFields[n];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");for(n in s)o.setRequestHeader(n,s[n]);i=function(e){return function(){i&&(delete St[a],i=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status||404,o.statusText):r(Ct[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:t,o.getAllResponseHeaders()))}},o.onload=i(),o.onerror=i("error"),i=St[a=Dt++]=i("abort"),o.send(e.hasContent&&e.data||null)},abort:function(){i&&i()}}:t});var qt,It,Tt=/^(?:toggle|show|hide)$/,Ft=RegExp("^(?:([+-])=|)("+ae+")([a-z%]*)$","i"),kt=/queueHooks$/,Pt=[M],Et={"*":[function(e,t){var i=this.createTween(e,t),s=i.cur(),r=Ft.exec(t),n=r&&r[3]||(ne.cssNumber[e]?"":"px"),a=(ne.cssNumber[e]||"px"!==n&&+s)&&Ft.exec(ne.css(i.elem,e)),o=1,l=20;if(a&&a[3]!==n){n=n||a[3],r=r||[],a=+s||1;do o=o||".5",a/=o,ne.style(i.elem,e,a+n);while(o!==(o=i.cur()/s)&&1!==o&&--l)}return r&&(a=i.start=+a||+s||0,i.unit=n,i.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),i}]};ne.Animation=ne.extend(A,{tweener:function(e,t){ne.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,s=0,r=e.length;r>s;s++)i=e[s],Et[i]=Et[i]||[],Et[i].unshift(t)},prefilter:function(e,t){t?Pt.unshift(e):Pt.push(e)}}),ne.Tween=G,G.prototype={constructor:G,init:function(e,t,i,s,r,n){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=s,this.unit=n||(ne.cssNumber[i]?"":"px")},cur:function(){var e=G.propHooks[this.prop];return e&&e.get?e.get(this):G.propHooks._default.get(this)},run:function(e){var t,i=G.propHooks[this.prop];return this.pos=t=this.options.duration?ne.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):G.propHooks._default.set(this),this}},G.prototype.init.prototype=G.prototype,G.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ne.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ne.fx.step[e.prop]?ne.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ne.cssProps[e.prop]]||ne.cssHooks[e.prop])?ne.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ne.each(["toggle","show","hide"],function(e,t){var i=ne.fn[t];ne.fn[t]=function(e,s,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(O(t,!0),e,s,r)}}),ne.fn.extend({fadeTo:function(e,t,i,s){return this.filter(y).css("opacity",0).show().end().animate({opacity:t},e,i,s)},animate:function(e,t,i,s){var r=ne.isEmptyObject(e),n=ne.speed(t,i,s),a=function(){var t=A(this,ne.extend({},e),n);(r||me.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||n.queue===!1?this.each(a):this.queue(n.queue,a)},stop:function(e,i,s){var r=function(e){var t=e.stop;delete e.stop,t(s)};return"string"!=typeof e&&(s=i,i=e,e=t),i&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",n=ne.timers,a=me.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&kt.test(i)&&r(a[i]);for(i=n.length;i--;)n[i].elem!==this||null!=e&&n[i].queue!==e||(n[i].anim.stop(s),t=!1,n.splice(i,1));(t||!s)&&ne.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=me.get(this),s=i[e+"queue"],r=i[e+"queueHooks"],n=ne.timers,a=s?s.length:0;for(i.finish=!0,ne.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=n.length;t--;)n[t].elem===this&&n[t].queue===e&&(n[t].anim.stop(!0),n.splice(t,1));for(t=0;a>t;t++)s[t]&&s[t].finish&&s[t].finish.call(this);delete i.finish})}}),ne.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ne.fn[e]=function(e,i,s){return this.animate(t,e,i,s)}}),ne.speed=function(e,t,i){var s=e&&"object"==typeof e?ne.extend({},e):{complete:i||!i&&t||ne.isFunction(e)&&e,duration:e,easing:i&&t||t&&!ne.isFunction(t)&&t};return s.duration=ne.fx.off?0:"number"==typeof s.duration?s.duration:s.duration in ne.fx.speeds?ne.fx.speeds[s.duration]:ne.fx.speeds._default,(null==s.queue||s.queue===!0)&&(s.queue="fx"),s.old=s.complete,s.complete=function(){ne.isFunction(s.old)&&s.old.call(this),s.queue&&ne.dequeue(this,s.queue)},s},ne.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ne.timers=[],ne.fx=G.prototype.init,ne.fx.tick=function(){var e,i=ne.timers,s=0;for(qt=ne.now();i.length>s;s++)e=i[s],e()||i[s]!==e||i.splice(s--,1);i.length||ne.fx.stop(),qt=t},ne.fx.timer=function(e){e()&&ne.timers.push(e)&&ne.fx.start()},ne.fx.interval=13,ne.fx.start=function(){It||(It=setInterval(ne.fx.tick,ne.fx.interval))},ne.fx.stop=function(){clearInterval(It),It=null},ne.fx.speeds={slow:600,fast:200,_default:400},ne.fx.step={},ne.expr&&ne.expr.filters&&(ne.expr.filters.animated=function(e){return ne.grep(ne.timers,function(t){return e===t.elem}).length}),ne.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ne.offset.setOffset(this,e,t)});var i,s,r=this[0],n={top:0,left:0},a=r&&r.ownerDocument;return a?(i=a.documentElement,ne.contains(i,r)?(typeof r.getBoundingClientRect!==W&&(n=r.getBoundingClientRect()),s=H(a),{top:n.top+s.pageYOffset-i.clientTop,left:n.left+s.pageXOffset-i.clientLeft}):n):void 0},ne.offset={setOffset:function(e,t,i){var s,r,n,a,o,l,d,c=ne.css(e,"position"),h=ne(e),u={};"static"===c&&(e.style.position="relative"),o=h.offset(),n=ne.css(e,"top"),l=ne.css(e,"left"),d=("absolute"===c||"fixed"===c)&&(n+l).indexOf("auto")>-1,d?(s=h.position(),a=s.top,r=s.left):(a=parseFloat(n)||0,r=parseFloat(l)||0),ne.isFunction(t)&&(t=t.call(e,i,o)),null!=t.top&&(u.top=t.top-o.top+a),null!=t.left&&(u.left=t.left-o.left+r),"using"in t?t.using.call(e,u):h.css(u)}},ne.fn.extend({position:function(){if(this[0]){var e,t,i=this[0],s={top:0,left:0};return"fixed"===ne.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ne.nodeName(e[0],"html")||(s=e.offset()),s.top+=ne.css(e[0],"borderTopWidth",!0),s.left+=ne.css(e[0],"borderLeftWidth",!0)),{top:t.top-s.top-ne.css(i,"marginTop",!0),left:t.left-s.left-ne.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||U;e&&!ne.nodeName(e,"html")&&"static"===ne.css(e,"position");)e=e.offsetParent;return e||U})}}),ne.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(i,s){var r="pageYOffset"===s;ne.fn[i]=function(n){return ne.access(this,function(i,n,a){var o=H(i);return a===t?o?o[s]:i[n]:(o?o.scrollTo(r?e.pageXOffset:a,r?a:e.pageYOffset):i[n]=a,t)},i,n,arguments.length,null)}}),ne.each({Height:"height",Width:"width"},function(e,i){ne.each({padding:"inner"+e,content:i,"":"outer"+e},function(s,r){ne.fn[r]=function(r,n){var a=arguments.length&&(s||"boolean"!=typeof r),o=s||(r===!0||n===!0?"margin":"border");return ne.access(this,function(i,s,r){var n;return ne.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(n=i.documentElement,Math.max(i.body["scroll"+e],n["scroll"+e],i.body["offset"+e],n["offset"+e],n["client"+e])):r===t?ne.css(i,s,o):ne.style(i,s,r,o)},i,a?r:t,a,null)}})}),ne.fn.size=function(){return this.length},ne.fn.andSelf=ne.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ne:"function"==typeof define&&define.amd&&define("jquery",[],function(){return ne}),"object"==typeof e&&"object"==typeof e.document&&(e.jQuery=e.$=ne)}(window),function(e,t,i){"function"==typeof define&&define.amd?define(["jquery"],function(s){return i(s,e,t),s.mobile}):i(e.jQuery,e,t)}(this,document,function(e,t,i,s){!function(e,t,i,s){function r(e){for(;e&&"undefined"!=typeof e.originalEvent;)e=e.originalEvent;return e}function n(t,i){var n,a,o,l,d,c,h,u,p,f=t.type;if(t=e.Event(t),t.type=i,n=t.originalEvent,a=e.event.props,f.search(/^(mouse|click)/)>-1&&(a=T),n)for(h=a.length,l;h;)l=a[--h],t[l]=n[l];if(f.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),-1!==f.search(/^touch/)&&(o=r(n),f=o.touches,d=o.changedTouches,c=f&&f.length?f[0]:d&&d.length?d[0]:s,c))for(u=0,p=q.length;p>u;u++)l=q[u],t[l]=c[l];return t}function a(t){for(var i,s,r={};t;){i=e.data(t,C);for(s in i)i[s]&&(r[s]=r.hasVirtualBinding=!0);t=t.parentNode}return r}function o(t,i){for(var s;t;){if(s=e.data(t,C),s&&(!i||s[i]))return t;t=t.parentNode}return null}function l(){M=!1}function d(){M=!0}function c(){z=0,A.length=0,R=!1,d()}function h(){l()}function u(){p(),k=setTimeout(function(){k=0,c()},e.vmouse.resetTimerDuration)}function p(){k&&(clearTimeout(k),k=0)}function f(t,i,s){var r;return(s&&s[t]||!s&&o(i.target,t))&&(r=n(i,t),e(i.target).trigger(r)),r}function g(t){var i=e.data(t.target,D);if(!(R||z&&z===i)){var s=f("v"+t.type,t);s&&(s.isDefaultPrevented()&&t.preventDefault(),s.isPropagationStopped()&&t.stopPropagation(),s.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}}function m(t){var i,s,n=r(t).touches;if(n&&1===n.length&&(i=t.target,s=a(i),s.hasVirtualBinding)){z=H++,e.data(i,D,z),p(),h(),N=!1;var o=r(t).touches[0];P=o.pageX,E=o.pageY,f("vmouseover",t,s),f("vmousedown",t,s)}}function v(e){M||(N||f("vmousecancel",e,a(e.target)),N=!0,u())}function b(t){if(!M){var i=r(t).touches[0],s=N,n=e.vmouse.moveDistanceThreshold,o=a(t.target);N=N||Math.abs(i.pageX-P)>n||Math.abs(i.pageY-E)>n,N&&!s&&f("vmousecancel",t,o),f("vmousemove",t,o),u()}}function y(e){if(!M){d();var t,i=a(e.target);if(f("vmouseup",e,i),!N){var s=f("vclick",e,i);s&&s.isDefaultPrevented()&&(t=r(e).changedTouches[0],A.push({touchID:z,x:t.clientX,y:t.clientY}),R=!0)}f("vmouseout",e,i),N=!1,u()}}function w(t){var i,s=e.data(t,C);if(s)for(i in s)if(s[i])return!0;return!1}function _(){}function x(t){var i=t.substr(1);return{setup:function(s,r){w(this)||e.data(this,C,{});var n=e.data(this,C);n[t]=!0,F[t]=(F[t]||0)+1,1===F[t]&&O.bind(i,g),e(this).bind(i,_),G&&(F.touchstart=(F.touchstart||0)+1,1===F.touchstart&&O.bind("touchstart",m).bind("touchend",y).bind("touchmove",b).bind("scroll",v))},teardown:function(s,r){--F[t],F[t]||O.unbind(i,g),G&&(--F.touchstart,F.touchstart||O.unbind("touchstart",m).unbind("touchmove",b).unbind("touchend",y).unbind("scroll",v));var n=e(this),a=e.data(this,C);a&&(a[t]=!1),n.unbind(i,_),w(this)||n.removeData(C)}}}var j,C="virtualMouseBindings",D="virtualTouchID",S="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),q="clientX clientY pageX pageY screenX screenY".split(" "),I=e.event.mouseHooks?e.event.mouseHooks.props:[],T=e.event.props.concat(I),F={},k=0,P=0,E=0,N=!1,A=[],R=!1,M=!1,G="addEventListener"in i,O=e(i),H=1,z=0;e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var L=0;L<S.length;L++)e.event.special[S[L]]=x(S[L]);G&&i.addEventListener("click",function(t){var i,s,r,n,a,o,l=A.length,d=t.target;if(l)for(i=t.clientX,s=t.clientY,j=e.vmouse.clickDistanceThreshold,r=d;r;){for(n=0;l>n;n++)if(a=A[n],o=0,r===d&&Math.abs(a.x-i)<j&&Math.abs(a.y-s)<j||e.data(r,D)===a.touchID)return t.preventDefault(),void t.stopPropagation();r=r.parentNode}},!0)}(e,t,i),function(e){e.mobile={}}(e),function(e,t){var s={touch:"ontouchend"in i};e.mobile.support=e.mobile.support||{},e.extend(e.support,s),e.extend(e.mobile.support,s)}(e),function(e,t,s){function r(t,i,s){var r=s.type;s.type=i,e.event.dispatch.call(t,s),s.type=r}var n=e(i);e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,i){e.fn[i]=function(e){return e?this.bind(i,e):this.trigger(i)},e.attrFn&&(e.attrFn[i]=!0)});var a=e.mobile.support.touch,o="touchmove scroll",l=a?"touchstart":"mousedown",d=a?"touchend":"mouseup",c=a?"touchmove":"mousemove";e.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){i=t,r(n,i?"scrollstart":"scrollstop",e)}var i,s,n=this,a=e(n);a.bind(o,function(r){e.event.special.scrollstart.enabled&&(i||t(r,!0),clearTimeout(s),s=setTimeout(function(){t(r,!1)},50))})}},e.event.special.tap={tapholdThreshold:750,setup:function(){var t=this,i=e(t);i.bind("vmousedown",function(s){function a(){clearTimeout(d)}function o(){a(),i.unbind("vclick",l).unbind("vmouseup",a),n.unbind("vmousecancel",o)}function l(e){o(),c===e.target&&r(t,"tap",e)}if(s.which&&1!==s.which)return!1;var d,c=s.target;s.originalEvent;i.bind("vmouseup",a).bind("vclick",l),n.bind("vmousecancel",o),d=setTimeout(function(){r(t,"taphold",e.Event("taphold",{target:c}))},e.event.special.tap.tapholdThreshold)})}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(t){var i=t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:(new Date).getTime(),coords:[i.pageX,i.pageY],origin:e(t.target)}},stop:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;return{time:(new Date).getTime(),coords:[t.pageX,t.pageY]}},handleSwipe:function(t,i){i.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-i.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-i.coords[1])<e.event.special.swipe.verticalDistanceThreshold&&t.origin.trigger("swipe").trigger(t.coords[0]>i.coords[0]?"swipeleft":"swiperight")},setup:function(){var t=this,i=e(t);i.bind(l,function(t){function r(t){a&&(n=e.event.special.swipe.stop(t),Math.abs(a.coords[0]-n.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())}var n,a=e.event.special.swipe.start(t);i.bind(c,r).one(d,function(){i.unbind(c,r),a&&n&&e.event.special.swipe.handleSwipe(a,n),a=n=s})})}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(t,i){e.event.special[t]={setup:function(){e(this).bind(i,e.noop)}}})}(e,this),function(e,t,s){var r={};e.mobile=e.extend(e.mobile,{version:"1.3.2",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:250,touchOverflowEnabled:!1,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"e",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,orientationChangeEnabled:!0,buttonMarkup:{hoverDelay:200},window:e(t),document:e(i),keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},behaviors:{},silentScroll:function(i){"number"!==e.type(i)&&(i=e.mobile.defaultHomeScroll),e.event.special.scrollstart.enabled=!1,setTimeout(function(){t.scrollTo(0,i),e.mobile.document.trigger("silentscroll",{x:0,y:i})},20),setTimeout(function(){e.event.special.scrollstart.enabled=!0},150)},nsNormalizeDict:r,nsNormalize:function(t){return t?r[t]||(r[t]=e.camelCase(e.mobile.ns+t)):void 0},getInheritedTheme:function(e,t){for(var i,s,r=e[0],n="",a=/ui-(bar|body|overlay)-([a-z])\b/;r&&(i=r.className||"",!(i&&(s=a.exec(i))&&(n=s[2])));)r=r.parentNode;return n||t||"a"},closestPageData:function(e){return e.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("mobile-page")},enhanceable:function(e){return this.haveParents(e,"enhance")},hijackable:function(e){return this.haveParents(e,"ajax")},haveParents:function(t,i){if(!e.mobile.ignoreContentEnabled)return t;for(var s,r,n,a=t.length,o=e(),l=0;a>l;l++){for(r=t.eq(l),n=!1,s=t[l];s;){var d=s.getAttribute?s.getAttribute("data-"+e.mobile.ns+i):"";if("false"===d){n=!0;break}s=s.parentNode}n||(o=o.add(r))}return o},getScreenHeight:function(){return t.innerHeight||e.mobile.window.height()}},e.mobile),e.fn.jqmData=function(t,i){var r;return"undefined"!=typeof t&&(t&&(t=e.mobile.nsNormalize(t)),r=arguments.length<2||i===s?this.data(t):this.data(t,i)),r},e.jqmData=function(t,i,s){var r;return"undefined"!=typeof i&&(r=e.data(t,i?e.mobile.nsNormalize(i):i,s)),r},e.fn.jqmRemoveData=function(t){return this.removeData(e.mobile.nsNormalize(t))},e.jqmRemoveData=function(t,i){return e.removeData(t,e.mobile.nsNormalize(i))},e.fn.removeWithDependents=function(){e.removeWithDependents(this)},e.removeWithDependents=function(t){var i=e(t);(i.jqmData("dependents")||e()).remove(),i.remove()},e.fn.addDependents=function(t){e.addDependents(e(this),t)},e.addDependents=function(t,i){var s=e(t).jqmData("dependents")||e();e(t).jqmData("dependents",e.merge(s,i))},e.fn.getEncodedText=function(){return e("<div/>").text(e(this).text()).html()},e.fn.jqmEnhanceable=function(){return e.mobile.enhanceable(this)},e.fn.jqmHijackable=function(){return e.mobile.hijackable(this)};var n=e.find,a=/:jqmData\(([^)]*)\)/g;e.find=function(t,i,s,r){return t=t.replace(a,"[data-"+(e.mobile.ns||"")+"$1]"),n.call(this,t,i,s,r)},e.extend(e.find,n),e.find.matches=function(t,i){return e.find(t,null,null,i)},e.find.matchesSelector=function(t,i){return e.find(i,null,null,[t]).length>0}}(e,this)}),function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=e.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new e.validator(t,this[0]),e.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){i.settings.submitHandler&&(i.submitButton=t.target),e(t.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==e(t.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(t){function s(){var s;return i.settings.submitHandler?(i.submitButton&&(s=e("<input type='hidden'/>").attr("name",i.submitButton.name).val(e(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&s.remove(),!1):!0}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,s()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):s():(i.focusInvalid(),!1)})),i)},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var t=!0,i=e(this[0].form).validate();return this.each(function(){t=t&&i.element(this)}),t},removeAttrs:function(t){var i={},s=this;return e.each(t.split(/\s/),function(e,t){i[t]=s.attr(t),s.removeAttr(t)}),i},rules:function(t,i){var s=this[0];if(t){var r=e.data(s.form,"validator").settings,n=r.rules,a=e.validator.staticRules(s);switch(t){case"add":e.extend(a,e.validator.normalizeRule(i)),delete a.messages,n[s.name]=a,i.messages&&(r.messages[s.name]=e.extend(r.messages[s.name],i.messages));break;case"remove":if(!i)return delete n[s.name],a;var o={};return e.each(i.split(/\s/),function(e,t){o[t]=a[t],delete a[t];
}),o}}var l=e.validator.normalizeRules(e.extend({},e.validator.classRules(s),e.validator.attributeRules(s),e.validator.dataRules(s),e.validator.staticRules(s)),s);if(l.required){var d=l.required;delete l.required,l=e.extend({required:d},l)}return l}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,i){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=i,this.init()},e.validator.format=function(t,i){return 1===arguments.length?function(){var i=e.makeArray(arguments);return i.unshift(t),e.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=e.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),e.each(i,function(e,i){t=t.replace(RegExp("\\{"+e+"\\}","g"),function(){return i})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(9!==t.which||""!==this.elementValue(e))&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,i,s){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(s):e(t).addClass(i).removeClass(s)},unhighlight:function(t,i,s){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(s):e(t).removeClass(i).addClass(s)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var i=e.data(this[0].form,"validator"),s="on"+t.type.replace(/^validate/,"");i.settings[s]&&i.settings[s].call(i,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i=this.groups={};e.each(this.settings.groups,function(t,s){"string"==typeof s&&(s=s.split(/\s/)),e.each(s,function(e,s){i[s]=t})});var s=this.settings.rules;e.each(s,function(t,i){s[t]=e.validator.normalizeRule(i)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",t).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t)),this.lastElement=t,this.prepareElement(t),this.currentElements=e(t);var i=this.check(t)!==!1;return i?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0;for(var i in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!t.objectLength(e(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var i=e(t).attr("type"),s=e(t).val();return"radio"===i||"checkbox"===i?e("input[name='"+e(t).attr("name")+"']:checked").val():"string"==typeof s?s.replace(/\r/g,""):s},check:function(t){t=this.validationTargetFor(this.clean(t));var i,s=e(t).rules(),r=!1,n=this.elementValue(t);for(var a in s){var o={method:a,parameters:s[a]};try{if(i=e.validator.methods[a].call(this,n,t,o.parameters),"dependency-mismatch"===i){r=!0;continue}if(r=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!i)return this.formatAndAdd(t,o),!1}catch(l){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+o.method+"' method.",l),l}}return r?void 0:(this.objectLength(s)&&this.successList.push(t),!0)},customDataMessage:function(t,i){return e(t).data("msg-"+i.toLowerCase())||t.attributes&&e(t).attr("data-msg-"+i.toLowerCase())},customMessage:function(e,t){var i=this.settings.messages[e];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var e=0;arguments.length>e;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,i){var s=this.defaultMessage(t,i.method),r=/\$?\{(\d+)\}/g;"function"==typeof s?s=s.call(this,i.parameters,t):r.test(s)&&(s=e.validator.format(s.replace(r,"{$1}"),i.parameters)),this.errorList.push({message:s,element:t}),this.errorMap[t.name]=s,this.submitted[t.name]=s},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t;for(e=0;this.errorList[e];e++){var i=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var s=this.errorsFor(t);s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(i)):(s=e("<"+this.settings.errorElement+">").attr("for",this.idOrName(t)).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(s=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(s).length||(this.settings.errorPlacement?this.settings.errorPlacement(s,e(t)):s.insertAfter(t))),!i&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,t)),this.toShow=this.toShow.add(s)},errorsFor:function(t){var i=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")===i})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return e("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,i){return!!e(t,i.form).length},"function":function(e,t){return e(t)}},optional:function(t){var i=this.elementValue(t);return!e.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,0>this.pendingRequest&&(this.pendingRequest=0),delete this.pending[t.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:e.extend(this.classRuleSettings,t)},classRules:function(t){var i={},s=e(t).attr("class");return s&&e.each(s.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(i,e.validator.classRuleSettings[this])}),i},attributeRules:function(t){var i={},s=e(t),r=s[0].getAttribute("type");for(var n in e.validator.methods){var a;"required"===n?(a=s.get(0).getAttribute(n),""===a&&(a=!0),a=!!a):a=s.attr(n),/min|max/.test(n)&&(null===r||/number|range|text/.test(r))&&(a=Number(a)),a?i[n]=a:r===n&&"range"!==r&&(i[n]=!0)}return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(t){var i,s,r={},n=e(t);for(i in e.validator.methods)s=n.data("rule-"+i.toLowerCase()),void 0!==s&&(r[i]=s);return r},staticRules:function(t){var i={},s=e.data(t.form,"validator");return s.settings.rules&&(i=e.validator.normalizeRule(s.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return e.each(t,function(s,r){if(r===!1)return void delete t[s];if(r.param||r.depends){var n=!0;switch(typeof r.depends){case"string":n=!!e(r.depends,i.form).length;break;case"function":n=r.depends.call(i,i)}n?t[s]=void 0!==r.param?r.param:!0:delete t[s]}}),e.each(t,function(s,r){t[s]=e.isFunction(r)?r(i):r}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var i;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};e.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,s){e.validator.methods[t]=i,e.validator.messages[t]=void 0!==s?s:e.validator.messages[t],3>i.length&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,i,s){if(!this.depend(s,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var r=e(i).val();return r&&r.length>0}return this.checkable(i)?this.getLength(t,i)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(""+new Date(e))},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var i=0,s=0,r=!1;e=e.replace(/\D/g,"");for(var n=e.length-1;n>=0;n--){var a=e.charAt(n);s=parseInt(a,10),r&&(s*=2)>9&&(s-=9),i+=s,r=!r}return 0===i%10},minlength:function(t,i,s){var r=e.isArray(t)?t.length:this.getLength(e.trim(t),i);return this.optional(i)||r>=s},maxlength:function(t,i,s){var r=e.isArray(t)?t.length:this.getLength(e.trim(t),i);return this.optional(i)||s>=r},rangelength:function(t,i,s){var r=e.isArray(t)?t.length:this.getLength(e.trim(t),i);return this.optional(i)||r>=s[0]&&s[1]>=r},min:function(e,t,i){return this.optional(t)||e>=i},max:function(e,t,i){return this.optional(t)||i>=e},range:function(e,t,i){return this.optional(t)||e>=i[0]&&i[1]>=e},equalTo:function(t,i,s){var r=e(s);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(i).valid()}),t===r.val()},remote:function(t,i,s){if(this.optional(i))return"dependency-mismatch";var r=this.previousValue(i);if(this.settings.messages[i.name]||(this.settings.messages[i.name]={}),r.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=r.message,s="string"==typeof s&&{url:s}||s,r.old===t)return r.valid;r.old=t;var n=this;this.startRequest(i);var a={};return a[i.name]=t,e.ajax(e.extend(!0,{url:s,mode:"abort",port:"validate"+i.name,dataType:"json",data:a,success:function(s){n.settings.messages[i.name].remote=r.originalMessage;var a=s===!0||"true"===s;if(a){var o=n.formSubmitted;n.prepareElement(i),n.formSubmitted=o,n.successList.push(i),delete n.invalid[i.name],n.showErrors()}else{var l={},d=s||n.defaultMessage(i,"remote");l[i.name]=r.message=e.isFunction(d)?d(t):d,n.invalid[i.name]=!0,n.showErrors(l)}r.valid=a,n.stopRequest(i,a)}},s)),"pending"}}}),e.format=e.validator.format}(jQuery),function(e){var t={};if(e.ajaxPrefilter)e.ajaxPrefilter(function(e,i,s){var r=e.port;"abort"===e.mode&&(t[r]&&t[r].abort(),t[r]=s)});else{var i=e.ajax;e.ajax=function(s){var r=("mode"in s?s:e.ajaxSettings).mode,n=("port"in s?s:e.ajaxSettings).port;return"abort"===r?(t[n]&&t[n].abort(),t[n]=i.apply(this,arguments),t[n]):i.apply(this,arguments)}}}(jQuery),function(e){e.extend(e.fn,{validateDelegate:function(t,i,s){return this.bind(i,function(i){var r=e(i.target);return r.is(t)?s.apply(r,arguments):void 0})}})}(jQuery),function(e){function t(){var e=document.createElement("input"),t="onpaste";return e.setAttribute(t,""),"function"==typeof e[t]?"paste":"input"}var i,s=t()+".mask",r=navigator.userAgent,n=/iphone/i.test(r),a=/android/i.test(r);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var i;return 0===this.length||this.is(":hidden")?void 0:"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(i=this.createTextRange(),i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),e=0-i.duplicate().moveStart("character",-1e5),t=e+i.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,r){var o,l,d,c,h,u;return!t&&this.length>0?(o=e(this[0]),o.data(e.mask.dataName)()):(r=e.extend({placeholder:e.mask.placeholder,completed:null},r),l=e.mask.definitions,d=[],c=u=t.length,h=null,e.each(t.split(""),function(e,t){"?"==t?(u--,c=e):l[t]?(d.push(RegExp(l[t])),null===h&&(h=d.length-1)):d.push(null)}),this.trigger("unmask").each(function(){function o(e){for(;u>++e&&!d[e];);return e}function p(e){for(;--e>=0&&!d[e];);return e}function f(e,t){var i,s;if(!(0>e)){for(i=e,s=o(t);u>i;i++)if(d[i]){if(!(u>s&&d[i].test(x[s])))break;x[i]=x[s],x[s]=r.placeholder,s=o(s)}y(),_.caret(Math.max(h,e))}}function g(e){var t,i,s,n;for(t=e,i=r.placeholder;u>t;t++)if(d[t]){if(s=o(t),n=x[t],x[t]=i,!(u>s&&d[s].test(n)))break;i=n}}function m(e){var t,i,s,r=e.which;8===r||46===r||n&&127===r?(t=_.caret(),i=t.begin,s=t.end,0===s-i&&(i=46!==r?p(i):s=o(i-1),s=46===r?o(s):s),b(i,s),f(i,s-1),e.preventDefault()):27==r&&(_.val(j),_.caret(0,w()),e.preventDefault())}function v(t){var i,s,n,l=t.which,c=_.caret();t.ctrlKey||t.altKey||t.metaKey||32>l||l&&(0!==c.end-c.begin&&(b(c.begin,c.end),f(c.begin,c.end-1)),i=o(c.begin-1),u>i&&(s=String.fromCharCode(l),d[i].test(s)&&(g(i),x[i]=s,y(),n=o(i),a?setTimeout(e.proxy(e.fn.caret,_,n),0):_.caret(n),r.completed&&n>=u&&r.completed.call(_))),t.preventDefault())}function b(e,t){var i;for(i=e;t>i&&u>i;i++)d[i]&&(x[i]=r.placeholder)}function y(){_.val(x.join(""))}function w(e){var t,i,s=_.val(),n=-1;for(t=0,pos=0;u>t;t++)if(d[t]){for(x[t]=r.placeholder;pos++<s.length;)if(i=s.charAt(pos-1),d[t].test(i)){x[t]=i,n=t;break}if(pos>s.length)break}else x[t]===s.charAt(pos)&&t!==c&&(pos++,n=t);return e?y():c>n+1?(_.val(""),b(0,u)):(y(),_.val(_.val().substring(0,n+1))),c?t:h}var _=e(this),x=e.map(t.split(""),function(e){return"?"!=e?l[e]?r.placeholder:e:void 0}),j=_.val();_.data(e.mask.dataName,function(){return e.map(x,function(e,t){return d[t]&&e!=r.placeholder?e:null}).join("")}),_.attr("readonly")||_.one("unmask",function(){_.unbind(".mask").removeData(e.mask.dataName)}).bind("focus.mask",function(){clearTimeout(i);var e;j=_.val(),e=w(),i=setTimeout(function(){y(),e==t.length?_.caret(0,e):_.caret(e)},10)}).bind("blur.mask",function(){w(),_.val()!=j&&_.change()}).bind("keydown.mask",m).bind("keypress.mask",v).bind(s,function(){setTimeout(function(){var e=w(!0);_.caret(e),r.completed&&e==_.val().length&&r.completed.call(_)},0)}),w()}))}})}(jQuery),function(e,t){function i(t,i){var r,n,a,o=t.nodeName.toLowerCase();return"area"===o?(r=t.parentNode,n=r.name,t.href&&n&&"map"===r.nodeName.toLowerCase()?(a=e("img[usemap=#"+n+"]")[0],!!a&&s(a)):!1):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r=0,n=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var s,r,n=e(this[0]);n.length&&n[0]!==document;){if(s=n.css("position"),("absolute"===s||"relative"===s||"fixed"===s)&&(r=parseInt(n.css("zIndex"),10),!isNaN(r)&&0!==r))return r;n=n.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){n.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var s=e.attr(t,"tabindex"),r=isNaN(s);return(r||s>=0)&&i(t,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,s){function r(t,i,s,r){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===s?["Left","Right"]:["Top","Bottom"],a=s.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+s]=function(i){return i===t?o["inner"+s].call(this):this.each(function(){e(this).css(a,r(this,i)+"px")})},e.fn["outer"+s]=function(t,i){return"number"!=typeof t?o["outer"+s].call(this,t):this.each(function(){e(this).css(a,r(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,s){var r,n=e.ui[t].prototype;for(r in s)n.plugins[r]=n.plugins[r]||[],n.plugins[r].push([i,s[r]])},call:function(e,t,i){var s,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(s=0;r.length>s;s++)e.options[r[s][0]]&&r[s][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return t[s]>0?!0:(t[s]=1,r=t[s]>0,t[s]=0,r)}})}(jQuery),function(e,t){var i=0,s=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var i,s=0;null!=(i=t[s]);s++)try{e(i).triggerHandler("remove")}catch(n){}r(t)},e.widget=function(i,s,r){var n,a,o,l,d={},c=i.split(".")[0];i=i.split(".")[1],n=c+"-"+i,r||(r=s,s=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[c]=e[c]||{},a=e[c][i],o=e[c][i]=function(e,i){return this._createWidget?(arguments.length&&this._createWidget(e,i),t):new o(e,i)},e.extend(o,a,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),l=new s,l.options=e.widget.extend({},l.options),e.each(r,function(i,r){return e.isFunction(r)?(d[i]=function(){var e=function(){return s.prototype[i].apply(this,arguments)},t=function(e){return s.prototype[i].apply(this,e)};return function(){var i,s=this._super,n=this._superApply;return this._super=e,this._superApply=t,i=r.apply(this,arguments),this._super=s,this._superApply=n,i}}(),t):(d[i]=r,t)}),o.prototype=e.widget.extend(l,{widgetEventPrefix:a?l.widgetEventPrefix:i},d,{constructor:o,namespace:c,widgetName:i,widgetFullName:n}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete a._childConstructors):s._childConstructors.push(o),e.widget.bridge(i,o)},e.widget.extend=function(i){for(var r,n,a=s.call(arguments,1),o=0,l=a.length;l>o;o++)for(r in a[o])n=a[o][r],a[o].hasOwnProperty(r)&&n!==t&&(i[r]=e.isPlainObject(n)?e.isPlainObject(i[r])?e.widget.extend({},i[r],n):e.widget.extend({},n):n);return i},e.widget.bridge=function(i,r){var n=r.prototype.widgetFullName||i;e.fn[i]=function(a){var o="string"==typeof a,l=s.call(arguments,1),d=this;return a=!o&&l.length?e.widget.extend.apply(null,[a].concat(l)):a,o?this.each(function(){var s,r=e.data(this,n);return r?e.isFunction(r[a])&&"_"!==a.charAt(0)?(s=r[a].apply(r,l),s!==r&&s!==t?(d=s&&s.jquery?d.pushStack(s.get()):s,!1):t):e.error("no such method '"+a+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+a+"'")}):this.each(function(){var t=e.data(this,n);t?t.option(a||{})._init():e.data(this,n,new r(a,this))}),d}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,s){s=e(s||this.defaultElement||this)[0],this.element=e(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),s!==this&&(e.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===s&&this.destroy()}}),this.document=e(s.style?s.ownerDocument:s.document||s),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,s){var r,n,a,o=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(o={},r=i.split("."),i=r.shift(),r.length){for(n=o[i]=e.widget.extend({},this.options[i]),a=0;r.length-1>a;a++)n[r[a]]=n[r[a]]||{},n=n[r[a]];if(i=r.pop(),s===t)return n[i]===t?null:n[i];n[i]=s}else{if(s===t)return this.options[i]===t?null:this.options[i];o[i]=s}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,s,r){var n,a=this;"boolean"!=typeof i&&(r=s,s=i,i=!1),r?(s=n=e(s),this.bindings=this.bindings.add(s)):(r=s,s=this.element,n=this.widget()),e.each(r,function(r,o){function l(){return i||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):t}"string"!=typeof o&&(l.guid=o.guid=o.guid||l.guid||e.guid++);var d=r.match(/^(\w+)\s*(.*)$/),c=d[1]+a.eventNamespace,h=d[2];h?n.delegate(h,c,l):s.bind(c,l)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover");
}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var r,n,a=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],n=i.originalEvent)for(r in n)r in i||(i[r]=n[r]);return this.element.trigger(i,s),!(e.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,r,n){"string"==typeof r&&(r={effect:r});var a,o=r?r===!0||"number"==typeof r?i:r.effect||i:t;r=r||{},"number"==typeof r&&(r={duration:r}),a=!e.isEmptyObject(r),r.complete=n,r.delay&&s.delay(r.delay),a&&e.effects&&e.effects.effect[o]?s[t](r):o!==t&&s[o]?s[o](r.duration,r.easing,n):s.queue(function(i){e(this)[t](),n&&n.call(s[0]),i()})}})}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,r=1===i.which,n="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return r&&!n&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return s._mouseMove(e)},this._mouseUpDelegate=function(e){return s._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",t,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,s=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(s=e.ui.ddmanager.drop(this,t)),this.dropped&&(s=this.dropped,this.dropped=!1),"original"!==this.options.helper||e.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,r=this.options;return r.containment?"window"===r.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),i=e(r.containment),s=i[0],void(s&&(t="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(t,i){i||(i=this.position);var s="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*s}},_generatePosition:function(t){var i,s,r,n,a=this.options,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=t.pageX,d=t.pageY;return this.offset.scroll||(this.offset.scroll={top:o.scrollTop(),left:o.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(d=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(d=i[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((d-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,d=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-a.grid[1]:r+a.grid[1]:r,n=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?n-this.offset.click.left>=i[0]||n-this.offset.click.left>i[2]?n:n-this.offset.click.left>=i[0]?n-a.grid[0]:n+a.grid[0]:n)),{top:d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var s=e(this).data("ui-draggable"),r=s.options,n=e.extend({},i,{item:s.element});s.sortables=[],e(r.connectToSortable).each(function(){var i=e.data(this,"ui-sortable");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,n))})},stop:function(t,i){var s=e(this).data("ui-draggable"),r=e.extend({},i,{item:s.element});e.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,r))})},drag:function(t,i){var s=e(this).data("ui-draggable"),r=this;e.each(s.sortables,function(){var n=!1,a=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(n=!0,e.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(a.instance.element[0],this.instance.element[0])&&(n=!1),n})),n?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",t),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",t),s.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("ui-draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){var s=e(i.helper),r=e(this).data("ui-draggable").options;s.css("opacity")&&(r._opacity=s.css("opacity")),s.css("opacity",r.opacity)},stop:function(t,i){var s=e(this).data("ui-draggable").options;s._opacity&&e(i.helper).css("opacity",s._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var i=e(this).data("ui-draggable"),s=i.options,r=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?i.scrollParent[0].scrollTop=r=i.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-i.overflowOffset.top<s.scrollSensitivity&&(i.scrollParent[0].scrollTop=r=i.scrollParent[0].scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?i.scrollParent[0].scrollLeft=r=i.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-i.overflowOffset.left<s.scrollSensitivity&&(i.scrollParent[0].scrollLeft=r=i.scrollParent[0].scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(t.pageY-e(document).scrollTop()<s.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<s.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(t.pageX-e(document).scrollLeft()<s.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<s.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+s.scrollSpeed)))),r!==!1&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),i=t.options;t.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=e(this),s=i.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:s.top,left:s.left})})},drag:function(t,i){var s,r,n,a,o,l,d,c,h,u,p=e(this).data("ui-draggable"),f=p.options,g=f.snapTolerance,m=i.offset.left,v=m+p.helperProportions.width,b=i.offset.top,y=b+p.helperProportions.height;for(h=p.snapElements.length-1;h>=0;h--)o=p.snapElements[h].left,l=o+p.snapElements[h].width,d=p.snapElements[h].top,c=d+p.snapElements[h].height,o-g>v||m>l+g||d-g>y||b>c+g||!e.contains(p.snapElements[h].item.ownerDocument,p.snapElements[h].item)?(p.snapElements[h].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[h].item})),p.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(s=g>=Math.abs(d-y),r=g>=Math.abs(c-b),n=g>=Math.abs(o-v),a=g>=Math.abs(l-m),s&&(i.position.top=p._convertPositionTo("relative",{top:d-p.helperProportions.height,left:0}).top-p.margins.top),r&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),n&&(i.position.left=p._convertPositionTo("relative",{top:0,left:o-p.helperProportions.width}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),u=s||r||n||a,"outer"!==f.snapMode&&(s=g>=Math.abs(d-b),r=g>=Math.abs(c-y),n=g>=Math.abs(o-m),a=g>=Math.abs(l-v),s&&(i.position.top=p._convertPositionTo("relative",{top:d,left:0}).top-p.margins.top),r&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),n&&(i.position.left=p._convertPositionTo("relative",{top:0,left:o}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[h].snapping&&(s||r||n||a||u)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[h].item})),p.snapElements[h].snapping=s||r||n||a||u)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,i=this.data("ui-draggable").options,s=e.makeArray(e(i.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});s.length&&(t=parseInt(e(s[0]).css("zIndex"),10)||0,e(s).each(function(i){e(this).css("zIndex",t+i)}),this.css("zIndex",t+s.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var s=e(i.helper),r=e(this).data("ui-draggable").options;s.css("zIndex")&&(r._zIndex=s.css("zIndex")),s.css("zIndex",r.zIndex)},stop:function(t,i){var s=e(this).data("ui-draggable").options;s._zIndex&&e(i.helper).css("zIndex",s._zIndex)}})}(jQuery),function(e){function t(e,t,i){return e>t&&t+i>e}e.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t=this.options,i=t.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,i=e.ui.ddmanager.droppables[this.options.scope];i.length>t;t++)i[t]===this&&i.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){"accept"===t&&(this.accept=e.isFunction(i)?i:function(e){return e.is(i)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var s=i||e.ui.ddmanager.current,r=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope===s.options.scope&&t.accept.call(t.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(r=!0,!1):void 0}),r?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(s)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,i,s){if(!i.offset)return!1;var r,n,a=(e.positionAbs||e.position.absolute).left,o=a+e.helperProportions.width,l=(e.positionAbs||e.position.absolute).top,d=l+e.helperProportions.height,c=i.offset.left,h=c+i.proportions.width,u=i.offset.top,p=u+i.proportions.height;switch(s){case"fit":return a>=c&&h>=o&&l>=u&&p>=d;case"intersect":return a+e.helperProportions.width/2>c&&h>o-e.helperProportions.width/2&&l+e.helperProportions.height/2>u&&p>d-e.helperProportions.height/2;case"pointer":return r=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,n=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,t(n,u,i.proportions.height)&&t(r,c,i.proportions.width);case"touch":return(l>=u&&p>=l||d>=u&&p>=d||u>l&&d>p)&&(a>=c&&h>=a||o>=c&&h>=o||c>a&&o>h);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var s,r,n=e.ui.ddmanager.droppables[t.options.scope]||[],a=i?i.type:null,o=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(s=0;n.length>s;s++)if(!(n[s].options.disabled||t&&!n[s].accept.call(n[s].element[0],t.currentItem||t.element))){for(r=0;o.length>r;r++)if(o[r]===n[s].element[0]){n[s].proportions.height=0;continue e}n[s].visible="none"!==n[s].element.css("display"),n[s].visible&&("mousedown"===a&&n[s]._activate.call(n[s],i),n[s].offset=n[s].element.offset(),n[s].proportions={width:n[s].element[0].offsetWidth,height:n[s].element[0].offsetHeight})}},drop:function(t,i){var s=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,r,n,a=e.ui.intersect(t,this,this.options.tolerance),o=!a&&this.isover?"isout":a&&!this.isover?"isover":null;o&&(this.options.greedy&&(r=this.options.scope,n=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===r}),n.length&&(s=e.data(n[0],"ui-droppable"),s.greedyChild="isover"===o)),s&&"isover"===o&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[o]=!0,this["isout"===o?"isover":"isout"]=!1,this["isover"===o?"_over":"_out"].call(this,i),s&&"isout"===o&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}}}(jQuery),function(e){function t(e){return parseInt(e,10)||0}function i(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,i,s,r,n,a=this,o=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=o.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)s=e.trim(t[i]),n="ui-resizable-"+s,r=e("<div class='ui-resizable-handle "+n+"'></div>"),r.css({zIndex:o.zIndex}),"se"===s&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(r);this._renderAxis=function(t){var i,s,r,n;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=e(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=e(this.handles[i],this.element),n=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(r,n),this._proportionallyResize()),e(this.handles[i]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=r&&r[1]?r[1]:"se")}),o.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){o.disabled||(e(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){o.disabled||a.resizing||(e(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){
var i,s,r=!1;for(i in this.handles)s=e(this.handles[i])[0],(s===t.target||e.contains(s,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(i){var s,r,n,a=this.options,o=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:o.top,left:o.left}),this._renderProxy(),s=t(this.helper.css("left")),r=t(this.helper.css("top")),a.containment&&(s+=e(a.containment).scrollLeft()||0,r+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:s,top:r},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:s,top:r},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),l.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(t){var i,s=this.helper,r={},n=this.originalMousePosition,a=this.axis,o=this.position.top,l=this.position.left,d=this.size.width,c=this.size.height,h=t.pageX-n.left||0,u=t.pageY-n.top||0,p=this._change[a];return p?(i=p.apply(this,[t,h,u]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),this.position.top!==o&&(r.top=this.position.top+"px"),this.position.left!==l&&(r.left=this.position.left+"px"),this.size.width!==d&&(r.width=this.size.width+"px"),this.size.height!==c&&(r.height=this.size.height+"px"),s.css(r),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,s,r,n,a,o,l,d=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),r=s&&e.ui.hasScroll(i[0],"left")?0:c.sizeDiff.height,n=s?0:c.sizeDiff.width,a={width:c.helper.width()-n,height:c.helper.height()-r},o=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,d.animate||this.element.css(e.extend(a,{top:l,left:o})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!d.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,s,r,n,a,o=this.options;a={minWidth:i(o.minWidth)?o.minWidth:0,maxWidth:i(o.maxWidth)?o.maxWidth:1/0,minHeight:i(o.minHeight)?o.minHeight:0,maxHeight:i(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,r=a.minWidth/this.aspectRatio,s=a.maxHeight*this.aspectRatio,n=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),r>a.minHeight&&(a.minHeight=r),a.maxWidth>s&&(a.maxWidth=s),a.maxHeight>n&&(a.maxHeight=n)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),i(e.left)&&(this.position.left=e.left),i(e.top)&&(this.position.top=e.top),i(e.height)&&(this.size.height=e.height),i(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,s=this.size,r=this.axis;return i(e.height)?e.width=e.height*this.aspectRatio:i(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(s.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(s.height-e.height),e.left=t.left+(s.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,s=this.axis,r=i(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=i(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=i(e.width)&&t.minWidth&&t.minWidth>e.width,o=i(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,d=this.position.top+this.size.height,c=/sw|nw|w/.test(s),h=/nw|ne|n/.test(s);return a&&(e.width=t.minWidth),o&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),a&&c&&(e.left=l-t.minWidth),r&&c&&(e.left=l-t.maxWidth),o&&h&&(e.top=d-t.minHeight),n&&h&&(e.top=d-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,s,r,n=this.helper||this.element;for(e=0;this._proportionallyResizeElements.length>e;e++){if(r=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[r.css("borderTopWidth"),r.css("borderRightWidth"),r.css("borderBottomWidth"),r.css("borderLeftWidth")],s=[r.css("paddingTop"),r.css("paddingRight"),r.css("paddingBottom"),r.css("paddingLeft")],t=0;i.length>t;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(s[t],10)||0);r.css({height:n.height()-this.borderDif[0]-this.borderDif[2]||0,width:n.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,i){var s=this.originalSize,r=this.originalPosition;return{top:r.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).data("ui-resizable"),s=i.options,r=i._proportionallyResizeElements,n=r.length&&/textarea/i.test(r[0].nodeName),a=n&&e.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,o=n?0:i.sizeDiff.width,l={width:i.size.width-o,height:i.size.height-a},d=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,c&&d?{top:c,left:d}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&e(r[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var i,s,r,n,a,o,l,d=e(this).data("ui-resizable"),c=d.options,h=d.element,u=c.containment,p=u instanceof e?u.get(0):/parent/.test(u)?h.parent().get(0):u;p&&(d.containerElement=e(p),/document/.test(u)||u===document?(d.containerOffset={left:0,top:0},d.containerPosition={left:0,top:0},d.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(i=e(p),s=[],e(["Top","Right","Left","Bottom"]).each(function(e,r){s[e]=t(i.css("padding"+r))}),d.containerOffset=i.offset(),d.containerPosition=i.position(),d.containerSize={height:i.innerHeight()-s[3],width:i.innerWidth()-s[1]},r=d.containerOffset,n=d.containerSize.height,a=d.containerSize.width,o=e.ui.hasScroll(p,"left")?p.scrollWidth:a,l=e.ui.hasScroll(p)?p.scrollHeight:n,d.parentData={element:p,left:r.left,top:r.top,width:o,height:l}))},resize:function(t){var i,s,r,n,a=e(this).data("ui-resizable"),o=a.options,l=a.containerOffset,d=a.position,c=a._aspectRatio||t.shiftKey,h={top:0,left:0},u=a.containerElement;u[0]!==document&&/static/.test(u.css("position"))&&(h=l),d.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-h.left),c&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=o.helper?l.left:0),d.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?l.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,i=Math.abs((a._helper?a.offset.left-h.left:a.offset.left-h.left)+a.sizeDiff.width),s=Math.abs((a._helper?a.offset.top-h.top:a.offset.top-l.top)+a.sizeDiff.height),r=a.containerElement.get(0)===a.element.parent().get(0),n=/relative|absolute/.test(a.containerElement.css("position")),r&&n&&(i-=a.parentData.left),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,c&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),i=t.options,s=t.containerOffset,r=t.containerPosition,n=t.containerElement,a=e(t.helper),o=a.offset(),l=a.outerWidth()-t.sizeDiff.width,d=a.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(n.css("position"))&&e(this).css({left:o.left-r.left-s.left,width:l,height:d}),t._helper&&!i.animate&&/static/.test(n.css("position"))&&e(this).css({left:o.left-r.left-s.left,width:l,height:d})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,s=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):e.each(i.alsoResize,function(e){s(e)})},resize:function(t,i){var s=e(this).data("ui-resizable"),r=s.options,n=s.originalSize,a=s.originalPosition,o={height:s.size.height-n.height||0,width:s.size.width-n.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0},l=function(t,s){e(t).each(function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),n={},a=s&&s.length?s:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var i=(r[t]||0)+(o[t]||0);i&&i>=0&&(n[t]=i||null)}),t.css(n)})};"object"!=typeof r.alsoResize||r.alsoResize.nodeType?l(r.alsoResize):e.each(r.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),i=t.options,s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),i=t.options,s=t.size,r=t.originalSize,n=t.originalPosition,a=t.axis,o="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=o[0]||1,d=o[1]||1,c=Math.round((s.width-r.width)/l)*l,h=Math.round((s.height-r.height)/d)*d,u=r.width+c,p=r.height+h,f=i.maxWidth&&u>i.maxWidth,g=i.maxHeight&&p>i.maxHeight,m=i.minWidth&&i.minWidth>u,v=i.minHeight&&i.minHeight>p;i.grid=o,m&&(u+=l),v&&(p+=d),f&&(u-=l),g&&(p-=d),/^(se|s|e)$/.test(a)?(t.size.width=u,t.size.height=p):/^(ne)$/.test(a)?(t.size.width=u,t.size.height=p,t.position.top=n.top-h):/^(sw)$/.test(a)?(t.size.width=u,t.size.height=p,t.position.left=n.left-c):(t.size.width=u,t.size.height=p,t.position.top=n.top-h,t.position.left=n.left-c)}})}(jQuery),function(e){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,s=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(s.filter,this.element[0]),this._trigger("start",t),e(s.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=e.data(this,"selectable-item");s.startselected=!0,t.metaKey||t.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",t,{unselecting:s.element}))}),e(t.target).parents().addBack().each(function(){var s,r=e.data(this,"selectable-item");return r?(s=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),r.unselecting=!s,r.selecting=s,r.selected=s,s?i._trigger("selecting",t,{selecting:r.element}):i._trigger("unselecting",t,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,s=this,r=this.options,n=this.opos[0],a=this.opos[1],o=t.pageX,l=t.pageY;return n>o&&(i=o,o=n,n=i),a>l&&(i=l,l=a,a=i),this.helper.css({left:n,top:a,width:o-n,height:l-a}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),d=!1;i&&i.element!==s.element[0]&&("touch"===r.tolerance?d=!(i.left>o||n>i.right||i.top>l||a>i.bottom):"fit"===r.tolerance&&(d=i.left>n&&o>i.right&&i.top>a&&l>i.bottom),d?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",t,{unselected:s.element})}),e(".ui-selecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",t,{selected:s.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(e){function t(e,t,i){return e>t&&t+i>e}function i(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){"disabled"===t?(this.options[t]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var s=null,r=!1,n=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,n.widgetName+"-item")===n?(s=e(this),!1):void 0}),e.data(t.target,n.widgetName+"-item")===n&&(s=e(t.target)),s&&(!this.options.handle||i||(e(this.options.handle,s).find("*").addBack().each(function(){this===t.target&&(r=!0)}),r))?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,i,s){var r,n,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(n=this.document.find("body"),this.storedCursor=n.css("cursor"),n.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(n)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,s,r,n,a=this.options,o=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-e(document).scrollTop()<a.scrollSensitivity?o=e(document).scrollTop(e(document).scrollTop()-a.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<a.scrollSensitivity&&(o=e(document).scrollTop(e(document).scrollTop()+a.scrollSpeed)),t.pageX-e(document).scrollLeft()<a.scrollSensitivity?o=e(document).scrollLeft(e(document).scrollLeft()-a.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<a.scrollSensitivity&&(o=e(document).scrollLeft(e(document).scrollLeft()+a.scrollSpeed))),o!==!1&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],r=s.item[0],n=this._intersectsWithPointer(s),n&&s.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===n?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],r):!0)){if(this.direction=1===n?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var s=this,r=this.placeholder.offset(),n=this.options.axis,a={};n&&"x"!==n||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),n&&"y"!==n||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&s.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!s.length&&t.key&&s.push(t.key+"="),s.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},i.each(function(){s.push(e(t.item||this).attr(t.attribute||"id")||"")}),s},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,s=this.positionAbs.top,r=s+this.helperProportions.height,n=e.left,a=n+e.width,o=e.top,l=o+e.height,d=this.offset.click.top,c=this.offset.click.left,h="x"===this.options.axis||s+d>o&&l>s+d,u="y"===this.options.axis||t+c>n&&a>t+c,p=h&&u;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>n&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>o&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(e){var i="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,e.top,e.height),s="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=i&&s,n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return r?this.floating?a&&"right"===a||"down"===n?2:1:n&&("down"===n?2:1):!1},_intersectsWithSides:function(e){var i=t(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),s=t(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&s||"left"===n&&!s:r&&("down"===r&&i||"up"===r&&!i)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i,s,r,n,a=[],o=[],l=this._connectWith();if(l&&t)for(i=l.length-1;i>=0;i--)for(r=e(l[i]),s=r.length-1;s>=0;s--)n=e.data(r[s],this.widgetFullName),n&&n!==this&&!n.options.disabled&&o.push([e.isFunction(n.options.items)?n.options.items.call(n.element):e(n.options.items,n.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),n]);for(o.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=o.length-1;i>=0;i--)o[i][0].each(function(){a.push(this)});return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,s,r,n,a,o,l,d,c=this.items,h=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],u=this._connectWith();if(u&&this.ready)for(i=u.length-1;i>=0;i--)for(r=e(u[i]),s=r.length-1;s>=0;s--)n=e.data(r[s],this.widgetFullName),n&&n!==this&&!n.options.disabled&&(h.push([e.isFunction(n.options.items)?n.options.items.call(n.element[0],t,{item:this.currentItem}):e(n.options.items,n.element),n]),this.containers.push(n));for(i=h.length-1;i>=0;i--)for(a=h[i][1],o=h[i][0],s=0,d=o.length;d>s;s++)l=e(o[s]),l.data(this.widgetName+"-item",a),c.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,r,n;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item,t||(s.width=r.outerWidth(),s.height=r.outerHeight()),n=r.offset(),s.left=n.left,s.top=n.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)n=this.containers[i].element.offset(),this.containers[i].containerCache.left=n.left,this.containers[i].containerCache.top=n.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,s=t.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+s+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===s?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(r)}):"img"===s&&r.attr("src",t.currentItem.attr("src")),i||r.css("visibility","hidden"),r},update:function(e,r){(!i||s.forcePlaceholderSize)&&(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(s.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),s.placeholder.update(t,t.placeholder)},_contactContainers:function(s){var r,n,a,o,l,d,c,h,u,p,f=null,g=null;for(r=this.containers.length-1;r>=0;r--)if(!e.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(f&&e.contains(this.containers[r].element[0],f.element[0]))continue;f=this.containers[r],g=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",s,this._uiHash(this)),this.containers[r].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",s,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(a=1e4,o=null,p=f.floating||i(this.currentItem),l=p?"left":"top",d=p?"width":"height",c=this.positionAbs[l]+this.offset.click[l],n=this.items.length-1;n>=0;n--)e.contains(this.containers[g].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(!p||t(this.positionAbs.top+this.offset.click.top,this.items[n].top,this.items[n].height))&&(h=this.items[n].item.offset()[l],u=!1,Math.abs(h-c)>Math.abs(h+this.items[n][d]-c)&&(u=!0,h+=this.items[n][d]),a>Math.abs(h-c)&&(a=Math.abs(h-c),o=this.items[n],this.direction=u?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;o?this._rearrange(s,o,null,!0):this._rearrange(s,null,this.containers[g].element,!0),this._trigger("change",s,this._uiHash()),this.containers[g]._trigger("change",s,this._uiHash(this)),
this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",s,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],i=e(r.containment).offset(),s="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var s="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():n?0:r.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():n?0:r.scrollLeft())*s}},_generatePosition:function(t){var i,s,r=this.options,n=t.pageX,a=t.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(n=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(n=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,s=this.originalPageX+Math.round((n-this.originalPageX)/r.grid[0])*r.grid[0],n=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-r.grid[0]:s+r.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:o.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:o.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!s)})},_clear:function(e,t){this.reverting=!1;var i,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&s.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||s.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(s.push(function(e){this._trigger("remove",e,this._uiHash())}),s.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||s.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(s.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),i=0;s.length>i;i++)s[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(i=0;s.length>i;i++)s[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}(jQuery),function(e){var t=5;e.widget("ui.slider",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,s=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),n="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",a=[];for(i=s.values&&s.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),t=r.length;i>t;t++)a.push(n);this.handles=r.add(e(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):this.range=e([])},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e),this._on(e,this._handleEvents),this._hoverable(e),this._focusable(e)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,s,r,n,a,o,l,d,c=this,h=this.options;return h.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},s=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(s-c.values(t));(r>i||r===i&&(t===c._lastChangedValue||c.values(t)===h.min))&&(r=i,n=e(this),a=t)}),o=this._start(t,a),o===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,n.addClass("ui-state-active").focus(),l=n.offset(),d=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=d?{left:0,top:0}:{left:t.pageX-l.left-n.width()/2,top:t.pageY-l.top-n.height()/2-(parseInt(n.css("borderTopWidth"),10)||0)-(parseInt(n.css("borderBottomWidth"),10)||0)+(parseInt(n.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,s,r,n;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/t,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),r=this._valueMax()-this._valueMin(),n=this._valueMin()+s*r,this._trimAlignValue(n)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var s,r,n;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>s||1===t&&s>i)&&(i=s),i!==this.values(t)&&(r=this.values(),r[t]=i,n=this._trigger("slide",e,{handle:this.handles[t],value:i,values:r}),s=this.values(t?0:1),n!==!1&&this.values(t,i,!0))):i!==this.value()&&(n=this._trigger("slide",e,{handle:this.handles[t],value:i}),n!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var s,r,n;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(s=this.options.values,r=arguments[0],n=0;s.length>n;n+=1)s[n]=this._trimAlignValue(r[n]),this._change(null,n);this._refreshValue()},_setOption:function(t,i){var s,r=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(r=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;r>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,s;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,s=e-i;return 2*Math.abs(i)>=t&&(s+=i>0?t:-t),parseFloat(s.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,s,r,n,a=this.options.range,o=this.options,l=this,d=this._animateOff?!1:o.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((l.values(s)-l._valueMin())/(l._valueMax()-l._valueMin())),c["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[d?"animate":"css"](c,o.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===s&&l.range.stop(1,1)[d?"animate":"css"]({left:i+"%"},o.animate),1===s&&l.range[d?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:o.animate})):(0===s&&l.range.stop(1,1)[d?"animate":"css"]({bottom:i+"%"},o.animate),1===s&&l.range[d?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:o.animate}))),t=i}):(s=this.value(),r=this._valueMin(),n=this._valueMax(),i=n!==r?100*((s-r)/(n-r)):0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[d?"animate":"css"](c,o.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[d?"animate":"css"]({width:i+"%"},o.animate),"max"===a&&"horizontal"===this.orientation&&this.range[d?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:o.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[d?"animate":"css"]({height:i+"%"},o.animate),"max"===a&&"vertical"===this.orientation&&this.range[d?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:o.animate}))},_handleEvents:{keydown:function(i){var s,r,n,a,o=e(i.target).data("ui-slider-handle-index");switch(i.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(i.target).addClass("ui-state-active"),s=this._start(i,o),s===!1))return}switch(a=this.options.step,r=n=this.options.values&&this.options.values.length?this.values(o):this.value(),i.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/t);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(r===this._valueMax())return;n=this._trimAlignValue(r+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(r===this._valueMin())return;n=this._trimAlignValue(r-a)}this._slide(i,o,n)},click:function(e){e.preventDefault()},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}})}(jQuery),function(e){function t(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var i=e.originalEvent.changedTouches[0],s=document.createEvent("MouseEvents");s.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(s)}}if(e.support.touch="ontouchend"in document,e.support.touch){var i,s=e.ui.mouse.prototype,r=s._mouseInit;s._touchStart=function(e){var s=this;!i&&s._mouseCapture(e.originalEvent.changedTouches[0])&&(i=!0,s._touchMoved=!1,t(e,"mouseover"),t(e,"mousemove"),t(e,"mousedown"))},s._touchMove=function(e){i&&(this._touchMoved=!0,t(e,"mousemove"))},s._touchEnd=function(e){i&&(t(e,"mouseup"),t(e,"mouseout"),this._touchMoved||t(e,"click"),i=!1)},s._mouseInit=function(){var t=this;t.element.bind("touchstart",e.proxy(t,"_touchStart")).bind("touchmove",e.proxy(t,"_touchMove")).bind("touchend",e.proxy(t,"_touchEnd")),r.call(t)}}}(jQuery),function(e){"use strict";var t={},i=Math.max,s=Math.min;t.c={},t.c.d=e(document),t.c.t=function(e){return e.originalEvent.touches.length-1},t.o=function(){var i=this;this.o=null,this.$=null,this.i=null,this.g=null,this.v=null,this.cv=null,this.x=0,this.y=0,this.$c=null,this.c=null,this.t=0,this.isInit=!1,this.fgColor=null,this.pColor=null,this.dH=null,this.cH=null,this.eH=null,this.rH=null,this.usesExcanvas="undefined"!=typeof G_vmlCanvasManager,this.run=function(){var t=function(e,t){var s;for(s in t)i.o[s]=t[s];i.init(),i._configure()._draw()};if(!this.$.data("kontroled"))return this.$.data("kontroled",!0),this.extend(),this.o=e.extend({min:this.$.data("min")||0,max:this.$.data("max")||100,stopper:!0,readOnly:this.$.data("readonly"),cursor:this.$.data("cursor")===!0&&30||this.$.data("cursor")||0,thickness:this.$.data("thickness")||.35,width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:null==this.$.data("displayinput")||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inline:!1,draw:null,change:null,cancel:null,release:null},this.o),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(t){var s=e(this);i.i[t]=s,i.v[t]=s.val(),s.bind("change",function(){var e={};e[t]=s.val(),i.val(e)})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.$.val(),""==this.v&&(this.v=this.o.min),this.$.bind("change",function(){i.val(i.$.val())})),!this.o.displayInput&&this.$.hide(),this.$c=e(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height}),this.$.wrap(e('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>')).before(this.$c),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.$c[0]),this.usesExcanvas&&G_vmlCanvasManager.initElement(this.$c[0]),this.c=this.$c[0].getContext("2d"),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",t).parent().bind("configure",t),this._listen()._configure()._xy().init(),this.isInit=!0,this._draw(),this},this._draw=function(){var e=!0;i.g=i.c,i.clear(),i.dH&&(e=i.dH()),e!==!1&&i.draw()},this._touch=function(e){var s=function(e){var t=i.xy2val(e.originalEvent.touches[i.t].pageX,e.originalEvent.touches[i.t].pageY);t!=i.cv&&(i.cH&&i.cH(t)===!1||(i.change(t),i._draw()))};return this.t=t.c.t(e),s(e),t.c.d.bind("touchmove.k",s).bind("touchend.k",function(){t.c.d.unbind("touchmove.k touchend.k"),i.rH&&i.rH(i.cv)===!1||i.val(i.cv)}),this},this._mouse=function(e){var s=function(e){var t=i.xy2val(e.pageX,e.pageY);t!=i.cv&&(i.cH&&i.cH(t)===!1||(i.change(t),i._draw()))};return s(e),t.c.d.bind("mousemove.k",s).bind("keyup.k",function(e){if(27===e.keyCode){if(t.c.d.unbind("mouseup.k mousemove.k keyup.k"),i.eH&&i.eH()===!1)return;i.cancel()}}).bind("mouseup.k",function(e){t.c.d.unbind("mousemove.k mouseup.k keyup.k"),i.rH&&i.rH(i.cv)===!1||i.val(i.cv)}),this},this._xy=function(){var e=this.$c.offset();return this.x=e.left,this.y=e.top,this},this._listen=function(){return this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",function(e){e.preventDefault(),i._xy()._mouse(e)}).bind("touchstart",function(e){e.preventDefault(),i._xy()._touch(e)}),this.listen()),this},this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,this},this._clear=function(){this.$c[0].width=this.$c[0].width},this.listen=function(){},this.extend=function(){},this.init=function(){},this.change=function(e){},this.val=function(e){},this.xy2val=function(e,t){},this.draw=function(){},this.clear=function(){this._clear()},this.h2rgba=function(e,t){var i;return e=e.substring(1,7),i=[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)],"rgba("+i[0]+","+i[1]+","+i[2]+","+t+")"},this.copy=function(e,t){for(var i in e)t[i]=e[i]}},t.Dial=function(){t.o.call(this),this.startAngle=null,this.xy=null,this.radius=null,this.lineWidth=null,this.cursorExt=null,this.w2=null,this.PI2=2*Math.PI,this.extend=function(){this.o=e.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)},this.val=function(e){return null==e?this.v:(this.cv=this.o.stopper?i(s(e,this.o.max),this.o.min):e,this.v=this.cv,this.$.val(this.v),this._draw(),void 0)},this.xy2val=function(e,t){var r,n;return r=Math.atan2(e-(this.x+this.w2),-(t-this.y-this.w2))-this.angleOffset,this.angleArc!=this.PI2&&0>r&&r>-.5?r=0:0>r&&(r+=this.PI2),n=~~(.5+r*(this.o.max-this.o.min)/this.angleArc)+this.o.min,this.o.stopper&&(n=i(s(n,this.o.max),this.o.min)),n},this.listen=function(){var t,r,n=this,a=function(e){e.preventDefault();var t=e.originalEvent,i=t.detail||t.wheelDeltaX,s=t.detail||t.wheelDeltaY,r=parseInt(n.$.val()||n.o.min)+(i>0||s>0?1:0>i||0>s?-1:0);n.cH&&n.cH(r)===!1||n.val(r)},o=1,l={37:-1,38:1,39:1,40:-1};this.$.bind("keydown",function(a){var d=a.keyCode;if(d>=96&&105>=d&&(d=a.keyCode=d-48),t=parseInt(String.fromCharCode(d)),isNaN(t)&&(13!==d&&8!==d&&9!==d&&189!==d&&a.preventDefault(),e.inArray(d,[37,38,39,40])>-1)){a.preventDefault();var c=parseInt(n.$.val())+l[d]*o;n.o.stopper&&(c=i(s(c,n.o.max),n.o.min)),n.change(c),n._draw(),r=window.setTimeout(function(){o*=2},30)}}).bind("keyup",function(e){isNaN(t)?r&&(window.clearTimeout(r),r=null,o=1,n.val(n.$.val())):n.$.val()>n.o.max&&n.$.val(n.o.max)||n.$.val()<n.o.min&&n.$.val(n.o.min)}),this.$c.bind("mousewheel DOMMouseScroll",a),this.$.bind("mousewheel DOMMouseScroll",a)},this.init=function(){(this.v<this.o.min||this.v>this.o.max)&&(this.v=this.o.min),this.$.val(this.v),this.w2=this.o.width/2,this.cursorExt=this.o.cursor/100,this.xy=this.w2,this.lineWidth=this.xy*this.o.thickness,this.radius=this.xy-this.lineWidth/2,this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset),this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc),this.angleOffset=this.o.angleOffset*Math.PI/180,this.angleArc=this.o.angleArc*Math.PI/180,this.startAngle=1.5*Math.PI+this.angleOffset,this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var e=i(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.o.width/2+4>>0)+"px",height:(this.o.width/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.o.width/3>>0)+"px","margin-left":"-"+(3*this.o.width/4+2>>0)+"px",border:0,background:"none",font:"bold "+(this.o.width/e>>0)+"px Arial","text-align":"center",color:this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})},this.change=function(e){this.cv=e,this.$.val(e)},this.angle=function(e){return(e-this.o.min)*this.angleArc/(this.o.max-this.o.min)},this.draw=function(){var e,t,i=this.g,s=this.angle(this.cv),r=this.startAngle,n=r+s,a=1;i.lineWidth=this.lineWidth,this.o.cursor&&(r=n-this.cursorExt)&&(n+=this.cursorExt),i.beginPath(),i.strokeStyle=this.o.bgColor,i.arc(this.xy,this.xy,this.radius,this.endAngle,this.startAngle,!0),i.stroke(),this.o.displayPrevious&&(t=this.startAngle+this.angle(this.v),e=this.startAngle,this.o.cursor&&(e=t-this.cursorExt)&&(t+=this.cursorExt),i.beginPath(),i.strokeStyle=this.pColor,i.arc(this.xy,this.xy,this.radius,e,t,!1),i.stroke(),a=this.cv==this.v),i.beginPath(),i.strokeStyle=a?this.o.fgColor:this.fgColor,i.arc(this.xy,this.xy,this.radius,r,n,!1),i.stroke()},this.cancel=function(){this.val(this.v)}},e.fn.dial=e.fn.knob=function(i){return this.each(function(){var s=new t.Dial;s.o=i,s.$=e(this),s.run()}).parent()}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery||window.$)}(function(e){var t,i={className:"autosizejs",append:"",callback:!1,resizeDelay:10},s='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',r=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],n=e(s).data("autosize",!0)[0];n.style.lineHeight="99px","99px"===e(n).css("lineHeight")&&r.push("lineHeight"),n.style.lineHeight="",e.fn.autosize=function(s){return s=e.extend({},i,s||{}),n.parentNode!==document.body&&e(document.body).append(n),this.each(function(){function i(){var t,i;"getComputedStyle"in window?(t=window.getComputedStyle(u),i=u.getBoundingClientRect().width,e.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(e,s){i-=parseInt(t[s],10)}),n.style.width=i+"px"):n.style.width=Math.max(p.width(),0)+"px"}function a(){var a={};if(t=u,n.className=s.className,d=parseInt(p.css("maxHeight"),10),e.each(r,function(e,t){a[t]=p.css(t)}),e(n).css(a),i(),window.chrome){var o=u.style.width;u.style.width="0px",u.offsetWidth,u.style.width=o}}function o(){var e,r;t!==u?a():i(),n.value=u.value+s.append,n.style.overflowY=u.style.overflowY,r=parseInt(u.style.height,10),n.scrollTop=0,n.scrollTop=9e4,e=n.scrollTop,d&&e>d?(u.style.overflowY="scroll",e=d):(u.style.overflowY="hidden",c>e&&(e=c)),e+=f,r!==e&&(u.style.height=e+"px",g&&s.callback.call(u,u))}function l(){clearTimeout(h),h=setTimeout(function(){var e=p.width();e!==v&&(v=e,o())},parseInt(s.resizeDelay,10))}var d,c,h,u=this,p=e(u),f=0,g=e.isFunction(s.callback),m={height:u.style.height,overflow:u.style.overflow,overflowY:u.style.overflowY,wordWrap:u.style.wordWrap,resize:u.style.resize},v=p.width();p.data("autosize")||(p.data("autosize",!0),("border-box"===p.css("box-sizing")||"border-box"===p.css("-moz-box-sizing")||"border-box"===p.css("-webkit-box-sizing"))&&(f=p.outerHeight()-p.height()),c=Math.max(parseInt(p.css("minHeight"),10)-f||0,p.height()),p.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:"none"===p.css("resize")||"vertical"===p.css("resize")?"none":"horizontal"}),"onpropertychange"in u?"oninput"in u?p.on("input.autosize keyup.autosize",o):p.on("propertychange.autosize",function(){"value"===event.propertyName&&o()}):p.on("input.autosize",o),s.resizeDelay!==!1&&e(window).on("resize.autosize",l),p.on("autosize.resize",o),p.on("autosize.resizeIncludeStyle",function(){t=null,o()}),p.on("autosize.destroy",function(){t=null,clearTimeout(h),e(window).off("resize",l),p.off("autosize").off(".autosize").css(m).removeData("autosize")}),o())})}}),function(e){e.fn.inputlimiter=function(t){var i=e.extend({},e.fn.inputlimiter.defaults,t);e(this);i.boxAttach&&!e("#"+i.boxId).length&&(e("<div/>").appendTo("body").attr({id:i.boxId,"class":i.boxClass}).css({position:"absolute"}).hide(),e.fn.bgiframe&&e("#"+i.boxId).bgiframe());var s=function(t){var s=e(this),r=a(s.val());!i.allowExceed&&r>i.limit&&s.val(o(s.val())),i.boxAttach&&e("#"+i.boxId).css({width:s.outerWidth()-(e("#"+i.boxId).outerWidth()-e("#"+i.boxId).width())+"px",left:s.offset().left+"px",top:s.offset().top+s.outerHeight()-1+"px","z-index":2e3});var n=i.limit-r>0?i.limit-r:0,l=i.remTextFilter(i,n),d=i.limitTextFilter(i);if(i.limitTextShow){e("#"+i.boxId).html(l+" "+d);var c=e("<span/>").appendTo("body").attr({id:"19cc9195583bfae1fad88e19d443be7a","class":i.boxClass}).html(l+" "+d).innerWidth();e("#19cc9195583bfae1fad88e19d443be7a").remove(),c>e("#"+i.boxId).innerWidth()&&e("#"+i.boxId).html(l+"<br />"+d),e("#"+i.boxId).show()}else e("#"+i.boxId).html(l).show()},r=function(t){var s=a(e(this).val());if(!i.allowExceed&&s>i.limit){var r=t.ctrlKey||t.altKey||t.metaKey;if(!r&&t.which>=32&&t.which<=122&&this.selectionStart===this.selectionEnd)return!1}},n=function(){var t=e(this);
if(count=a(t.val()),!i.allowExceed&&count>i.limit&&t.val(o(t.val())),i.boxAttach)e("#"+i.boxId).fadeOut("fast");else if(i.remTextHideOnBlur){var s=i.limitText;s=s.replace(/\%n/g,i.limit),s=s.replace(/\%s/g,1===i.limit?"":"s"),e("#"+i.boxId).html(s)}},a=function(t){if("words"===i.limitBy.toLowerCase())return t.length>0?e.trim(t).replace(/\ +(?= )/g,"").split(" ").length:0;var s=t.length,r=t.match(/\n/g);return r&&i.lineReturnCount>1&&(s+=r.length*(i.lineReturnCount-1)),s},o=function(t){return"words"===i.limitBy.toLowerCase()?e.trim(t).replace(/\ +(?= )/g,"").split(" ").splice(0,i.limit).join(" ")+" ":t.substring(0,i.limit)};e(this).each(function(a){var o=e(this);(!t||!t.limit)&&i.useMaxlength&&parseInt(o.attr("maxlength"))>0&&parseInt(o.attr("maxlength"))!=i.limit?o.inputlimiter(e.extend({},i,{limit:parseInt(o.attr("maxlength"))})):(!i.allowExceed&&i.useMaxlength&&"characters"===i.limitBy.toLowerCase()&&o.attr("maxlength",i.limit),o.unbind(".inputlimiter"),o.bind("keyup.inputlimiter",s),o.bind("keypress.inputlimiter",r),o.bind("blur.inputlimiter",n))})},e.fn.inputlimiter.remtextfilter=function(e,t){var i=e.remText;return 0===t&&null!==e.remFullText&&(i=e.remFullText),i=i.replace(/\%n/g,t),i=i.replace(/\%s/g,e.zeroPlural?1===t?"":"s":1>=t?"":"s")},e.fn.inputlimiter.limittextfilter=function(e){var t=e.limitText;return t=t.replace(/\%n/g,e.limit),t=t.replace(/\%s/g,e.limit<=1?"":"s")},e.fn.inputlimiter.defaults={limit:255,boxAttach:!0,boxId:"limiterBox",boxClass:"limiterBox",remText:"%n character%s remaining.",remTextFilter:e.fn.inputlimiter.remtextfilter,remTextHideOnBlur:!0,remFullText:null,limitTextShow:!0,limitText:"Field limited to %n character%s.",limitTextFilter:e.fn.inputlimiter.limittextfilter,zeroPlural:!0,allowExceed:!1,useMaxlength:!0,limitBy:"characters",lineReturnCount:1}}(jQuery),!function(){var e,t,i,s,r,n={}.hasOwnProperty,a=function(e,t){function i(){this.constructor=e}for(var s in t)n.call(t,s)&&(e[s]=t[s]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};s=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,s,r,n,a;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),children:0,disabled:e.disabled}),n=e.childNodes,a=[],s=0,r=n.length;r>s;s++)i=n[s],a.push(this.add_option(i,t,e.disabled));return a},e.prototype.add_option=function(e,t,i){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:i===!0?i:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e.prototype.escapeExpression=function(e){var t,i;return null==e||e===!1?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(i,function(e){return t[e]||"&amp;"})):e},e}(),s.select_to_array=function(e){var t,i,r,n,a;for(i=new s,a=e.childNodes,r=0,n=a.length;n>r;r++)t=a[r],i.add_node(t);return i.parsed},t=function(){function e(t,i){this.form_field=t,this.options=null!=i?i:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},e.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},e.prototype.results_option_build=function(e){var t,i,s,r,n;for(t="",n=this.results_data,s=0,r=n.length;r>s;s++)i=n[s],t+=i.group?this.result_add_group(i):this.result_add_option(i),(null!=e?e.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(i.text));return t},e.prototype.result_add_option=function(e){var t,i;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),i=""!==e.style.cssText?' style="'+e.style+'"':"",'<li class="'+t.join(" ")+'"'+i+' data-option-array-index="'+e.array_index+'">'+e.search_text+"</li>"):""},e.prototype.result_add_group=function(e){return(e.search_match||e.group_match)&&e.active_options>0?'<li class="group-result">'+e.search_text+"</li>":""},e.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build(),this.results_showing?this.winnow_results():void 0},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.winnow_results=function(){var e,t,i,s,r,n,a,o,l,d,c,h,u;for(this.no_results_clear(),r=0,a=this.get_search_text(),e=a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),s=this.search_contains?"":"^",i=new RegExp(s+e,"i"),d=new RegExp(e,"i"),u=this.results_data,c=0,h=u.length;h>c;c++)t=u[c],t.search_match=!1,n=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(n=this.results_data[t.group_array_index],0===n.active_options&&n.search_match&&(r+=1),n.active_options+=1),(!t.group||this.group_search)&&(t.search_text=t.group?t.label:t.html,t.search_match=this.search_string_match(t.search_text,i),t.search_match&&!t.group&&(r+=1),t.search_match?(a.length&&(o=t.search_text.search(d),l=t.search_text.substr(0,o+a.length)+"</em>"+t.search_text.substr(o+a.length),t.search_text=l.substr(0,o)+"<em>"+l.substr(o)),null!=n&&(n.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return this.result_clear_highlight(),1>r&&a.length?(this.update_results_content(""),this.no_results(a)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.search_string_match=function(e,t){var i,s,r,n;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||0===e.indexOf("["))&&(s=e.replace(/\[|\]/g,"").split(" "),s.length))for(r=0,n=s.length;n>r;r++)if(i=s[r],t.test(i))return!0},e.prototype.choices_count=function(){var e,t,i,s;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,s=this.form_field.options,t=0,i=s.length;i>t;t++)e=s[t],e.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},e.prototype.keyup_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return this.is_multiple&&!this.display_selected_options&&e.selected?!1:!this.display_disabled_options&&e.disabled?!1:e.empty?!1:!0},e.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),e=jQuery,e.fn.extend({chosen:function(s){return t.browser_is_supported()?this.each(function(){var t,r;t=e(this),r=t.data("chosen"),"destroy"===s&&r?r.destroy():r||t.data("chosen",new i(this,s))}):this}}),i=function(t){function i(){return r=i.__super__.constructor.apply(this,arguments)}return a(i,t),i.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},i.prototype.set_up_html=function(){var t,i;return t=["chosen-container"],t.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),i={"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",i),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var e=this;return this.container.bind("mousedown.chosen",function(t){e.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){e.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){e.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){e.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){e.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){e.search_results_mousewheel(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t){e.results_update_field(t)}),this.form_field_jq.bind("chosen:activate.chosen",function(t){e.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){e.container_mousedown(t)}),this.search_field.bind("blur.chosen",function(t){e.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){e.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){e.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){e.input_focus(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){e.choices_click(t)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},i.prototype.destroy=function(){return e(document).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},i.prototype.container_mousedown=function(t){return this.is_disabled||(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(document).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},i.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},i.prototype.search_results_mousewheel=function(e){var t,i,s;return t=-(null!=(i=e.originalEvent)?i.wheelDelta:void 0)||(null!=(s=e.originialEvent)?s.detail:void 0),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t=40*t),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},i.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},i.prototype.close_field=function(){return e(document).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(t){return this.container.is(e(t.target).closest(".chosen-container"))?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=s.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(e){var t,i,s,r,n;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),s=parseInt(this.search_results.css("maxHeight"),10),n=this.search_results.scrollTop(),r=s+n,i=this.result_highlight.position().top+this.search_results.scrollTop(),t=i+this.result_highlight.outerHeight(),t>=r)return this.search_results.scrollTop(t-s>0?t-s:0);if(n>i)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results())},i.prototype.update_results_content=function(e){return this.search_results.html(e)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(){var e;return this.form_field.tabIndex?(e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e):void 0},i.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(t),this.search_field.focus()):void 0},i.prototype.search_results_mouseover=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},i.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},i.prototype.choice_build=function(t){var i,s,r=this;return i=e("<li />",{"class":"search-choice"}).html("<span>"+t.html+"</span>"),t.disabled?i.addClass("search-choice-disabled"):(s=e("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index}),s.bind("click.chosen",function(e){return r.choice_destroy_link_click(e)}),i.append(s)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(e(t.target))},i.prototype.choice_destroy=function(e){return this.result_deselect(e[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},i.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_option_count=null,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(e){var t,i,s;return this.result_highlight?(t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):(this.result_single_selected&&(this.result_single_selected.removeClass("result-selected"),s=this.result_single_selected[0].getAttribute("data-option-array-index"),this.results_data[s].selected=!1),this.result_single_selected=t),t.addClass("result-selected"),i=this.results_data[t[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(i.text),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},i.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(e)},i.prototype.result_deselect=function(e){var t;return t=this.results_data[e],this.form_field.options[t.options_index].disabled?!1:(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},i.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html()},i.prototype.winnow_results_set_highlight=function(){var e,t;return t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null!=e?this.result_do_highlight(e):void 0},i.prototype.no_results=function(t){var i;return i=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(t),this.search_results.append(i)},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},i.prototype.search_field_scale=function(){var t,i,s,r,n,a,o,l,d;if(this.is_multiple){for(s=0,o=0,n="position:absolute; left: -1000px; top: -1000px; display:none;",a=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,d=a.length;d>l;l++)r=a[l],n+=r+":"+this.search_field.css(r)+";";return t=e("<div />",{style:n}),t.text(this.search_field.val()),e("body").append(t),o=t.width()+25,t.remove(),i=this.container.outerWidth(),o>i-10&&(o=i-10),this.search_field.css({width:o+"px"})}},i}(t)}.call(this),function(e){function t(t){if("undefined"!=typeof t.data&&("string"==typeof t.data&&(t.data={keys:t.data}),t.data&&t.data.keys&&"string"==typeof t.data.keys)){var i=t.handler,s=t.data.keys.toLowerCase().split(" "),r=["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"];t.handler=function(t){if(this===t.target||!(/textarea|select/i.test(t.target.nodeName)||e.inArray(t.target.type,r)>-1)){var n=e.hotkeys.specialKeys[t.keyCode],a=("keydown"===t.type||"keypress"===t.type)&&String.fromCharCode(t.which).toLowerCase();modif="",possible={},t.altKey&&"alt"!==n&&(modif+="alt+"),t.ctrlKey&&"ctrl"!==n&&(modif+="ctrl+"),t.metaKey&&!t.ctrlKey&&"meta"!==n&&(modif+="meta+"),t.shiftKey&&"shift"!==n&&(modif+="shift+"),n&&(possible[modif+n]=!0),a&&(possible[modif+a]=!0,possible[modif+e.hotkeys.shiftNums[a]]=!0,"shift+"===modif&&(possible[e.hotkeys.shiftNums[a]]=!0));for(var o=0,l=s.length;l>o;o++)if(possible[s[o]])return i.apply(this,arguments)}}}}e.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",186:";",191:"/",220:"\\",222:"'",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},e.each(["keydown","keyup","keypress"],function(){e.event.special[this]={add:t}})}(this.jQuery),function(e){jQuery.fn.extend({slimScroll:function(t){var i={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},s=e.extend(i,t);return this.each(function(){function i(t){if(d){var t=t||window.event,i=0;t.wheelDelta&&(i=-t.wheelDelta/120),t.detail&&(i=t.detail/3);var n=t.target||t.srcTarget||t.srcElement;e(n).closest("."+s.wrapperClass).is(w.parent())&&r(i,!0),t.preventDefault&&!y&&t.preventDefault(),y||(t.returnValue=!1)}}function r(e,t,i){var r=e,n=w.outerHeight()-D.outerHeight();if(t&&(r=parseInt(D.css("top"))+e*parseInt(s.wheelStep)/100*D.outerHeight(),r=Math.min(Math.max(r,0),n),r=e>0?Math.ceil(r):Math.floor(r),D.css({top:r+"px"})),g=parseInt(D.css("top"))/(w.outerHeight()-D.outerHeight()),r=g*(w[0].scrollHeight-w.outerHeight()),i){r=e;var a=r/w[0].scrollHeight*w.outerHeight();a=Math.min(Math.max(a,0),n),D.css({top:a+"px"})}w.scrollTop(r),w.trigger("slimscrolling",~~r),o(),l()}function n(){window.addEventListener?(this.addEventListener("DOMMouseScroll",i,!1),this.addEventListener("mousewheel",i,!1)):document.attachEvent("onmousewheel",i)}function a(){f=Math.max(w.outerHeight()/w[0].scrollHeight*w.outerHeight(),b),D.css({height:f+"px"});var e=f==w.outerHeight()?"none":"block";D.css({display:e})}function o(){if(a(),clearTimeout(u),g==~~g){if(y=s.allowPageScroll,m!=g){var e=0==~~g?"top":"bottom";w.trigger("slimscroll",e)}}else y=!1;return m=g,f>=w.outerHeight()?void(y=!0):(D.stop(!0,!0).fadeIn("fast"),void(s.railVisible&&C.stop(!0,!0).fadeIn("fast")))}function l(){s.alwaysVisible||(u=setTimeout(function(){s.disableFadeOut&&d||c||h||(D.fadeOut("slow"),C.fadeOut("slow"))},1e3))}var d,c,h,u,p,f,g,m,v="<div></div>",b=30,y=!1,w=e(this);if(w.parent().hasClass(s.wrapperClass)){var _=w.scrollTop();if(D=w.parent().find("."+s.barClass),C=w.parent().find("."+s.railClass),a(),e.isPlainObject(t)){if("height"in t&&"auto"==t.height){w.parent().css("height","auto"),w.css("height","auto");var x=w.parent().parent().height();w.parent().css("height",x),w.css("height",x)}if("scrollTo"in t)_=parseInt(s.scrollTo);else if("scrollBy"in t)_+=parseInt(s.scrollBy);else if("destroy"in t)return D.remove(),C.remove(),void w.unwrap();r(_,!1,!0)}}else{s.height="auto"==s.height?w.parent().height():s.height;var j=e(v).addClass(s.wrapperClass).css({position:"relative",overflow:"hidden",width:s.width,height:s.height});w.css({overflow:"hidden",width:s.width,height:s.height});var C=e(v).addClass(s.railClass).css({width:s.size,height:"100%",position:"absolute",top:0,display:s.alwaysVisible&&s.railVisible?"block":"none","border-radius":s.railBorderRadius,background:s.railColor,opacity:s.railOpacity,zIndex:90}),D=e(v).addClass(s.barClass).css({background:s.color,width:s.size,position:"absolute",top:0,opacity:s.opacity,display:s.alwaysVisible?"block":"none","border-radius":s.borderRadius,BorderRadius:s.borderRadius,MozBorderRadius:s.borderRadius,WebkitBorderRadius:s.borderRadius,zIndex:99}),S="right"==s.position?{right:s.distance}:{left:s.distance};C.css(S),D.css(S),w.wrap(j),w.parent().append(D),w.parent().append(C),s.railDraggable&&e.ui&&"function"==typeof e.ui.draggable&&D.draggable({axis:"y",containment:"parent",start:function(){h=!0},stop:function(){h=!1,l()},drag:function(t){r(0,e(this).position().top,!1)}}),C.hover(function(){o()},function(){
l()}),D.hover(function(){c=!0},function(){c=!1}),w.hover(function(){d=!0,o(),l()},function(){d=!1,l()}),w.bind("touchstart",function(e,t){e.originalEvent.touches.length&&(p=e.originalEvent.touches[0].pageY)}),w.bind("touchmove",function(e){if(e.originalEvent.preventDefault(),e.originalEvent.touches.length){var t=(p-e.originalEvent.touches[0].pageY)/s.touchScrollStep;r(t,!0)}}),"bottom"===s.start?(D.css({top:w.outerHeight()-D.outerHeight()}),r(0,!0)):"top"!==s.start&&(r(e(s.start).position().top,null,!0),s.alwaysVisible||D.hide()),n(),a()}}),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery),function(X,l,n){var L=function(h){var j=function(e){function o(e,t){var i=j.defaults.columns,s=e.aoColumns.length,i=h.extend({},j.models.oColumn,i,{sSortingClass:e.oClasses.sSortable,sSortingClassJUI:e.oClasses.sSortJUI,nTh:t?t:l.createElement("th"),sTitle:i.sTitle?i.sTitle:t?t.innerHTML:"",aDataSort:i.aDataSort?i.aDataSort:[s],mData:i.mData?i.oDefaults:s});e.aoColumns.push(i),e.aoPreSearchCols[s]===n||null===e.aoPreSearchCols[s]?e.aoPreSearchCols[s]=h.extend({},j.models.oSearch):(i=e.aoPreSearchCols[s],i.bRegex===n&&(i.bRegex=!0),i.bSmart===n&&(i.bSmart=!0),i.bCaseInsensitive===n&&(i.bCaseInsensitive=!0)),m(e,s,null)}function m(e,t,i){var s=e.aoColumns[t];i!==n&&null!==i&&(i.mDataProp&&!i.mData&&(i.mData=i.mDataProp),i.sType!==n&&(s.sType=i.sType,s._bAutoType=!1),h.extend(s,i),p(s,i,"sWidth","sWidthOrig"),i.iDataSort!==n&&(s.aDataSort=[i.iDataSort]),p(s,i,"aDataSort"));var r=s.mRender?Q(s.mRender):null,a=Q(s.mData);s.fnGetData=function(e,t){var i=a(e,t);return s.mRender&&t&&""!==t?r(i,t,e):i},s.fnSetData=L(s.mData),e.oFeatures.bSort||(s.bSortable=!1),!s.bSortable||-1==h.inArray("asc",s.asSorting)&&-1==h.inArray("desc",s.asSorting)?(s.sSortingClass=e.oClasses.sSortableNone,s.sSortingClassJUI=""):-1==h.inArray("asc",s.asSorting)&&-1==h.inArray("desc",s.asSorting)?(s.sSortingClass=e.oClasses.sSortable,s.sSortingClassJUI=e.oClasses.sSortJUI):-1!=h.inArray("asc",s.asSorting)&&-1==h.inArray("desc",s.asSorting)?(s.sSortingClass=e.oClasses.sSortableAsc,s.sSortingClassJUI=e.oClasses.sSortJUIAscAllowed):-1==h.inArray("asc",s.asSorting)&&-1!=h.inArray("desc",s.asSorting)&&(s.sSortingClass=e.oClasses.sSortableDesc,s.sSortingClassJUI=e.oClasses.sSortJUIDescAllowed)}function k(e){if(!1===e.oFeatures.bAutoWidth)return!1;da(e);for(var t=0,i=e.aoColumns.length;i>t;t++)e.aoColumns[t].nTh.style.width=e.aoColumns[t].sWidth}function G(e,t){var i=r(e,"bVisible");return"number"==typeof i[t]?i[t]:null}function R(e,t){var i=r(e,"bVisible"),i=h.inArray(t,i);return-1!==i?i:null}function t(e){return r(e,"bVisible").length}function r(e,t){var i=[];return h.map(e.aoColumns,function(e,s){e[t]&&i.push(s)}),i}function B(e){for(var t=j.ext.aTypes,i=t.length,s=0;i>s;s++){var r=t[s](e);if(null!==r)return r}return"string"}function u(e,t){for(var i=t.split(","),s=[],r=0,n=e.aoColumns.length;n>r;r++)for(var a=0;n>a;a++)if(e.aoColumns[r].sName==i[a]){s.push(a);break}return s}function M(e){for(var t="",i=0,s=e.aoColumns.length;s>i;i++)t+=e.aoColumns[i].sName+",";return t.length==s?"":t.slice(0,-1)}function ta(e,t,i,s){var r,n,a,l,d;if(t)for(r=t.length-1;r>=0;r--){var c=t[r].aTargets;for(h.isArray(c)||D(e,1,"aTargets must be an array of targets, not a "+typeof c),n=0,a=c.length;a>n;n++)if("number"==typeof c[n]&&0<=c[n]){for(;e.aoColumns.length<=c[n];)o(e);s(c[n],t[r])}else if("number"==typeof c[n]&&0>c[n])s(e.aoColumns.length+c[n],t[r]);else if("string"==typeof c[n])for(l=0,d=e.aoColumns.length;d>l;l++)("_all"==c[n]||h(e.aoColumns[l].nTh).hasClass(c[n]))&&s(l,t[r])}if(i)for(r=0,e=i.length;e>r;r++)s(r,i[r])}function H(e,t){var i;i=h.isArray(t)?t.slice():h.extend(!0,{},t);var s=e.aoData.length,r=h.extend(!0,{},j.models.oRow);r._aData=i,e.aoData.push(r);for(var n,r=0,a=e.aoColumns.length;a>r;r++)i=e.aoColumns[r],"function"==typeof i.fnRender&&i.bUseRendered&&null!==i.mData?F(e,s,r,S(e,s,r)):F(e,s,r,v(e,s,r)),i._bAutoType&&"string"!=i.sType&&(n=v(e,s,r,"type"),null!==n&&""!==n&&(n=B(n),null===i.sType?i.sType=n:i.sType!=n&&"html"!=i.sType&&(i.sType="string")));return e.aiDisplayMaster.push(s),e.oFeatures.bDeferRender||ea(e,s),s}function ua(e){var t,i,s,r,n,a,o;if(e.bDeferLoading||null===e.sAjaxSource)for(t=e.nTBody.firstChild;t;){if("TR"==t.nodeName.toUpperCase())for(i=e.aoData.length,t._DT_RowIndex=i,e.aoData.push(h.extend(!0,{},j.models.oRow,{nTr:t})),e.aiDisplayMaster.push(i),n=t.firstChild,s=0;n;)a=n.nodeName.toUpperCase(),("TD"==a||"TH"==a)&&(F(e,i,s,h.trim(n.innerHTML)),s++),n=n.nextSibling;t=t.nextSibling}for(r=T(e),s=[],t=0,i=r.length;i>t;t++)for(n=r[t].firstChild;n;)a=n.nodeName.toUpperCase(),("TD"==a||"TH"==a)&&s.push(n),n=n.nextSibling;for(i=0,r=e.aoColumns.length;r>i;i++){o=e.aoColumns[i],null===o.sTitle&&(o.sTitle=o.nTh.innerHTML);var l,d,c=o._bAutoType,u="function"==typeof o.fnRender,p=null!==o.sClass,f=o.bVisible;if(c||u||p||!f)for(a=0,t=e.aoData.length;t>a;a++)n=e.aoData[a],l=s[a*r+i],c&&"string"!=o.sType&&(d=v(e,a,i,"type"),""!==d&&(d=B(d),null===o.sType?o.sType=d:o.sType!=d&&"html"!=o.sType&&(o.sType="string"))),o.mRender?l.innerHTML=v(e,a,i,"display"):o.mData!==i&&(l.innerHTML=v(e,a,i,"display")),u&&(d=S(e,a,i),l.innerHTML=d,o.bUseRendered&&F(e,a,i,d)),p&&(l.className+=" "+o.sClass),f?n._anHidden[i]=null:(n._anHidden[i]=l,l.parentNode.removeChild(l)),o.fnCreatedCell&&o.fnCreatedCell.call(e.oInstance,l,v(e,a,i,"display"),n._aData,a,i)}if(0!==e.aoRowCreatedCallback.length)for(t=0,i=e.aoData.length;i>t;t++)n=e.aoData[t],A(e,"aoRowCreatedCallback",null,[n.nTr,n._aData,t])}function I(e,t){return t._DT_RowIndex!==n?t._DT_RowIndex:null}function fa(e,t,i){for(var t=J(e,t),s=0,e=e.aoColumns.length;e>s;s++)if(t[s]===i)return s;return-1}function Y(e,t,i,s){for(var r=[],n=0,a=s.length;a>n;n++)r.push(v(e,t,s[n],i));return r}function v(e,t,i,s){var r=e.aoColumns[i];if((i=r.fnGetData(e.aoData[t]._aData,s))===n)return e.iDrawError!=e.iDraw&&null===r.sDefaultContent&&(D(e,0,"Requested unknown parameter "+("function"==typeof r.mData?"{mData function}":"'"+r.mData+"'")+" from the data source for row "+t),e.iDrawError=e.iDraw),r.sDefaultContent;if(null===i&&null!==r.sDefaultContent)i=r.sDefaultContent;else if("function"==typeof i)return i();return"display"==s&&null===i?"":i}function F(e,t,i,s){e.aoColumns[i].fnSetData(e.aoData[t]._aData,s)}function Q(e){if(null===e)return function(){return null};if("function"==typeof e)return function(t,i,s){return e(t,i,s)};if("string"==typeof e&&(-1!==e.indexOf(".")||-1!==e.indexOf("["))){var t=function(e,i,s){var r,a=s.split(".");if(""!==s){var o=0;for(r=a.length;r>o;o++){if(s=a[o].match(U)){a[o]=a[o].replace(U,""),""!==a[o]&&(e=e[a[o]]),r=[],a.splice(0,o+1);for(var a=a.join("."),o=0,l=e.length;l>o;o++)r.push(t(e[o],i,a));e=s[0].substring(1,s[0].length-1),e=""===e?r:r.join(e);break}if(null===e||e[a[o]]===n)return n;e=e[a[o]]}}return e};return function(i,s){return t(i,s,e)}}return function(t){return t[e]}}function L(e){if(null===e)return function(){};if("function"==typeof e)return function(t,i){e(t,"set",i)};if("string"==typeof e&&(-1!==e.indexOf(".")||-1!==e.indexOf("["))){var t=function(e,i,s){var r,a,s=s.split("."),o=0;for(a=s.length-1;a>o;o++){if(r=s[o].match(U)){s[o]=s[o].replace(U,""),e[s[o]]=[],r=s.slice(),r.splice(0,o+1),a=r.join(".");for(var l=0,d=i.length;d>l;l++)r={},t(r,i[l],a),e[s[o]].push(r);return}(null===e[s[o]]||e[s[o]]===n)&&(e[s[o]]={}),e=e[s[o]]}e[s[s.length-1].replace(U,"")]=i};return function(i,s){return t(i,s,e)}}return function(t,i){t[e]=i}}function Z(e){for(var t=[],i=e.aoData.length,s=0;i>s;s++)t.push(e.aoData[s]._aData);return t}function ga(e){e.aoData.splice(0,e.aoData.length),e.aiDisplayMaster.splice(0,e.aiDisplayMaster.length),e.aiDisplay.splice(0,e.aiDisplay.length),y(e)}function ha(e,t){for(var i=-1,s=0,r=e.length;r>s;s++)e[s]==t?i=s:e[s]>t&&e[s]--;-1!=i&&e.splice(i,1)}function S(e,t,i){var s=e.aoColumns[i];return s.fnRender({iDataRow:t,iDataColumn:i,oSettings:e,aData:e.aoData[t]._aData,mDataProp:s.mData},v(e,t,i,"display"))}function ea(e,t){var i,s=e.aoData[t];if(null===s.nTr){s.nTr=l.createElement("tr"),s.nTr._DT_RowIndex=t,s._aData.DT_RowId&&(s.nTr.id=s._aData.DT_RowId),s._aData.DT_RowClass&&(s.nTr.className=s._aData.DT_RowClass);for(var r=0,n=e.aoColumns.length;n>r;r++){var a=e.aoColumns[r];i=l.createElement(a.sCellType),i.innerHTML="function"!=typeof a.fnRender||a.bUseRendered&&null!==a.mData?v(e,t,r,"display"):S(e,t,r),null!==a.sClass&&(i.className=a.sClass),a.bVisible?(s.nTr.appendChild(i),s._anHidden[r]=null):s._anHidden[r]=i,a.fnCreatedCell&&a.fnCreatedCell.call(e.oInstance,i,v(e,t,r,"display"),s._aData,t,r)}A(e,"aoRowCreatedCallback",null,[s.nTr,s._aData,t])}}function va(e){var t,i,s;if(0!==h("th, td",e.nTHead).length)for(t=0,s=e.aoColumns.length;s>t;t++)i=e.aoColumns[t].nTh,i.setAttribute("role","columnheader"),e.aoColumns[t].bSortable&&(i.setAttribute("tabindex",e.iTabIndex),i.setAttribute("aria-controls",e.sTableId)),null!==e.aoColumns[t].sClass&&h(i).addClass(e.aoColumns[t].sClass),e.aoColumns[t].sTitle!=i.innerHTML&&(i.innerHTML=e.aoColumns[t].sTitle);else{var r=l.createElement("tr");for(t=0,s=e.aoColumns.length;s>t;t++)i=e.aoColumns[t].nTh,i.innerHTML=e.aoColumns[t].sTitle,i.setAttribute("tabindex","0"),null!==e.aoColumns[t].sClass&&h(i).addClass(e.aoColumns[t].sClass),r.appendChild(i);h(e.nTHead).html("")[0].appendChild(r),V(e.aoHeader,e.nTHead)}if(h(e.nTHead).children("tr").attr("role","row"),e.bJUI)for(t=0,s=e.aoColumns.length;s>t;t++){i=e.aoColumns[t].nTh,r=l.createElement("div"),r.className=e.oClasses.sSortJUIWrapper,h(i).contents().appendTo(r);var n=l.createElement("span");n.className=e.oClasses.sSortIcon,r.appendChild(n),i.appendChild(r)}if(e.oFeatures.bSort)for(t=0;t<e.aoColumns.length;t++)!1!==e.aoColumns[t].bSortable?ia(e,e.aoColumns[t].nTh,t):h(e.aoColumns[t].nTh).addClass(e.oClasses.sSortableNone);if(""!==e.oClasses.sFooterTH&&h(e.nTFoot).children("tr").children("th").addClass(e.oClasses.sFooterTH),null!==e.nTFoot)for(i=N(e,null,e.aoFooter),t=0,s=e.aoColumns.length;s>t;t++)i[t]&&(e.aoColumns[t].nTf=i[t],e.aoColumns[t].sClass&&h(i[t]).addClass(e.aoColumns[t].sClass))}function W(e,t,i){var s,r,a,o,l=[],d=[],c=e.aoColumns.length;for(i===n&&(i=!1),s=0,r=t.length;r>s;s++){for(l[s]=t[s].slice(),l[s].nTr=t[s].nTr,a=c-1;a>=0;a--)!e.aoColumns[a].bVisible&&!i&&l[s].splice(a,1);d.push([])}for(s=0,r=l.length;r>s;s++){if(e=l[s].nTr)for(;a=e.firstChild;)e.removeChild(a);for(a=0,t=l[s].length;t>a;a++)if(o=c=1,d[s][a]===n){for(e.appendChild(l[s][a].cell),d[s][a]=1;l[s+c]!==n&&l[s][a].cell==l[s+c][a].cell;)d[s+c][a]=1,c++;for(;l[s][a+o]!==n&&l[s][a].cell==l[s][a+o].cell;){for(i=0;c>i;i++)d[s+i][a+o]=1;o++}l[s][a].cell.rowSpan=c,l[s][a].cell.colSpan=o}}}function x(e){var i=A(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==h.inArray(!1,i))E(e,!1);else{var s,r,i=[],a=0,o=e.asStripeClasses.length;if(s=e.aoOpenRows.length,e.bDrawing=!0,e.iInitDisplayStart!==n&&-1!=e.iInitDisplayStart&&(e._iDisplayStart=e.oFeatures.bServerSide?e.iInitDisplayStart:e.iInitDisplayStart>=e.fnRecordsDisplay()?0:e.iInitDisplayStart,e.iInitDisplayStart=-1,y(e)),e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++;else if(e.oFeatures.bServerSide){if(!e.bDestroying&&!wa(e))return}else e.iDraw++;if(0!==e.aiDisplay.length){var d=e._iDisplayStart;for(r=e._iDisplayEnd,e.oFeatures.bServerSide&&(d=0,r=e.aoData.length);r>d;d++){var c=e.aoData[e.aiDisplay[d]];null===c.nTr&&ea(e,e.aiDisplay[d]);var u=c.nTr;if(0!==o){var p=e.asStripeClasses[a%o];c._sRowStripe!=p&&(h(u).removeClass(c._sRowStripe).addClass(p),c._sRowStripe=p)}if(A(e,"aoRowCallback",null,[u,e.aoData[e.aiDisplay[d]]._aData,a,d]),i.push(u),a++,0!==s)for(c=0;s>c;c++)if(u==e.aoOpenRows[c].nParent){i.push(e.aoOpenRows[c].nTr);break}}}else i[0]=l.createElement("tr"),e.asStripeClasses[0]&&(i[0].className=e.asStripeClasses[0]),s=e.oLanguage,o=s.sZeroRecords,1!=e.iDraw||null===e.sAjaxSource||e.oFeatures.bServerSide?s.sEmptyTable&&0===e.fnRecordsTotal()&&(o=s.sEmptyTable):o=s.sLoadingRecords,s=l.createElement("td"),s.setAttribute("valign","top"),s.colSpan=t(e),s.className=e.oClasses.sRowEmpty,s.innerHTML=ja(e,o),i[a].appendChild(s);if(A(e,"aoHeaderCallback","header",[h(e.nTHead).children("tr")[0],Z(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]),A(e,"aoFooterCallback","footer",[h(e.nTFoot).children("tr")[0],Z(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]),a=l.createDocumentFragment(),s=l.createDocumentFragment(),e.nTBody){if(o=e.nTBody.parentNode,s.appendChild(e.nTBody),!e.oScroll.bInfinite||!e._bInitComplete||e.bSorted||e.bFiltered)for(;s=e.nTBody.firstChild;)e.nTBody.removeChild(s);for(s=0,r=i.length;r>s;s++)a.appendChild(i[s]);e.nTBody.appendChild(a),null!==o&&o.appendChild(e.nTBody)}A(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1,e.oFeatures.bServerSide&&(E(e,!1),e._bInitComplete||$(e))}}function aa(e){e.oFeatures.bSort?O(e,e.oPreviousSearch):e.oFeatures.bFilter?K(e,e.oPreviousSearch):(y(e),x(e))}function xa(e){var t=h("<div></div>")[0];e.nTable.parentNode.insertBefore(t,e.nTable),e.nTableWrapper=h('<div id="'+e.sTableId+'_wrapper" class="'+e.oClasses.sWrapper+'" role="grid"></div>')[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var i,s,r,n,a,o,l,d=e.nTableWrapper,c=e.sDom.split(""),u=0;u<c.length;u++){if(s=0,r=c[u],"<"==r){if(n=h("<div></div>")[0],a=c[u+1],"'"==a||'"'==a){for(o="",l=2;c[u+l]!=a;)o+=c[u+l],l++;"H"==o?o=e.oClasses.sJUIHeader:"F"==o&&(o=e.oClasses.sJUIFooter),-1!=o.indexOf(".")?(a=o.split("."),n.id=a[0].substr(1,a[0].length-1),n.className=a[1]):"#"==o.charAt(0)?n.id=o.substr(1,o.length-1):n.className=o,u+=l}d.appendChild(n),d=n}else if(">"==r)d=d.parentNode;else if("l"==r&&e.oFeatures.bPaginate&&e.oFeatures.bLengthChange)i=ya(e),s=1;else if("f"==r&&e.oFeatures.bFilter)i=za(e),s=1;else if("r"==r&&e.oFeatures.bProcessing)i=Aa(e),s=1;else if("t"==r)i=Ba(e),s=1;else if("i"==r&&e.oFeatures.bInfo)i=Ca(e),s=1;else if("p"==r&&e.oFeatures.bPaginate)i=Da(e),s=1;else if(0!==j.ext.aoFeatures.length)for(n=j.ext.aoFeatures,l=0,a=n.length;a>l;l++)if(r==n[l].cFeature){(i=n[l].fnInit(e))&&(s=1);break}1==s&&null!==i&&("object"!=typeof e.aanFeatures[r]&&(e.aanFeatures[r]=[]),e.aanFeatures[r].push(i),d.appendChild(i))}t.parentNode.replaceChild(e.nTableWrapper,t)}function V(e,t){var i,s,r,n,a,o,l,d,c,u,p=h(t).children("tr");for(e.splice(0,e.length),r=0,o=p.length;o>r;r++)e.push([]);for(r=0,o=p.length;o>r;r++)for(i=p[r],s=i.firstChild;s;){if("TD"==s.nodeName.toUpperCase()||"TH"==s.nodeName.toUpperCase()){for(d=1*s.getAttribute("colspan"),c=1*s.getAttribute("rowspan"),d=d&&0!==d&&1!==d?d:1,c=c&&0!==c&&1!==c?c:1,n=0,a=e[r];a[n];)n++;for(l=n,u=1===d?!0:!1,a=0;d>a;a++)for(n=0;c>n;n++)e[r+n][l+a]={cell:s,unique:u},e[r+n].nTr=i}s=s.nextSibling}}function N(e,t,i){var s=[];i||(i=e.aoHeader,t&&(i=[],V(i,t)));for(var t=0,r=i.length;r>t;t++)for(var n=0,a=i[t].length;a>n;n++)!i[t][n].unique||s[n]&&e.bSortCellsTop||(s[n]=i[t][n].cell);return s}function wa(e){if(e.bAjaxDataGet){e.iDraw++,E(e,!0);var t=Ea(e);return ka(e,t),e.fnServerData.call(e.oInstance,e.sAjaxSource,t,function(t){Fa(e,t)},e),!1}return!0}function Ea(e){var t,i,s,r,n=e.aoColumns.length,a=[];for(a.push({name:"sEcho",value:e.iDraw}),a.push({name:"iColumns",value:n}),a.push({name:"sColumns",value:M(e)}),a.push({name:"iDisplayStart",value:e._iDisplayStart}),a.push({name:"iDisplayLength",value:!1!==e.oFeatures.bPaginate?e._iDisplayLength:-1}),s=0;n>s;s++)t=e.aoColumns[s].mData,a.push({name:"mDataProp_"+s,value:"function"==typeof t?"function":t});if(!1!==e.oFeatures.bFilter)for(a.push({name:"sSearch",value:e.oPreviousSearch.sSearch}),a.push({name:"bRegex",value:e.oPreviousSearch.bRegex}),s=0;n>s;s++)a.push({name:"sSearch_"+s,value:e.aoPreSearchCols[s].sSearch}),a.push({name:"bRegex_"+s,value:e.aoPreSearchCols[s].bRegex}),a.push({name:"bSearchable_"+s,value:e.aoColumns[s].bSearchable});if(!1!==e.oFeatures.bSort){var o=0;for(t=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice(),s=0;s<t.length;s++)for(i=e.aoColumns[t[s][0]].aDataSort,r=0;r<i.length;r++)a.push({name:"iSortCol_"+o,value:i[r]}),a.push({name:"sSortDir_"+o,value:t[s][1]}),o++;for(a.push({name:"iSortingCols",value:o}),s=0;n>s;s++)a.push({name:"bSortable_"+s,value:e.aoColumns[s].bSortable})}return a}function ka(e,t){A(e,"aoServerParams","serverParams",[t])}function Fa(e,t){if(t.sEcho!==n){if(1*t.sEcho<e.iDraw)return;e.iDraw=1*t.sEcho}(!e.oScroll.bInfinite||e.oScroll.bInfinite&&(e.bSorted||e.bFiltered))&&ga(e),e._iRecordsTotal=parseInt(t.iTotalRecords,10),e._iRecordsDisplay=parseInt(t.iTotalDisplayRecords,10);var i,s=M(e),s=t.sColumns!==n&&""!==s&&t.sColumns!=s;s&&(i=u(e,t.sColumns));for(var r=Q(e.sAjaxDataProp)(t),a=0,o=r.length;o>a;a++)if(s){for(var l=[],d=0,c=e.aoColumns.length;c>d;d++)l.push(r[a][i[d]]);H(e,l)}else H(e,r[a]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,x(e),e.bAjaxDataGet=!0,E(e,!1)}function za(e){var t=e.oPreviousSearch,i=e.oLanguage.sSearch,i=-1!==i.indexOf("_INPUT_")?i.replace("_INPUT_",'<input type="text" />'):""===i?'<input type="text" />':i+' <input type="text" />',s=l.createElement("div");return s.className=e.oClasses.sFilter,s.innerHTML="<label>"+i+"</label>",e.aanFeatures.f||(s.id=e.sTableId+"_filter"),i=h('input[type="text"]',s),s._DT_Input=i[0],i.val(t.sSearch.replace('"',"&quot;")),i.bind("keyup.DT",function(){for(var i=e.aanFeatures.f,s=""===this.value?"":this.value,r=0,n=i.length;n>r;r++)i[r]!=h(this).parents("div.dataTables_filter")[0]&&h(i[r]._DT_Input).val(s);s!=t.sSearch&&K(e,{sSearch:s,bRegex:t.bRegex,bSmart:t.bSmart,bCaseInsensitive:t.bCaseInsensitive})}),i.attr("aria-controls",e.sTableId).bind("keypress.DT",function(e){return 13==e.keyCode?!1:void 0}),s}function K(e,t,i){var s=e.oPreviousSearch,r=e.aoPreSearchCols,n=function(e){s.sSearch=e.sSearch,s.bRegex=e.bRegex,s.bSmart=e.bSmart,s.bCaseInsensitive=e.bCaseInsensitive};if(e.oFeatures.bServerSide)n(t);else{for(Ga(e,t.sSearch,i,t.bRegex,t.bSmart,t.bCaseInsensitive),n(t),t=0;t<e.aoPreSearchCols.length;t++)Ha(e,r[t].sSearch,t,r[t].bRegex,r[t].bSmart,r[t].bCaseInsensitive);Ia(e)}e.bFiltered=!0,h(e.oInstance).trigger("filter",e),e._iDisplayStart=0,y(e),x(e),la(e,0)}function Ia(e){for(var t=j.ext.afnFiltering,i=r(e,"bSearchable"),s=0,n=t.length;n>s;s++)for(var a=0,o=0,l=e.aiDisplay.length;l>o;o++){var d=e.aiDisplay[o-a];t[s](e,Y(e,d,"filter",i),d)||(e.aiDisplay.splice(o-a,1),a++)}}function Ha(e,t,i,s,r,n){if(""!==t)for(var a=0,t=ma(t,s,r,n),s=e.aiDisplay.length-1;s>=0;s--)r=Ja(v(e,e.aiDisplay[s],i,"filter"),e.aoColumns[i].sType),t.test(r)||(e.aiDisplay.splice(s,1),a++)}function Ga(e,t,i,s,r,n){if(s=ma(t,s,r,n),r=e.oPreviousSearch,i||(i=0),0!==j.ext.afnFiltering.length&&(i=1),0>=t.length)e.aiDisplay.splice(0,e.aiDisplay.length),e.aiDisplay=e.aiDisplayMaster.slice();else if(e.aiDisplay.length==e.aiDisplayMaster.length||r.sSearch.length>t.length||1==i||0!==t.indexOf(r.sSearch))for(e.aiDisplay.splice(0,e.aiDisplay.length),la(e,1),t=0;t<e.aiDisplayMaster.length;t++)s.test(e.asDataSearch[t])&&e.aiDisplay.push(e.aiDisplayMaster[t]);else for(t=i=0;t<e.asDataSearch.length;t++)s.test(e.asDataSearch[t])||(e.aiDisplay.splice(t-i,1),i++)}function la(e,t){if(!e.oFeatures.bServerSide){e.asDataSearch=[];for(var i=r(e,"bSearchable"),s=1===t?e.aiDisplayMaster:e.aiDisplay,n=0,a=s.length;a>n;n++)e.asDataSearch[n]=na(e,Y(e,s[n],"filter",i))}}function na(e,t){var i=t.join("  ");return-1!==i.indexOf("&")&&(i=h("<div>").html(i).text()),i.replace(/[\n\r]/g," ")}function ma(e,t,i,s){return i?(e=t?e.split(" "):oa(e).split(" "),e="^(?=.*?"+e.join(")(?=.*?")+").*$",RegExp(e,s?"i":"")):(e=t?e:oa(e),RegExp(e,s?"i":""))}function Ja(e,t){return"function"==typeof j.ext.ofnSearch[t]?j.ext.ofnSearch[t](e):null===e?"":"html"==t?e.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):"string"==typeof e?e.replace(/[\r\n]/g," "):e}function oa(e){return e.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),"\\$1")}function Ca(e){var t=l.createElement("div");return t.className=e.oClasses.sInfo,e.aanFeatures.i||(e.aoDrawCallback.push({fn:Ka,sName:"information"}),t.id=e.sTableId+"_info"),e.nTable.setAttribute("aria-describedby",e.sTableId+"_info"),t}function Ka(e){if(e.oFeatures.bInfo&&0!==e.aanFeatures.i.length){var t,i=e.oLanguage,s=e._iDisplayStart+1,r=e.fnDisplayEnd(),n=e.fnRecordsTotal(),a=e.fnRecordsDisplay();for(t=0===a?i.sInfoEmpty:i.sInfo,a!=n&&(t+=" "+i.sInfoFiltered),t+=i.sInfoPostFix,t=ja(e,t),null!==i.fnInfoCallback&&(t=i.fnInfoCallback.call(e.oInstance,e,s,r,n,a,t)),e=e.aanFeatures.i,i=0,s=e.length;s>i;i++)h(e[i]).html(t)}}function ja(e,t){var i=e.fnFormatNumber(e._iDisplayStart+1),s=e.fnDisplayEnd(),s=e.fnFormatNumber(s),r=e.fnRecordsDisplay(),r=e.fnFormatNumber(r),n=e.fnRecordsTotal(),n=e.fnFormatNumber(n);return e.oScroll.bInfinite&&(i=e.fnFormatNumber(1)),t.replace(/_START_/g,i).replace(/_END_/g,s).replace(/_TOTAL_/g,r).replace(/_MAX_/g,n)}function ba(e){var t,i,s=e.iInitDisplayStart;if(!1===e.bInitialised)setTimeout(function(){ba(e)},200);else{for(xa(e),va(e),W(e,e.aoHeader),e.nTFoot&&W(e,e.aoFooter),E(e,!0),e.oFeatures.bAutoWidth&&da(e),t=0,i=e.aoColumns.length;i>t;t++)null!==e.aoColumns[t].sWidth&&(e.aoColumns[t].nTh.style.width=q(e.aoColumns[t].sWidth));e.oFeatures.bSort?O(e):e.oFeatures.bFilter?K(e,e.oPreviousSearch):(e.aiDisplay=e.aiDisplayMaster.slice(),y(e),x(e)),null===e.sAjaxSource||e.oFeatures.bServerSide?e.oFeatures.bServerSide||(E(e,!1),$(e)):(i=[],ka(e,i),e.fnServerData.call(e.oInstance,e.sAjaxSource,i,function(i){var r=""!==e.sAjaxDataProp?Q(e.sAjaxDataProp)(i):i;for(t=0;t<r.length;t++)H(e,r[t]);e.iInitDisplayStart=s,e.oFeatures.bSort?O(e):(e.aiDisplay=e.aiDisplayMaster.slice(),y(e),x(e)),E(e,!1),$(e,i)},e))}}function $(e,t){e._bInitComplete=!0,A(e,"aoInitComplete","init",[e,t])}function pa(e){var t=j.defaults.oLanguage;!e.sEmptyTable&&e.sZeroRecords&&"No data available in table"===t.sEmptyTable&&p(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&e.sZeroRecords&&"Loading..."===t.sLoadingRecords&&p(e,e,"sZeroRecords","sLoadingRecords")}function ya(e){if(e.oScroll.bInfinite)return null;var t,i,s='<select size="1" '+('name="'+e.sTableId+'_length"')+">",r=e.aLengthMenu;if(2==r.length&&"object"==typeof r[0]&&"object"==typeof r[1])for(t=0,i=r[0].length;i>t;t++)s+='<option value="'+r[0][t]+'">'+r[1][t]+"</option>";else for(t=0,i=r.length;i>t;t++)s+='<option value="'+r[t]+'">'+r[t]+"</option>";return s+="</select>",r=l.createElement("div"),e.aanFeatures.l||(r.id=e.sTableId+"_length"),r.className=e.oClasses.sLength,r.innerHTML="<label>"+e.oLanguage.sLengthMenu.replace("_MENU_",s)+"</label>",h('select option[value="'+e._iDisplayLength+'"]',r).attr("selected",!0),h("select",r).bind("change.DT",function(){var s=h(this).val(),r=e.aanFeatures.l;for(t=0,i=r.length;i>t;t++)r[t]!=this.parentNode&&h("select",r[t]).val(s);e._iDisplayLength=parseInt(s,10),y(e),e.fnDisplayEnd()==e.fnRecordsDisplay()&&(e._iDisplayStart=e.fnDisplayEnd()-e._iDisplayLength,e._iDisplayStart<0&&(e._iDisplayStart=0)),-1==e._iDisplayLength&&(e._iDisplayStart=0),x(e)}),h("select",r).attr("aria-controls",e.sTableId),r}function y(e){e._iDisplayEnd=!1===e.oFeatures.bPaginate?e.aiDisplay.length:e._iDisplayStart+e._iDisplayLength>e.aiDisplay.length||-1==e._iDisplayLength?e.aiDisplay.length:e._iDisplayStart+e._iDisplayLength}function Da(e){if(e.oScroll.bInfinite)return null;var t=l.createElement("div");return t.className=e.oClasses.sPaging+e.sPaginationType,j.ext.oPagination[e.sPaginationType].fnInit(e,t,function(e){y(e),x(e)}),e.aanFeatures.p||e.aoDrawCallback.push({fn:function(e){j.ext.oPagination[e.sPaginationType].fnUpdate(e,function(e){y(e),x(e)})},sName:"pagination"}),t}function qa(e,t){var i=e._iDisplayStart;if("number"==typeof t)e._iDisplayStart=t*e._iDisplayLength,e._iDisplayStart>e.fnRecordsDisplay()&&(e._iDisplayStart=0);else if("first"==t)e._iDisplayStart=0;else if("previous"==t)e._iDisplayStart=0<=e._iDisplayLength?e._iDisplayStart-e._iDisplayLength:0,0>e._iDisplayStart&&(e._iDisplayStart=0);else if("next"==t)0<=e._iDisplayLength?e._iDisplayStart+e._iDisplayLength<e.fnRecordsDisplay()&&(e._iDisplayStart+=e._iDisplayLength):e._iDisplayStart=0;else if("last"==t)if(0<=e._iDisplayLength){var s=parseInt((e.fnRecordsDisplay()-1)/e._iDisplayLength,10)+1;e._iDisplayStart=(s-1)*e._iDisplayLength}else e._iDisplayStart=0;else D(e,0,"Unknown paging action: "+t);return h(e.oInstance).trigger("page",e),i!=e._iDisplayStart}function Aa(e){var t=l.createElement("div");return e.aanFeatures.r||(t.id=e.sTableId+"_processing"),t.innerHTML=e.oLanguage.sProcessing,t.className=e.oClasses.sProcessing,e.nTable.parentNode.insertBefore(t,e.nTable),t}function E(e,t){if(e.oFeatures.bProcessing)for(var i=e.aanFeatures.r,s=0,r=i.length;r>s;s++)i[s].style.visibility=t?"visible":"hidden";h(e.oInstance).trigger("processing",[e,t])}function Ba(e){if(""===e.oScroll.sX&&""===e.oScroll.sY)return e.nTable;var t=l.createElement("div"),i=l.createElement("div"),s=l.createElement("div"),r=l.createElement("div"),n=l.createElement("div"),a=l.createElement("div"),o=e.nTable.cloneNode(!1),d=e.nTable.cloneNode(!1),c=e.nTable.getElementsByTagName("thead")[0],u=0===e.nTable.getElementsByTagName("tfoot").length?null:e.nTable.getElementsByTagName("tfoot")[0],p=e.oClasses;return i.appendChild(s),n.appendChild(a),r.appendChild(e.nTable),t.appendChild(i),t.appendChild(r),s.appendChild(o),o.appendChild(c),null!==u&&(t.appendChild(n),a.appendChild(d),d.appendChild(u)),t.className=p.sScrollWrapper,i.className=p.sScrollHead,s.className=p.sScrollHeadInner,r.className=p.sScrollBody,n.className=p.sScrollFoot,a.className=p.sScrollFootInner,e.oScroll.bAutoCss&&(i.style.overflow="hidden",i.style.position="relative",n.style.overflow="hidden",r.style.overflow="auto"),i.style.border="0",i.style.width="100%",n.style.border="0",s.style.width=""!==e.oScroll.sXInner?e.oScroll.sXInner:"100%",o.removeAttribute("id"),o.style.marginLeft="0",e.nTable.style.marginLeft="0",null!==u&&(d.removeAttribute("id"),d.style.marginLeft="0"),s=h(e.nTable).children("caption"),0<s.length&&(s=s[0],"top"===s._captionSide?o.appendChild(s):"bottom"===s._captionSide&&u&&d.appendChild(s)),""!==e.oScroll.sX&&(i.style.width=q(e.oScroll.sX),r.style.width=q(e.oScroll.sX),null!==u&&(n.style.width=q(e.oScroll.sX)),h(r).scroll(function(){i.scrollLeft=this.scrollLeft,null!==u&&(n.scrollLeft=this.scrollLeft)})),""!==e.oScroll.sY&&(r.style.height=q(e.oScroll.sY)),e.aoDrawCallback.push({fn:La,sName:"scrolling"}),e.oScroll.bInfinite&&h(r).scroll(function(){!e.bDrawing&&0!==h(this).scrollTop()&&h(this).scrollTop()+h(this).height()>h(e.nTable).height()-e.oScroll.iLoadGap&&e.fnDisplayEnd()<e.fnRecordsDisplay()&&(qa(e,"next"),y(e),x(e))}),e.nScrollHead=i,e.nScrollFoot=n,t}function La(e){var t,i,s,r,n,a,o,l,d=e.nScrollHead.getElementsByTagName("div")[0],c=d.getElementsByTagName("table")[0],u=e.nTable.parentNode,p=[],f=[],g=null!==e.nTFoot?e.nScrollFoot.getElementsByTagName("div")[0]:null,m=null!==e.nTFoot?g.getElementsByTagName("table")[0]:null,v=e.oBrowser.bScrollOversize,b=function(e){o=e.style,o.paddingTop="0",o.paddingBottom="0",o.borderTopWidth="0",o.borderBottomWidth="0",o.height=0};h(e.nTable).children("thead, tfoot").remove(),t=h(e.nTHead).clone()[0],e.nTable.insertBefore(t,e.nTable.childNodes[0]),s=e.nTHead.getElementsByTagName("tr"),r=t.getElementsByTagName("tr"),null!==e.nTFoot&&(n=h(e.nTFoot).clone()[0],e.nTable.insertBefore(n,e.nTable.childNodes[1]),a=e.nTFoot.getElementsByTagName("tr"),n=n.getElementsByTagName("tr")),""===e.oScroll.sX&&(u.style.width="100%",d.parentNode.style.width="100%");var y=N(e,t);for(t=0,i=y.length;i>t;t++)l=G(e,t),y[t].style.width=e.aoColumns[l].sWidth;null!==e.nTFoot&&C(function(e){e.style.width=""},n),e.oScroll.bCollapse&&""!==e.oScroll.sY&&(u.style.height=u.offsetHeight+e.nTHead.offsetHeight+"px"),t=h(e.nTable).outerWidth(),""===e.oScroll.sX?(e.nTable.style.width="100%",v&&(h("tbody",u).height()>u.offsetHeight||"scroll"==h(u).css("overflow-y"))&&(e.nTable.style.width=q(h(e.nTable).outerWidth()-e.oScroll.iBarWidth))):""!==e.oScroll.sXInner?e.nTable.style.width=q(e.oScroll.sXInner):t==h(u).width()&&h(u).height()<h(e.nTable).height()?(e.nTable.style.width=q(t-e.oScroll.iBarWidth),h(e.nTable).outerWidth()>t-e.oScroll.iBarWidth&&(e.nTable.style.width=q(t))):e.nTable.style.width=q(t),t=h(e.nTable).outerWidth(),C(b,r),C(function(e){p.push(q(h(e).width()))},r),C(function(e,t){e.style.width=p[t]},s),h(r).height(0),null!==e.nTFoot&&(C(b,n),C(function(e){f.push(q(h(e).width()))},n),C(function(e,t){e.style.width=f[t]},a),h(n).height(0)),C(function(e,t){e.innerHTML="",e.style.width=p[t]},r),null!==e.nTFoot&&C(function(e,t){e.innerHTML="",e.style.width=f[t]},n),h(e.nTable).outerWidth()<t?(s=u.scrollHeight>u.offsetHeight||"scroll"==h(u).css("overflow-y")?t+e.oScroll.iBarWidth:t,v&&(u.scrollHeight>u.offsetHeight||"scroll"==h(u).css("overflow-y"))&&(e.nTable.style.width=q(s-e.oScroll.iBarWidth)),u.style.width=q(s),e.nScrollHead.style.width=q(s),null!==e.nTFoot&&(e.nScrollFoot.style.width=q(s)),""===e.oScroll.sX?D(e,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):""!==e.oScroll.sXInner&&D(e,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")):(u.style.width=q("100%"),e.nScrollHead.style.width=q("100%"),null!==e.nTFoot&&(e.nScrollFoot.style.width=q("100%"))),""===e.oScroll.sY&&v&&(u.style.height=q(e.nTable.offsetHeight+e.oScroll.iBarWidth)),""!==e.oScroll.sY&&e.oScroll.bCollapse&&(u.style.height=q(e.oScroll.sY),v=""!==e.oScroll.sX&&e.nTable.offsetWidth>u.offsetWidth?e.oScroll.iBarWidth:0,e.nTable.offsetHeight<u.offsetHeight&&(u.style.height=q(e.nTable.offsetHeight+v))),v=h(e.nTable).outerWidth(),c.style.width=q(v),d.style.width=q(v),c=h(e.nTable).height()>u.clientHeight||"scroll"==h(u).css("overflow-y"),d.style.paddingRight=c?e.oScroll.iBarWidth+"px":"0px",null!==e.nTFoot&&(m.style.width=q(v),g.style.width=q(v),g.style.paddingRight=c?e.oScroll.iBarWidth+"px":"0px"),h(u).scroll(),(e.bSorted||e.bFiltered)&&(u.scrollTop=0)}function C(e,t,i){for(var s,r,n=0,a=0,o=t.length;o>a;){for(s=t[a].firstChild,r=i?i[a].firstChild:null;s;)1===s.nodeType&&(i?e(s,r,n):e(s,n),n++),s=s.nextSibling,r=i?r.nextSibling:null;a++}}function Ma(e,t){if(!e||null===e||""===e)return 0;t||(t=l.body);var i,s=l.createElement("div");return s.style.width=q(e),t.appendChild(s),i=s.offsetWidth,t.removeChild(s),i}function da(e){var t,i,s,r=0,n=0,a=e.aoColumns.length,o=h("th",e.nTHead),d=e.nTable.getAttribute("width");for(s=e.nTable.parentNode,i=0;a>i;i++)e.aoColumns[i].bVisible&&(n++,null!==e.aoColumns[i].sWidth&&(t=Ma(e.aoColumns[i].sWidthOrig,s),null!==t&&(e.aoColumns[i].sWidth=q(t)),r++));if(a==o.length&&0===r&&n==a&&""===e.oScroll.sX&&""===e.oScroll.sY)for(i=0;i<e.aoColumns.length;i++)t=h(o[i]).width(),null!==t&&(e.aoColumns[i].sWidth=q(t));else{for(r=e.nTable.cloneNode(!1),i=e.nTHead.cloneNode(!0),n=l.createElement("tbody"),t=l.createElement("tr"),r.removeAttribute("id"),r.appendChild(i),null!==e.nTFoot&&(r.appendChild(e.nTFoot.cloneNode(!0)),C(function(e){e.style.width=""},r.getElementsByTagName("tr"))),r.appendChild(n),n.appendChild(t),n=h("thead th",r),0===n.length&&(n=h("tbody tr:eq(0)>td",r)),o=N(e,i),i=n=0;a>i;i++){var c=e.aoColumns[i];c.bVisible&&null!==c.sWidthOrig&&""!==c.sWidthOrig?o[i-n].style.width=q(c.sWidthOrig):c.bVisible?o[i-n].style.width="":n++}for(i=0;a>i;i++)e.aoColumns[i].bVisible&&(n=Na(e,i),null!==n&&(n=n.cloneNode(!0),""!==e.aoColumns[i].sContentPadding&&(n.innerHTML+=e.aoColumns[i].sContentPadding),t.appendChild(n)));if(s.appendChild(r),""!==e.oScroll.sX&&""!==e.oScroll.sXInner?r.style.width=q(e.oScroll.sXInner):""!==e.oScroll.sX?(r.style.width="",h(r).width()<s.offsetWidth&&(r.style.width=q(s.offsetWidth))):""!==e.oScroll.sY?r.style.width=q(s.offsetWidth):d&&(r.style.width=q(d)),r.style.visibility="hidden",Oa(e,r),a=h("tbody tr:eq(0)",r).children(),0===a.length&&(a=N(e,h("thead",r)[0])),""!==e.oScroll.sX){
for(i=n=s=0;i<e.aoColumns.length;i++)e.aoColumns[i].bVisible&&(s=null===e.aoColumns[i].sWidthOrig?s+h(a[n]).outerWidth():s+(parseInt(e.aoColumns[i].sWidth.replace("px",""),10)+(h(a[n]).outerWidth()-h(a[n]).width())),n++);r.style.width=q(s),e.nTable.style.width=q(s)}for(i=n=0;i<e.aoColumns.length;i++)e.aoColumns[i].bVisible&&(s=h(a[n]).width(),null!==s&&s>0&&(e.aoColumns[i].sWidth=q(s)),n++);a=h(r).css("width"),e.nTable.style.width=-1!==a.indexOf("%")?a:q(h(r).outerWidth()),r.parentNode.removeChild(r)}d&&(e.nTable.style.width=q(d))}function Oa(e,t){""===e.oScroll.sX&&""!==e.oScroll.sY?(h(t).width(),t.style.width=q(h(t).outerWidth()-e.oScroll.iBarWidth)):""!==e.oScroll.sX&&(t.style.width=q(h(t).outerWidth()))}function Na(e,t){var i=Pa(e,t);if(0>i)return null;if(null===e.aoData[i].nTr){var s=l.createElement("td");return s.innerHTML=v(e,i,t,""),s}return J(e,i)[t]}function Pa(e,t){for(var i=-1,s=-1,r=0;r<e.aoData.length;r++){var n=v(e,r,t,"display")+"",n=n.replace(/<.*?>/g,"");n.length>i&&(i=n.length,s=r)}return s}function q(e){if(null===e)return"0px";if("number"==typeof e)return 0>e?"0px":e+"px";var t=e.charCodeAt(e.length-1);return 48>t||t>57?e:e+"px"}function Qa(){var e=l.createElement("p"),t=e.style;t.width="100%",t.height="200px",t.padding="0px";var i=l.createElement("div"),t=i.style;return t.position="absolute",t.top="0px",t.left="0px",t.visibility="hidden",t.width="200px",t.height="150px",t.padding="0px",t.overflow="hidden",i.appendChild(e),l.body.appendChild(i),t=e.offsetWidth,i.style.overflow="scroll",e=e.offsetWidth,t==e&&(e=i.clientWidth),l.body.removeChild(i),t-e}function O(e,t){var i,s,r,a,o,l,d=[],c=[],u=j.ext.oSort,p=e.aoData,f=e.aoColumns,g=e.oLanguage.oAria;if(!e.oFeatures.bServerSide&&(0!==e.aaSorting.length||null!==e.aaSortingFixed)){for(d=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice(),i=0;i<d.length;i++)if(s=d[i][0],r=R(e,s),a=e.aoColumns[s].sSortDataType,j.ext.afnSortData[a])if(o=j.ext.afnSortData[a].call(e.oInstance,e,s,r),o.length===p.length)for(r=0,a=p.length;a>r;r++)F(e,r,s,o[r]);else D(e,0,"Returned data sort array (col "+s+") is the wrong length");for(i=0,s=e.aiDisplayMaster.length;s>i;i++)c[e.aiDisplayMaster[i]]=i;var m,b=d.length;for(i=0,s=p.length;s>i;i++)for(r=0;b>r;r++)for(m=f[d[r][0]].aDataSort,o=0,l=m.length;l>o;o++)a=f[m[o]].sType,a=u[(a?a:"string")+"-pre"],p[i]._aSortData[m[o]]=a?a(v(e,i,m[o],"sort")):v(e,i,m[o],"sort");e.aiDisplayMaster.sort(function(e,t){var i,s,r,n,a;for(i=0;b>i;i++)for(a=f[d[i][0]].aDataSort,s=0,r=a.length;r>s;s++)if(n=f[a[s]].sType,n=u[(n?n:"string")+"-"+d[i][1]](p[e]._aSortData[a[s]],p[t]._aSortData[a[s]]),0!==n)return n;return u["numeric-asc"](c[e],c[t])})}for((t===n||t)&&!e.oFeatures.bDeferRender&&P(e),i=0,s=e.aoColumns.length;s>i;i++)a=f[i].sTitle.replace(/<.*?>/g,""),r=f[i].nTh,r.removeAttribute("aria-sort"),r.removeAttribute("aria-label"),f[i].bSortable?0<d.length&&d[0][0]==i?(r.setAttribute("aria-sort","asc"==d[0][1]?"ascending":"descending"),r.setAttribute("aria-label",a+("asc"==(f[i].asSorting[d[0][2]+1]?f[i].asSorting[d[0][2]+1]:f[i].asSorting[0])?g.sSortAscending:g.sSortDescending))):r.setAttribute("aria-label",a+("asc"==f[i].asSorting[0]?g.sSortAscending:g.sSortDescending)):r.setAttribute("aria-label",a);e.bSorted=!0,h(e.oInstance).trigger("sort",e),e.oFeatures.bFilter?K(e,e.oPreviousSearch,1):(e.aiDisplay=e.aiDisplayMaster.slice(),e._iDisplayStart=0,y(e),x(e))}function ia(e,t,i,s){Ra(t,{},function(t){if(!1!==e.aoColumns[i].bSortable){var r=function(){var s,r;if(t.shiftKey){for(var n=!1,a=0;a<e.aaSorting.length;a++)if(e.aaSorting[a][0]==i){n=!0,s=e.aaSorting[a][0],r=e.aaSorting[a][2]+1,e.aoColumns[s].asSorting[r]?(e.aaSorting[a][1]=e.aoColumns[s].asSorting[r],e.aaSorting[a][2]=r):e.aaSorting.splice(a,1);break}!1===n&&e.aaSorting.push([i,e.aoColumns[i].asSorting[0],0])}else 1==e.aaSorting.length&&e.aaSorting[0][0]==i?(s=e.aaSorting[0][0],r=e.aaSorting[0][2]+1,e.aoColumns[s].asSorting[r]||(r=0),e.aaSorting[0][1]=e.aoColumns[s].asSorting[r],e.aaSorting[0][2]=r):(e.aaSorting.splice(0,e.aaSorting.length),e.aaSorting.push([i,e.aoColumns[i].asSorting[0],0]));O(e)};e.oFeatures.bProcessing?(E(e,!0),setTimeout(function(){r(),e.oFeatures.bServerSide||E(e,!1)},0)):r(),"function"==typeof s&&s(e)}})}function P(e){var t,i,s,r,n,a=e.aoColumns.length,o=e.oClasses;for(t=0;a>t;t++)e.aoColumns[t].bSortable&&h(e.aoColumns[t].nTh).removeClass(o.sSortAsc+" "+o.sSortDesc+" "+e.aoColumns[t].sSortingClass);for(i=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice(),t=0;t<e.aoColumns.length;t++)if(e.aoColumns[t].bSortable){for(n=e.aoColumns[t].sSortingClass,r=-1,s=0;s<i.length;s++)if(i[s][0]==t){n="asc"==i[s][1]?o.sSortAsc:o.sSortDesc,r=s;break}h(e.aoColumns[t].nTh).addClass(n),e.bJUI&&(n=h("span."+o.sSortIcon,e.aoColumns[t].nTh),n.removeClass(o.sSortJUIAsc+" "+o.sSortJUIDesc+" "+o.sSortJUI+" "+o.sSortJUIAscAllowed+" "+o.sSortJUIDescAllowed),n.addClass(-1==r?e.aoColumns[t].sSortingClassJUI:"asc"==i[r][1]?o.sSortJUIAsc:o.sSortJUIDesc))}else h(e.aoColumns[t].nTh).addClass(e.aoColumns[t].sSortingClass);if(n=o.sSortColumn,e.oFeatures.bSort&&e.oFeatures.bSortClasses){for(e=J(e),r=[],t=0;a>t;t++)r.push("");for(t=0,s=1;t<i.length;t++)o=parseInt(i[t][0],10),r[o]=n+s,3>s&&s++;n=RegExp(n+"[123]");var l;for(t=0,i=e.length;i>t;t++)o=t%a,s=e[t].className,l=r[o],o=s.replace(n,l),o!=s?e[t].className=h.trim(o):0<l.length&&-1==s.indexOf(l)&&(e[t].className=s+" "+l)}}function ra(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var t,i;t=e.oScroll.bInfinite;var s={iCreate:(new Date).getTime(),iStart:t?0:e._iDisplayStart,iEnd:t?e._iDisplayLength:e._iDisplayEnd,iLength:e._iDisplayLength,aaSorting:h.extend(!0,[],e.aaSorting),oSearch:h.extend(!0,{},e.oPreviousSearch),aoSearchCols:h.extend(!0,[],e.aoPreSearchCols),abVisCols:[]};for(t=0,i=e.aoColumns.length;i>t;t++)s.abVisCols.push(e.aoColumns[t].bVisible);A(e,"aoStateSaveParams","stateSaveParams",[e,s]),e.fnStateSave.call(e.oInstance,e,s)}}function Sa(e,t){if(e.oFeatures.bStateSave){var i=e.fnStateLoad.call(e.oInstance,e);if(i){var s=A(e,"aoStateLoadParams","stateLoadParams",[e,i]);if(-1===h.inArray(!1,s)){for(e.oLoadedState=h.extend(!0,{},i),e._iDisplayStart=i.iStart,e.iInitDisplayStart=i.iStart,e._iDisplayEnd=i.iEnd,e._iDisplayLength=i.iLength,e.aaSorting=i.aaSorting.slice(),e.saved_aaSorting=i.aaSorting.slice(),h.extend(e.oPreviousSearch,i.oSearch),h.extend(!0,e.aoPreSearchCols,i.aoSearchCols),t.saved_aoColumns=[],s=0;s<i.abVisCols.length;s++)t.saved_aoColumns[s]={},t.saved_aoColumns[s].bVisible=i.abVisCols[s];A(e,"aoStateLoaded","stateLoaded",[e,i])}}}}function s(e){for(var t=0;t<j.settings.length;t++)if(j.settings[t].nTable===e)return j.settings[t];return null}function T(e){for(var t=[],e=e.aoData,i=0,s=e.length;s>i;i++)null!==e[i].nTr&&t.push(e[i].nTr);return t}function J(e,t){var i,s,r,a,o,l,d=[];s=0;var c=e.aoData.length;for(t!==n&&(s=t,c=t+1),r=s;c>r;r++)if(l=e.aoData[r],null!==l.nTr){for(s=[],i=l.nTr.firstChild;i;)a=i.nodeName.toLowerCase(),("td"==a||"th"==a)&&s.push(i),i=i.nextSibling;for(a=i=0,o=e.aoColumns.length;o>a;a++)e.aoColumns[a].bVisible?d.push(s[a-i]):(d.push(l._anHidden[a]),i++)}return d}function D(e,t,i){if(e=null===e?"DataTables warning: "+i:"DataTables warning (table id = '"+e.sTableId+"'): "+i,0===t){if("alert"!=j.ext.sErrMode)throw Error(e);alert(e)}else X.console&&console.log&&console.log(e)}function p(e,t,i,s){s===n&&(s=i),t[i]!==n&&(e[s]=t[i])}function Ta(t,i){var s,r;for(r in i)i.hasOwnProperty(r)&&(s=i[r],"object"==typeof e[r]&&null!==s&&!1===h.isArray(s)?h.extend(!0,t[r],s):t[r]=s);return t}function Ra(e,t,i){h(e).bind("click.DT",t,function(t){e.blur(),i(t)}).bind("keypress.DT",t,function(e){13===e.which&&i(e)}).bind("selectstart.DT",function(){return!1})}function z(e,t,i,s){i&&e[t].push({fn:i,sName:s})}function A(e,t,i,s){for(var t=e[t],r=[],n=t.length-1;n>=0;n--)r.push(t[n].fn.apply(e.oInstance,s));return null!==i&&h(e.oInstance).trigger(i,s),r}function Ua(e){var t=h('<div style="position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden"><div style="position:absolute; top:1px; left:1px; width:100px; overflow:scroll;"><div id="DT_BrowserTest" style="width:100%; height:10px;"></div></div></div>')[0];l.body.appendChild(t),e.oBrowser.bScrollOversize=100===h("#DT_BrowserTest",t)[0].offsetWidth?!0:!1,l.body.removeChild(t)}function Va(e){return function(){var t=[s(this[j.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return j.ext.oApi[e].apply(this,t)}}var U=/\[.*?\]$/,Wa=X.JSON?JSON.stringify:function(e){var t=typeof e;if("object"!==t||null===e)return"string"===t&&(e='"'+e+'"'),e+"";var i,s,r=[],n=h.isArray(e);for(i in e)s=e[i],t=typeof s,"string"===t?s='"'+s+'"':"object"===t&&null!==s&&(s=Wa(s)),r.push((n?"":'"'+i+'":')+s);return(n?"[":"{")+r+(n?"]":"}")};this.$=function(e,t){var i,r,n,a=[];r=s(this[j.ext.iApiIndex]);var o=r.aoData,l=r.aiDisplay,d=r.aiDisplayMaster;if(t||(t={}),t=h.extend({},{filter:"none",order:"current",page:"all"},t),"current"==t.page)for(i=r._iDisplayStart,r=r.fnDisplayEnd();r>i;i++)(n=o[l[i]].nTr)&&a.push(n);else if("current"==t.order&&"none"==t.filter)for(i=0,r=d.length;r>i;i++)(n=o[d[i]].nTr)&&a.push(n);else if("current"==t.order&&"applied"==t.filter)for(i=0,r=l.length;r>i;i++)(n=o[l[i]].nTr)&&a.push(n);else if("original"==t.order&&"none"==t.filter)for(i=0,r=o.length;r>i;i++)(n=o[i].nTr)&&a.push(n);else if("original"==t.order&&"applied"==t.filter)for(i=0,r=o.length;r>i;i++)n=o[i].nTr,-1!==h.inArray(i,l)&&n&&a.push(n);else D(r,1,"Unknown selection options");return a=h(a),i=a.filter(e),a=a.find(e),h([].concat(h.makeArray(i),h.makeArray(a)))},this._=function(e,t){var i,s,r=[],n=this.$(e,t);for(i=0,s=n.length;s>i;i++)r.push(this.fnGetData(n[i]));return r},this.fnAddData=function(e,t){if(0===e.length)return[];var i,r=[],a=s(this[j.ext.iApiIndex]);if("object"==typeof e[0]&&null!==e[0])for(var o=0;o<e.length;o++){if(i=H(a,e[o]),-1==i)return r;r.push(i)}else{if(i=H(a,e),-1==i)return r;r.push(i)}return a.aiDisplay=a.aiDisplayMaster.slice(),(t===n||t)&&aa(a),r},this.fnAdjustColumnSizing=function(e){var t=s(this[j.ext.iApiIndex]);k(t),e===n||e?this.fnDraw(!1):(""!==t.oScroll.sX||""!==t.oScroll.sY)&&this.oApi._fnScrollDraw(t)},this.fnClearTable=function(e){var t=s(this[j.ext.iApiIndex]);ga(t),(e===n||e)&&x(t)},this.fnClose=function(e){for(var t=s(this[j.ext.iApiIndex]),i=0;i<t.aoOpenRows.length;i++)if(t.aoOpenRows[i].nParent==e)return(e=t.aoOpenRows[i].nTr.parentNode)&&e.removeChild(t.aoOpenRows[i].nTr),t.aoOpenRows.splice(i,1),0;return 1},this.fnDeleteRow=function(e,t,i){var r,a,o=s(this[j.ext.iApiIndex]),e="object"==typeof e?I(o,e):e,l=o.aoData.splice(e,1);for(r=0,a=o.aoData.length;a>r;r++)null!==o.aoData[r].nTr&&(o.aoData[r].nTr._DT_RowIndex=r);return r=h.inArray(e,o.aiDisplay),o.asDataSearch.splice(r,1),ha(o.aiDisplayMaster,e),ha(o.aiDisplay,e),"function"==typeof t&&t.call(this,o,l),o._iDisplayStart>=o.fnRecordsDisplay()&&(o._iDisplayStart-=o._iDisplayLength,0>o._iDisplayStart&&(o._iDisplayStart=0)),(i===n||i)&&(y(o),x(o)),l},this.fnDestroy=function(t){var i,r,a=s(this[j.ext.iApiIndex]),o=a.nTableWrapper.parentNode,l=a.nTBody,t=t===n?!1:t;if(a.bDestroying=!0,A(a,"aoDestroyCallback","destroy",[a]),!t)for(i=0,r=a.aoColumns.length;r>i;i++)!1===a.aoColumns[i].bVisible&&this.fnSetColumnVis(i,!0);for(h(a.nTableWrapper).find("*").andSelf().unbind(".DT"),h("tbody>tr>td."+a.oClasses.sRowEmpty,a.nTable).parent().remove(),a.nTable!=a.nTHead.parentNode&&(h(a.nTable).children("thead").remove(),a.nTable.appendChild(a.nTHead)),a.nTFoot&&a.nTable!=a.nTFoot.parentNode&&(h(a.nTable).children("tfoot").remove(),a.nTable.appendChild(a.nTFoot)),a.nTable.parentNode.removeChild(a.nTable),h(a.nTableWrapper).remove(),a.aaSorting=[],a.aaSortingFixed=[],P(a),h(T(a)).removeClass(a.asStripeClasses.join(" ")),h("th, td",a.nTHead).removeClass([a.oClasses.sSortable,a.oClasses.sSortableAsc,a.oClasses.sSortableDesc,a.oClasses.sSortableNone].join(" ")),a.bJUI&&(h("th span."+a.oClasses.sSortIcon+", td span."+a.oClasses.sSortIcon,a.nTHead).remove(),h("th, td",a.nTHead).each(function(){var e=h("div."+a.oClasses.sSortJUIWrapper,this),t=e.contents();h(this).append(t),e.remove()})),!t&&a.nTableReinsertBefore?o.insertBefore(a.nTable,a.nTableReinsertBefore):t||o.appendChild(a.nTable),i=0,r=a.aoData.length;r>i;i++)null!==a.aoData[i].nTr&&l.appendChild(a.aoData[i].nTr);if(!0===a.oFeatures.bAutoWidth&&(a.nTable.style.width=q(a.sDestroyWidth)),r=a.asDestroyStripes.length)for(t=h(l).children("tr"),i=0;r>i;i++)t.filter(":nth-child("+r+"n + "+i+")").addClass(a.asDestroyStripes[i]);for(i=0,r=j.settings.length;r>i;i++)j.settings[i]==a&&j.settings.splice(i,1);e=a=null},this.fnDraw=function(e){var t=s(this[j.ext.iApiIndex]);!1===e?(y(t),x(t)):aa(t)},this.fnFilter=function(e,t,i,r,a,o){var d=s(this[j.ext.iApiIndex]);if(d.oFeatures.bFilter)if((i===n||null===i)&&(i=!1),(r===n||null===r)&&(r=!0),(a===n||null===a)&&(a=!0),(o===n||null===o)&&(o=!0),t===n||null===t){if(K(d,{sSearch:e+"",bRegex:i,bSmart:r,bCaseInsensitive:o},1),a&&d.aanFeatures.f)for(t=d.aanFeatures.f,i=0,r=t.length;r>i;i++)try{t[i]._DT_Input!=l.activeElement&&h(t[i]._DT_Input).val(e)}catch(c){h(t[i]._DT_Input).val(e)}}else h.extend(d.aoPreSearchCols[t],{sSearch:e+"",bRegex:i,bSmart:r,bCaseInsensitive:o}),K(d,d.oPreviousSearch,1)},this.fnGetData=function(e,t){var i=s(this[j.ext.iApiIndex]);if(e!==n){var r=e;if("object"==typeof e){var a=e.nodeName.toLowerCase();"tr"===a?r=I(i,e):"td"===a&&(r=I(i,e.parentNode),t=fa(i,r,e))}return t!==n?v(i,r,t,""):i.aoData[r]!==n?i.aoData[r]._aData:null}return Z(i)},this.fnGetNodes=function(e){var t=s(this[j.ext.iApiIndex]);return e!==n?t.aoData[e]!==n?t.aoData[e].nTr:null:T(t)},this.fnGetPosition=function(e){var t=s(this[j.ext.iApiIndex]),i=e.nodeName.toUpperCase();return"TR"==i?I(t,e):"TD"==i||"TH"==i?(i=I(t,e.parentNode),e=fa(t,i,e),[i,R(t,e),e]):null},this.fnIsOpen=function(e){for(var t=s(this[j.ext.iApiIndex]),i=0;i<t.aoOpenRows.length;i++)if(t.aoOpenRows[i].nParent==e)return!0;return!1},this.fnOpen=function(e,i,r){var n=s(this[j.ext.iApiIndex]),a=T(n);if(-1!==h.inArray(e,a)){this.fnClose(e);var a=l.createElement("tr"),o=l.createElement("td");return a.appendChild(o),o.className=r,o.colSpan=t(n),"string"==typeof i?o.innerHTML=i:h(o).html(i),i=h("tr",n.nTBody),-1!=h.inArray(e,i)&&h(a).insertAfter(e),n.aoOpenRows.push({nTr:a,nParent:e}),a}},this.fnPageChange=function(e,t){var i=s(this[j.ext.iApiIndex]);qa(i,e),y(i),(t===n||t)&&x(i)},this.fnSetColumnVis=function(e,i,r){var a,o,l,d,c=s(this[j.ext.iApiIndex]),h=c.aoColumns,u=c.aoData;if(h[e].bVisible!=i){if(i){for(a=o=0;e>a;a++)h[a].bVisible&&o++;if(d=o>=t(c),!d)for(a=e;a<h.length;a++)if(h[a].bVisible){l=a;break}for(a=0,o=u.length;o>a;a++)null!==u[a].nTr&&(d?u[a].nTr.appendChild(u[a]._anHidden[e]):u[a].nTr.insertBefore(u[a]._anHidden[e],J(c,a)[l]))}else for(a=0,o=u.length;o>a;a++)null!==u[a].nTr&&(l=J(c,a)[e],u[a]._anHidden[e]=l,l.parentNode.removeChild(l));for(h[e].bVisible=i,W(c,c.aoHeader),c.nTFoot&&W(c,c.aoFooter),a=0,o=c.aoOpenRows.length;o>a;a++)c.aoOpenRows[a].nTr.colSpan=t(c);(r===n||r)&&(k(c),x(c)),ra(c)}},this.fnSettings=function(){return s(this[j.ext.iApiIndex])},this.fnSort=function(e){var t=s(this[j.ext.iApiIndex]);t.aaSorting=e,O(t)},this.fnSortListener=function(e,t,i){ia(s(this[j.ext.iApiIndex]),e,t,i)},this.fnUpdate=function(e,t,i,a,o){var l=s(this[j.ext.iApiIndex]),t="object"==typeof t?I(l,t):t;if(h.isArray(e)&&i===n)for(l.aoData[t]._aData=e.slice(),i=0;i<l.aoColumns.length;i++)this.fnUpdate(v(l,t,i),t,i,!1,!1);else if(h.isPlainObject(e)&&i===n)for(l.aoData[t]._aData=h.extend(!0,{},e),i=0;i<l.aoColumns.length;i++)this.fnUpdate(v(l,t,i),t,i,!1,!1);else{F(l,t,i,e);var e=v(l,t,i,"display"),d=l.aoColumns[i];null!==d.fnRender&&(e=S(l,t,i),d.bUseRendered&&F(l,t,i,e)),null!==l.aoData[t].nTr&&(J(l,t)[i].innerHTML=e)}return i=h.inArray(t,l.aiDisplay),l.asDataSearch[i]=na(l,Y(l,t,"filter",r(l,"bSearchable"))),(o===n||o)&&k(l),(a===n||a)&&aa(l),0},this.fnVersionCheck=j.ext.fnVersionCheck,this.oApi={_fnExternApiFunc:Va,_fnInitialise:ba,_fnInitComplete:$,_fnLanguageCompat:pa,_fnAddColumn:o,_fnColumnOptions:m,_fnAddData:H,_fnCreateTr:ea,_fnGatherData:ua,_fnBuildHead:va,_fnDrawHead:W,_fnDraw:x,_fnReDraw:aa,_fnAjaxUpdate:wa,_fnAjaxParameters:Ea,_fnAjaxUpdateDraw:Fa,_fnServerParams:ka,_fnAddOptionsHtml:xa,_fnFeatureHtmlTable:Ba,_fnScrollDraw:La,_fnAdjustColumnSizing:k,_fnFeatureHtmlFilter:za,_fnFilterComplete:K,_fnFilterCustom:Ia,_fnFilterColumn:Ha,_fnFilter:Ga,_fnBuildSearchArray:la,_fnBuildSearchRow:na,_fnFilterCreateSearch:ma,_fnDataToSearch:Ja,_fnSort:O,_fnSortAttachListener:ia,_fnSortingClasses:P,_fnFeatureHtmlPaginate:Da,_fnPageChange:qa,_fnFeatureHtmlInfo:Ca,_fnUpdateInfo:Ka,_fnFeatureHtmlLength:ya,_fnFeatureHtmlProcessing:Aa,_fnProcessingDisplay:E,_fnVisibleToColumnIndex:G,_fnColumnIndexToVisible:R,_fnNodeToDataIndex:I,_fnVisbleColumns:t,_fnCalculateEnd:y,_fnConvertToWidth:Ma,_fnCalculateColumnWidths:da,_fnScrollingWidthAdjust:Oa,_fnGetWidestNode:Na,_fnGetMaxLenString:Pa,_fnStringToCss:q,_fnDetectType:B,_fnSettingsFromNode:s,_fnGetDataMaster:Z,_fnGetTrNodes:T,_fnGetTdNodes:J,_fnEscapeRegex:oa,_fnDeleteIndex:ha,_fnReOrderIndex:u,_fnColumnOrdering:M,_fnLog:D,_fnClearTable:ga,_fnSaveState:ra,_fnLoadState:Sa,_fnCreateCookie:function(a,b,c,d,e){var f=new Date;f.setTime(f.getTime()+1e3*c);var c=X.location.pathname.split("/"),a=a+"_"+c.pop().replace(/[\/:]/g,"").toLowerCase(),g;if(null!==e?(g="function"==typeof h.parseJSON?h.parseJSON(b):eval("("+b+")"),b=e(a,g,f.toGMTString(),c.join("/")+"/")):b=a+"="+encodeURIComponent(b)+"; expires="+f.toGMTString()+"; path="+c.join("/")+"/",a=l.cookie.split(";"),e=b.split(";")[0].length,f=[],4096<e+l.cookie.length+10){for(var j=0,o=a.length;o>j;j++)if(-1!=a[j].indexOf(d)){var k=a[j].split("=");try{(g=eval("("+decodeURIComponent(k[1])+")"))&&g.iCreate&&f.push({name:k[0],time:g.iCreate})}catch(m){}}for(f.sort(function(e,t){return t.time-e.time});4096<e+l.cookie.length+10;){if(0===f.length)return;d=f.pop(),l.cookie=d.name+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+c.join("/")+"/"}}l.cookie=b},_fnReadCookie:function(e){for(var t=X.location.pathname.split("/"),e=e+"_"+t[t.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",t=l.cookie.split(";"),i=0;i<t.length;i++){for(var s=t[i];" "==s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(e))return decodeURIComponent(s.substring(e.length,s.length))}return null},_fnDetectHeader:V,_fnGetUniqueThs:N,_fnScrollBarWidth:Qa,_fnApplyToChildren:C,_fnMap:p,_fnGetRowData:Y,_fnGetCellData:v,_fnSetCellData:F,_fnGetObjectDataFn:Q,_fnSetObjectDataFn:L,_fnApplyColumnDefs:ta,_fnBindAction:Ra,_fnExtend:Ta,_fnCallbackReg:z,_fnCallbackFire:A,_fnJsonString:Wa,_fnRender:S,_fnNodeToColumnIndex:fa,_fnInfoMacros:ja,_fnBrowserDetect:Ua,_fnGetColumns:r},h.extend(j.ext.oApi,this.oApi);for(var sa in j.ext.oApi)sa&&(this[sa]=Va(sa));var ca=this;return this.each(function(){var t,i,s,r=0;i=this.getAttribute("id");var a=!1,d=!1;if("table"!=this.nodeName.toLowerCase())D(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);else{for(r=0,t=j.settings.length;t>r;r++){if(j.settings[r].nTable==this){if(e===n||e.bRetrieve)return j.settings[r].oInstance;if(e.bDestroy){j.settings[r].oInstance.fnDestroy();break}return void D(j.settings[r],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy")}if(j.settings[r].sTableId==this.id){j.settings.splice(r,1);break}}(null===i||""===i)&&(this.id=i="DataTables_Table_"+j.ext._oExternConfig.iNextUnique++);var c=h.extend(!0,{},j.models.oSettings,{nTable:this,oApi:ca.oApi,oInit:e,sDestroyWidth:h(this).width(),sInstance:i,sTableId:i});if(j.settings.push(c),c.oInstance=1===ca.length?ca:h(this).dataTable(),e||(e={}),e.oLanguage&&pa(e.oLanguage),e=Ta(h.extend(!0,{},j.defaults),e),p(c.oFeatures,e,"bPaginate"),p(c.oFeatures,e,"bLengthChange"),p(c.oFeatures,e,"bFilter"),p(c.oFeatures,e,"bSort"),p(c.oFeatures,e,"bInfo"),p(c.oFeatures,e,"bProcessing"),p(c.oFeatures,e,"bAutoWidth"),p(c.oFeatures,e,"bSortClasses"),p(c.oFeatures,e,"bServerSide"),p(c.oFeatures,e,"bDeferRender"),p(c.oScroll,e,"sScrollX","sX"),p(c.oScroll,e,"sScrollXInner","sXInner"),p(c.oScroll,e,"sScrollY","sY"),p(c.oScroll,e,"bScrollCollapse","bCollapse"),p(c.oScroll,e,"bScrollInfinite","bInfinite"),p(c.oScroll,e,"iScrollLoadGap","iLoadGap"),p(c.oScroll,e,"bScrollAutoCss","bAutoCss"),p(c,e,"asStripeClasses"),p(c,e,"asStripClasses","asStripeClasses"),p(c,e,"fnServerData"),p(c,e,"fnFormatNumber"),p(c,e,"sServerMethod"),p(c,e,"aaSorting"),p(c,e,"aaSortingFixed"),p(c,e,"aLengthMenu"),p(c,e,"sPaginationType"),p(c,e,"sAjaxSource"),p(c,e,"sAjaxDataProp"),p(c,e,"iCookieDuration"),p(c,e,"sCookiePrefix"),p(c,e,"sDom"),p(c,e,"bSortCellsTop"),p(c,e,"iTabIndex"),p(c,e,"oSearch","oPreviousSearch"),p(c,e,"aoSearchCols","aoPreSearchCols"),p(c,e,"iDisplayLength","_iDisplayLength"),p(c,e,"bJQueryUI","bJUI"),p(c,e,"fnCookieCallback"),p(c,e,"fnStateLoad"),p(c,e,"fnStateSave"),p(c.oLanguage,e,"fnInfoCallback"),z(c,"aoDrawCallback",e.fnDrawCallback,"user"),z(c,"aoServerParams",e.fnServerParams,"user"),z(c,"aoStateSaveParams",e.fnStateSaveParams,"user"),z(c,"aoStateLoadParams",e.fnStateLoadParams,"user"),z(c,"aoStateLoaded",e.fnStateLoaded,"user"),z(c,"aoRowCallback",e.fnRowCallback,"user"),z(c,"aoRowCreatedCallback",e.fnCreatedRow,"user"),z(c,"aoHeaderCallback",e.fnHeaderCallback,"user"),z(c,"aoFooterCallback",e.fnFooterCallback,"user"),z(c,"aoInitComplete",e.fnInitComplete,"user"),z(c,"aoPreDrawCallback",e.fnPreDrawCallback,"user"),c.oFeatures.bServerSide&&c.oFeatures.bSort&&c.oFeatures.bSortClasses?z(c,"aoDrawCallback",P,"server_side_sort_classes"):c.oFeatures.bDeferRender&&z(c,"aoDrawCallback",P,"defer_sort_classes"),e.bJQueryUI?(h.extend(c.oClasses,j.ext.oJUIClasses),e.sDom===j.defaults.sDom&&"lfrtip"===j.defaults.sDom&&(c.sDom='<"H"lfr>t<"F"ip>')):h.extend(c.oClasses,j.ext.oStdClasses),h(this).addClass(c.oClasses.sTable),(""!==c.oScroll.sX||""!==c.oScroll.sY)&&(c.oScroll.iBarWidth=Qa()),c.iInitDisplayStart===n&&(c.iInitDisplayStart=e.iDisplayStart,c._iDisplayStart=e.iDisplayStart),e.bStateSave&&(c.oFeatures.bStateSave=!0,Sa(c,e),z(c,"aoDrawCallback",ra,"state_save")),null!==e.iDeferLoading&&(c.bDeferLoading=!0,r=h.isArray(e.iDeferLoading),c._iRecordsDisplay=r?e.iDeferLoading[0]:e.iDeferLoading,c._iRecordsTotal=r?e.iDeferLoading[1]:e.iDeferLoading),null!==e.aaData&&(d=!0),""!==e.oLanguage.sUrl?(c.oLanguage.sUrl=e.oLanguage.sUrl,h.getJSON(c.oLanguage.sUrl,null,function(t){pa(t),h.extend(!0,c.oLanguage,e.oLanguage,t),ba(c)}),a=!0):h.extend(!0,c.oLanguage,e.oLanguage),null===e.asStripeClasses&&(c.asStripeClasses=[c.oClasses.sStripeOdd,c.oClasses.sStripeEven]),t=c.asStripeClasses.length,c.asDestroyStripes=[],t){for(i=!1,s=h(this).children("tbody").children("tr:lt("+t+")"),r=0;t>r;r++)s.hasClass(c.asStripeClasses[r])&&(i=!0,c.asDestroyStripes.push(c.asStripeClasses[r]));i&&s.removeClass(c.asStripeClasses.join(" "))}if(i=[],r=this.getElementsByTagName("thead"),0!==r.length&&(V(c.aoHeader,r[0]),i=N(c)),null===e.aoColumns)for(s=[],r=0,t=i.length;t>r;r++)s.push(null);else s=e.aoColumns;for(r=0,t=s.length;t>r;r++)e.saved_aoColumns!==n&&e.saved_aoColumns.length==t&&(null===s[r]&&(s[r]={}),s[r].bVisible=e.saved_aoColumns[r].bVisible),o(c,i?i[r]:null);for(ta(c,e.aoColumnDefs,s,function(e,t){m(c,e,t)}),r=0,t=c.aaSorting.length;t>r;r++){c.aaSorting[r][0]>=c.aoColumns.length&&(c.aaSorting[r][0]=0);var u=c.aoColumns[c.aaSorting[r][0]];for(c.aaSorting[r][2]===n&&(c.aaSorting[r][2]=0),e.aaSorting===n&&c.saved_aaSorting===n&&(c.aaSorting[r][1]=u.asSorting[0]),i=0,s=u.asSorting.length;s>i;i++)if(c.aaSorting[r][1]==u.asSorting[i]){c.aaSorting[r][2]=i;break}}if(P(c),Ua(c),r=h(this).children("caption").each(function(){this._captionSide=h(this).css("caption-side")}),t=h(this).children("thead"),0===t.length&&(t=[l.createElement("thead")],this.appendChild(t[0])),c.nTHead=t[0],t=h(this).children("tbody"),0===t.length&&(t=[l.createElement("tbody")],this.appendChild(t[0])),c.nTBody=t[0],c.nTBody.setAttribute("role","alert"),c.nTBody.setAttribute("aria-live","polite"),c.nTBody.setAttribute("aria-relevant","all"),t=h(this).children("tfoot"),0===t.length&&0<r.length&&(""!==c.oScroll.sX||""!==c.oScroll.sY)&&(t=[l.createElement("tfoot")],this.appendChild(t[0])),0<t.length&&(c.nTFoot=t[0],V(c.aoFooter,c.nTFoot)),d)for(r=0;r<e.aaData.length;r++)H(c,e.aaData[r]);else ua(c);c.aiDisplay=c.aiDisplayMaster.slice(),c.bInitialised=!0,!1===a&&ba(c)}}),ca=null,this};j.fnVersionCheck=function(e){for(var t=function(e,t){for(;e.length<t;)e+="0";return e},i=j.ext.sVersion.split("."),e=e.split("."),s="",r="",n=0,a=e.length;a>n;n++)s+=t(i[n],3),r+=t(e[n],3);return parseInt(s,10)>=parseInt(r,10)},j.fnIsDataTable=function(e){for(var t=j.settings,i=0;i<t.length;i++)if(t[i].nTable===e||t[i].nScrollHead===e||t[i].nScrollFoot===e)return!0;return!1},j.fnTables=function(e){var t=[];return jQuery.each(j.settings,function(i,s){(!e||!0===e&&h(s.nTable).is(":visible"))&&t.push(s.nTable)}),t},j.version="1.9.4",j.settings=[],j.models={},j.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:j.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:j.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}},j.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},j.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""},j.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},j.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){if(1e3>e)return e;for(var t=e+"",e=t.split(""),i="",t=t.length,s=0;t>s;s++)0===s%3&&0!==s&&(i=this.oLanguage.sInfoThousands+i),i=e[t-s-1]+i;return i},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(e,t,i,s){s.jqXHR=h.ajax({url:e,data:t,success:function(e){e.sError&&s.oApi._fnLog(s,0,e.sError),h(s.oInstance).trigger("xhr",[s,e]),i(e)},dataType:"json",cache:!1,type:s.sServerMethod,error:function(e,t){"parsererror"==t&&s.oApi._fnLog(s,0,"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},fnServerParams:null,fnStateLoad:function(e){var e=this.oApi._fnReadCookie(e.sCookiePrefix+e.sInstance),j;try{j="function"==typeof h.parseJSON?h.parseJSON(e):eval("("+e+")")}catch(m){j=null}return j},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(e,t){this.oApi._fnCreateCookie(e.sCookiePrefix+e.sInstance,this.oApi._fnJsonString(t),e.iCookieDuration,e.sCookiePrefix,e.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:h.extend({},j.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET"},j.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},j.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},fnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?!1===this.oFeatures.bPaginate||-1==this._iDisplayLength?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null},j.ext=h.extend(!0,{},j.models.ext),h.extend(j.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",
sFooterTH:"",sJUIHeader:"",sJUIFooter:""}),h.extend(j.ext.oJUIClasses,j.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default",sJUIHeader:"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix",sJUIFooter:"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"}),h.extend(j.ext.oPagination,{two_button:{fnInit:function(e,t,i){var s=e.oLanguage.oPaginate,r=function(t){e.oApi._fnPageChange(e,t.data.action)&&i(e)},s=e.bJUI?'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUIPrev+'"></span></a><a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUINext+'"></span></a>':'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+s.sPrevious+'</a><a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+s.sNext+"</a>";h(t).append(s);var n=h("a",t),s=n[0],n=n[1];e.oApi._fnBindAction(s,{action:"previous"},r),e.oApi._fnBindAction(n,{action:"next"},r),e.aanFeatures.p||(t.id=e.sTableId+"_paginate",s.id=e.sTableId+"_previous",n.id=e.sTableId+"_next",s.setAttribute("aria-controls",e.sTableId),n.setAttribute("aria-controls",e.sTableId))},fnUpdate:function(e){if(e.aanFeatures.p)for(var t,i=e.oClasses,s=e.aanFeatures.p,r=0,n=s.length;n>r;r++)(t=s[r].firstChild)&&(t.className=0===e._iDisplayStart?i.sPagePrevDisabled:i.sPagePrevEnabled,t=t.nextSibling,t.className=e.fnDisplayEnd()==e.fnRecordsDisplay()?i.sPageNextDisabled:i.sPageNextEnabled)}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(e,t,i){var s=e.oLanguage.oPaginate,r=e.oClasses,n=function(t){e.oApi._fnPageChange(e,t.data.action)&&i(e)};h(t).append('<a  tabindex="'+e.iTabIndex+'" class="'+r.sPageButton+" "+r.sPageFirst+'">'+s.sFirst+'</a><a  tabindex="'+e.iTabIndex+'" class="'+r.sPageButton+" "+r.sPagePrevious+'">'+s.sPrevious+'</a><span></span><a tabindex="'+e.iTabIndex+'" class="'+r.sPageButton+" "+r.sPageNext+'">'+s.sNext+'</a><a tabindex="'+e.iTabIndex+'" class="'+r.sPageButton+" "+r.sPageLast+'">'+s.sLast+"</a>");var a=h("a",t),s=a[0],r=a[1],o=a[2],a=a[3];e.oApi._fnBindAction(s,{action:"first"},n),e.oApi._fnBindAction(r,{action:"previous"},n),e.oApi._fnBindAction(o,{action:"next"},n),e.oApi._fnBindAction(a,{action:"last"},n),e.aanFeatures.p||(t.id=e.sTableId+"_paginate",s.id=e.sTableId+"_first",r.id=e.sTableId+"_previous",o.id=e.sTableId+"_next",a.id=e.sTableId+"_last")},fnUpdate:function(e,t){if(e.aanFeatures.p){var i,s,r=j.ext.oPagination.iFullNumbersShowPages,n=Math.floor(r/2),a=Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength),o=Math.ceil(e._iDisplayStart/e._iDisplayLength)+1,l="",d=e.oClasses,c=e.aanFeatures.p,u=function(s){e.oApi._fnBindAction(this,{page:s+i-1},function(i){e.oApi._fnPageChange(e,i.data.page),t(e),i.preventDefault()})};for(-1===e._iDisplayLength?o=n=i=1:r>a?(i=1,n=a):n>=o?(i=1,n=r):o>=a-n?(i=a-r+1,n=a):(i=o-Math.ceil(r/2)+1,n=i+r-1),r=i;n>=r;r++)l+=o!==r?'<a tabindex="'+e.iTabIndex+'" class="'+d.sPageButton+'">'+e.fnFormatNumber(r)+"</a>":'<a tabindex="'+e.iTabIndex+'" class="'+d.sPageButtonActive+'">'+e.fnFormatNumber(r)+"</a>";for(r=0,n=c.length;n>r;r++)s=c[r],s.hasChildNodes()&&(h("span:eq(0)",s).html(l).children("a").each(u),s=s.getElementsByTagName("a"),s=[s[0],s[1],s[s.length-2],s[s.length-1]],h(s).removeClass(d.sPageButton+" "+d.sPageButtonActive+" "+d.sPageButtonStaticDisabled),h([s[0],s[1]]).addClass(1==o?d.sPageButtonStaticDisabled:d.sPageButton),h([s[2],s[3]]).addClass(0===a||o===a||-1===e._iDisplayLength?d.sPageButtonStaticDisabled:d.sPageButton))}}}}),h.extend(j.ext.oSort,{"string-pre":function(e){return"string"!=typeof e&&(e=null!==e&&e.toString?e.toString():""),e.toLowerCase()},"string-asc":function(e,t){return t>e?-1:e>t?1:0},"string-desc":function(e,t){return t>e?1:e>t?-1:0},"html-pre":function(e){return e.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(e,t){return t>e?-1:e>t?1:0},"html-desc":function(e,t){return t>e?1:e>t?-1:0},"date-pre":function(e){return e=Date.parse(e),(isNaN(e)||""===e)&&(e=Date.parse("01/01/1970 00:00:00")),e},"date-asc":function(e,t){return e-t},"date-desc":function(e,t){return t-e},"numeric-pre":function(e){return"-"==e||""===e?0:1*e},"numeric-asc":function(e,t){return e-t},"numeric-desc":function(e,t){return t-e}}),h.extend(j.ext.aTypes,[function(e){if("number"==typeof e)return"numeric";if("string"!=typeof e)return null;var t,i=!1;if(t=e.charAt(0),-1=="0123456789-".indexOf(t))return null;for(var s=1;s<e.length;s++){if(t=e.charAt(s),-1=="0123456789.".indexOf(t))return null;if("."==t){if(i)return null;i=!0}}return"numeric"},function(e){var t=Date.parse(e);return null!==t&&!isNaN(t)||"string"==typeof e&&0===e.length?"date":null},function(e){return"string"==typeof e&&-1!=e.indexOf("<")&&-1!=e.indexOf(">")?"html":null}]),h.fn.DataTable=j,h.fn.dataTable=j,h.fn.dataTableSettings=j.settings,h.fn.dataTableExt=j.ext};"function"==typeof define&&define.amd?define(["jquery"],L):jQuery&&!jQuery.fn.dataTable&&L(jQuery)}(window,document),$.extend(!0,$.fn.dataTable.defaults,{sDom:"<'row'<'col-sm-6'l><'col-sm-6'f>r>t<'row'<'col-sm-6'i><'col-sm-6'p>>",sPaginationType:"bootstrap",oLanguage:{sLengthMenu:"Display _MENU_ records"}}),$.fn.dataTableExt.oApi.fnPagingInfo=function(e){return{iStart:e._iDisplayStart,iEnd:e.fnDisplayEnd(),iLength:e._iDisplayLength,iTotal:e.fnRecordsTotal(),iFilteredTotal:e.fnRecordsDisplay(),iPage:Math.ceil(e._iDisplayStart/e._iDisplayLength),iTotalPages:Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength)}},$.extend($.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(e,t,i){var s=(e.oLanguage.oPaginate,function(t){t.preventDefault(),e.oApi._fnPageChange(e,t.data.action)&&i(e)});$(t).append('<ul class="pagination"><li class="prev disabled"><a href="#"><i class="icon-double-angle-left"></i></a></li><li class="next disabled"><a href="#"><i class="icon-double-angle-right"></i></a></li></ul>');var r=$("a",t);$(r[0]).bind("click.DT",{action:"previous"},s),$(r[1]).bind("click.DT",{action:"next"},s)},fnUpdate:function(e,t){var i,s,r,n,a,o=5,l=e.oInstance.fnPagingInfo(),d=e.aanFeatures.p,c=Math.floor(o/2);for(l.iTotalPages<o?(n=1,a=l.iTotalPages):l.iPage<=c?(n=1,a=o):l.iPage>=l.iTotalPages-c?(n=l.iTotalPages-o+1,a=l.iTotalPages):(n=l.iPage-c+1,a=n+o-1),i=0,iLen=d.length;i<iLen;i++){for($("li:gt(0)",d[i]).filter(":not(:last)").remove(),s=n;a>=s;s++)r=s==l.iPage+1?'class="active"':"",$("<li "+r+'><a href="#">'+s+"</a></li>").insertBefore($("li:last",d[i])[0]).bind("click",function(i){i.preventDefault(),e._iDisplayStart=(parseInt($("a",this).text(),10)-1)*l.iLength,t(e)});0===l.iPage?$("li:first",d[i]).addClass("disabled"):$("li:first",d[i]).removeClass("disabled"),l.iPage===l.iTotalPages-1||0===l.iTotalPages?$("li:last",d[i]).addClass("disabled"):$("li:last",d[i]).removeClass("disabled")}}}}),function(e){e.easyPieChart=function(t,i){var s,r,n,a,o,l,d,c,h=this;return this.el=t,this.$el=e(t),this.$el.data("easyPieChart",this),this.init=function(){var t,s;return h.options=e.extend({},e.easyPieChart.defaultOptions,i),t=parseInt(h.$el.data("percent"),10),h.percentage=0,h.canvas=e("<canvas width='"+h.options.size+"' height='"+h.options.size+"'></canvas>").get(0),h.$el.append(h.canvas),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(h.canvas),h.ctx=h.canvas.getContext("2d"),window.devicePixelRatio>1&&(s=window.devicePixelRatio,e(h.canvas).css({width:h.options.size,height:h.options.size}),h.canvas.width*=s,h.canvas.height*=s,h.ctx.scale(s,s)),h.ctx.translate(h.options.size/2,h.options.size/2),h.ctx.rotate(h.options.rotate*Math.PI/180),h.$el.addClass("easyPieChart"),h.$el.css({width:h.options.size,height:h.options.size,lineHeight:""+h.options.size+"px"}),h.update(t),h},this.update=function(e){return e=parseFloat(e)||0,h.options.animate===!1?n(e):h.options.delay?(r(h.percentage,0),setTimeout(function(){return r(h.percentage,e)},h.options.delay)):r(h.percentage,e),h},d=function(){var e,t,i;for(h.ctx.fillStyle=h.options.scaleColor,h.ctx.lineWidth=1,i=[],e=t=0;24>=t;e=++t)i.push(s(e));return i},s=function(e){var t;t=e%6===0?0:.017*h.options.size,h.ctx.save(),h.ctx.rotate(e*Math.PI/12),h.ctx.fillRect(h.options.size/2-t,0,.05*-h.options.size+t,1),h.ctx.restore()},c=function(){var e;e=h.options.size/2-h.options.lineWidth/2,h.options.scaleColor!==!1&&(e-=.08*h.options.size),h.ctx.beginPath(),h.ctx.arc(0,0,e,0,2*Math.PI,!0),h.ctx.closePath(),h.ctx.strokeStyle=h.options.trackColor,h.ctx.lineWidth=h.options.lineWidth,h.ctx.stroke()},l=function(){h.options.scaleColor!==!1&&d(),h.options.trackColor!==!1&&c()},n=function(t){var i;l(),h.ctx.strokeStyle=e.isFunction(h.options.barColor)?h.options.barColor(t):h.options.barColor,h.ctx.lineCap=h.options.lineCap,h.ctx.lineWidth=h.options.lineWidth,i=h.options.size/2-h.options.lineWidth/2,h.options.scaleColor!==!1&&(i-=.08*h.options.size),h.ctx.save(),h.ctx.rotate(-Math.PI/2),h.ctx.beginPath(),h.ctx.arc(0,0,i,0,2*Math.PI*t/100,!1),h.ctx.stroke(),h.ctx.restore()},o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),r=function(e,t){var i,s;h.options.onStart.call(h),h.percentage=t,Date.now||(Date.now=function(){return+new Date}),s=Date.now(),i=function(){var r,d;return d=Math.min(Date.now()-s,h.options.animate),h.ctx.clearRect(-h.options.size/2,-h.options.size/2,h.options.size,h.options.size),l.call(h),r=[a(d,e,t-e,h.options.animate)],h.options.onStep.call(h,r),n.call(h,r),d>=h.options.animate?h.options.onStop.call(h,r,t):o(i)},o(i)},a=function(e,t,i,s){var r,n;return r=function(e){return Math.pow(e,2)},n=function(e){return 1>e?r(e):2-r(e/2*-2+2)},e/=s/2,i/2*n(e)+t},this.init()},e.easyPieChart.defaultOptions={barColor:"#ef1e25",trackColor:"#f2f2f2",scaleColor:"#dfe0e0",lineCap:"round",rotate:0,size:110,lineWidth:3,animate:!1,delay:!1,onStart:e.noop,onStop:e.noop,onStep:e.noop},e.fn.easyPieChart=function(t){return e.each(this,function(i,s){var r,n;return r=e(s),r.data("easyPieChart")?void 0:(n=e.extend({},t,r.data()),r.data("easyPieChart",new e.easyPieChart(s,n)))})}}(jQuery),function(b){b.jgrid=b.jgrid||{},b.extend(b.jgrid,{version:"4.5.2",htmlDecode:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?(""+e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},htmlEncode:function(e){return e?(""+e).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},format:function(e){var t=b.makeArray(arguments).slice(1);return null==e&&(e=""),e.replace(/\{(\d+)\}/g,function(e,i){return t[i]})},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var e=-1;return null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(e=parseFloat(RegExp.$1)),e},getCellIndex:function(e){return e=b(e),e.is("tr")?-1:(e=(e.is("td")||e.is("th")?e:e.closest("td,th"))[0],b.jgrid.msie?b.inArray(e,e.parentNode.cells):e.cellIndex)},stripHtml:function(e){var e=""+e,t=/<("[^"]*"|'[^']*'|[^'">])*>/gi;return e?(e=e.replace(t,""))&&"&nbsp;"!==e&&"&#160;"!==e?e.replace(/\"/g,"'"):"":e},stripPref:function(e,t){var i=b.type(e);return("string"===i||"number"===i)&&(e=""+e,t=""!==e?(""+t).replace(""+e,""):t),t},parse:function(d){return"while(1);"===d.substr(0,9)&&(d=d.substr(9)),"/*"===d.substr(0,2)&&(d=d.substr(2,d.length-4)),d||(d="{}"),!0===b.jgrid.useJSON&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(d):eval("("+d+")")},parseDate:function(e,t,i,s){var r,n,a=/^\/Date\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\)\/$/,o="string"==typeof t?t.match(a):null,a=function(e,t){for(e=""+e,t=parseInt(t,10)||2;e.length<t;)e="0"+e;return e},l={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},d=0,d=function(e,t){return 0===e?12===t&&(t=0):12!==t&&(t+=12),t};if(void 0===s&&(s=b.jgrid.formatter.date),void 0===s.parseRe&&(s.parseRe=/[Tt\\\/:_;.,\t\s-]/),s.masks.hasOwnProperty(e)&&(e=s.masks[e]),t&&null!=t)if(isNaN(t-0)||"u"!==(""+e).toLowerCase())if(t.constructor===Date)d=t;else if(null!==o)d=new Date(parseInt(o[1],10)),o[3]&&(e=60*Number(o[5])+Number(o[6]),e*="-"===o[4]?1:-1,e-=d.getTimezoneOffset(),d.setTime(Number(Number(d)+6e4*e)));else{for(t=(""+t).replace(/\\T/g,"T").replace(/\\t/,"t").split(s.parseRe),e=e.replace(/\\T/g,"T").replace(/\\t/,"t").split(s.parseRe),r=0,n=e.length;n>r;r++)"M"===e[r]&&(o=b.inArray(t[r],s.monthNames),-1!==o&&12>o&&(t[r]=o+1,l.m=t[r])),"F"===e[r]&&(o=b.inArray(t[r],s.monthNames,12),-1!==o&&o>11&&(t[r]=o+1-12,l.m=t[r])),"a"===e[r]&&(o=b.inArray(t[r],s.AmPm),-1!==o&&2>o&&t[r]===s.AmPm[o]&&(t[r]=o,l.h=d(t[r],l.h))),"A"===e[r]&&(o=b.inArray(t[r],s.AmPm),-1!==o&&o>1&&t[r]===s.AmPm[o]&&(t[r]=o-2,l.h=d(t[r],l.h))),"g"===e[r]&&(l.h=parseInt(t[r],10)),void 0!==t[r]&&(l[e[r].toLowerCase()]=parseInt(t[r],10));if(l.f&&(l.m=l.f),0===l.m&&0===l.y&&0===l.d)return"&#160;";l.m=parseInt(l.m,10)-1,d=l.y,d>=70&&99>=d?l.y=1900+l.y:d>=0&&69>=d&&(l.y=2e3+l.y),d=new Date(l.y,l.m,l.d,l.h,l.i,l.s,l.u)}else d=new Date(1e3*parseFloat(t));else d=new Date(l.y,l.m,l.d,l.h,l.i,l.s,l.u);if(void 0===i)return d;s.masks.hasOwnProperty(i)?i=s.masks[i]:i||(i="Y-m-d"),e=d.getHours(),t=d.getMinutes(),l=d.getDate(),o=d.getMonth()+1,r=d.getTimezoneOffset(),n=d.getSeconds();var c=d.getMilliseconds(),h=d.getDay(),u=d.getFullYear(),p=(h+6)%7+1,f=(new Date(u,o-1,l)-new Date(u,0,1))/864e5,g={d:a(l),D:s.dayNames[h],j:l,l:s.dayNames[h+7],N:p,S:s.S(l),w:h,z:f,W:5>p?Math.floor((f+p-1)/7)+1:Math.floor((f+p-1)/7)||(4>(new Date(u-1,0,1).getDay()+6)%7?53:52),F:s.monthNames[o-1+12],m:a(o),M:s.monthNames[o-1],n:o,t:"?",L:"?",o:"?",Y:u,y:(""+u).substring(2),a:12>e?s.AmPm[0]:s.AmPm[1],A:12>e?s.AmPm[2]:s.AmPm[3],B:"?",g:e%12||12,G:e,h:a(e%12||12),H:a(e),i:a(t),s:a(n),u:c,e:"?",I:"?",O:(r>0?"-":"+")+a(100*Math.floor(Math.abs(r)/60)+Math.abs(r)%60,4),P:"?",T:((""+d).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g)||[""]).pop().replace(/[^-+\dA-Z]/g,""),Z:"?",c:"?",r:"?",U:Math.floor(d/1e3)};return i.replace(/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,function(e){return g.hasOwnProperty(e)?g[e]:e.substring(1)})},jqID:function(e){return(""+e).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(e){return(e||b.jgrid.uidPref)+b.jgrid.guid++},getAccessor:function(e,t){var i,s,r,n=[];if("function"==typeof t)return t(e);if(i=e[t],void 0===i)try{if("string"==typeof t&&(n=t.split(".")),r=n.length)for(i=e;i&&r--;)s=n.shift(),i=i[s]}catch(a){}return i},getXmlData:function(e,t,i){var s="string"==typeof t?t.match(/^(.*)\[(\w+)\]$/):null;return"function"==typeof t?t(e):s&&s[2]?s[1]?b(s[1],e).attr(s[2]):b(e).attr(s[2]):(e=b(t,e),i?e:0<e.length?b(e).text():void 0)},cellWidth:function(){var e=b("<div class='ui-jqgrid' style='left:10000px'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;'></td></tr></table></div>"),t=e.appendTo("body").find("td").width();return e.remove(),5!==t},cell_width:!0,ajaxOptions:{},from:function(d){return new function(d,c){"string"==typeof d&&(d=b.data(d));var e=this,a=d,j=!0,g=!1,h=c,i=/[\$,%]/g,k=null,l=null,o=0,n=!1,m="",t=[],A=!0;if("object"!=typeof d||!d.push)throw"data provides is not an array";return 0<d.length&&(A="object"!=typeof d[0]?!1:!0),this._hasData=function(){return null===a?!1:0===a.length?!1:!0},this._getStr=function(e){var t=[];return g&&t.push("jQuery.trim("),t.push("String("+e+")"),g&&t.push(")"),j||t.push(".toLowerCase()"),t.join("")},this._strComp=function(e){return"string"==typeof e?".toString()":""},this._group=function(e,t){return{field:e.toString(),unique:t,items:[]}},this._toStr=function(e){return g&&(e=b.trim(e)),e=e.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),j?e:e.toLowerCase()},this._funcLoop=function(e){var t=[];return b.each(a,function(i,s){t.push(e(s))}),t},this._append=function(e){var t;for(h=null===h?"":h+(""===m?" && ":m),t=0;o>t;t++)h+="(";n&&(h+="!"),h+="("+e+")",n=!1,m="",o=0},this._setCommand=function(e,t){k=e,l=t},this._resetNegate=function(){n=!1},this._repeatCommand=function(t,i){return null===k?e:null!==t&&null!==i?k(t,i):null!==l&&A?k(l,t):k(t)},this._equals=function(t,i){return 0===e._compare(t,i,1)},this._compare=function(e,t,i){var s=Object.prototype.toString;return void 0===i&&(i=1),void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t?0:null===e&&null!==t?1:null!==e&&null===t?-1:"[object Date]"===s.call(e)&&"[object Date]"===s.call(t)?t>e?-i:e>t?i:0:(!j&&"number"!=typeof e&&"number"!=typeof t&&(e=""+e,t=""+t),t>e?-i:e>t?i:0)},this._performSort=function(){0!==t.length&&(a=e._doSort(a,0))},this._doSort=function(i,s){var r=t[s].by,n=t[s].dir,a=t[s].type,o=t[s].datefmt;if(s===t.length-1)return e._getOrder(i,r,n,a,o);s++;for(var l,r=e._getGroup(i,r,n,a,o),n=[],a=0;a<r.length;a++)for(l=e._doSort(r[a].items,s),o=0;o<l.length;o++)n.push(l[o]);return n},this._getOrder=function(t,s,r,n,a){var o,l,d=[],c=[],h="a"===r?1:-1;void 0===n&&(n="text"),l="float"===n||"number"===n||"currency"===n||"numeric"===n?function(e){return e=parseFloat((""+e).replace(i,"")),isNaN(e)?0:e}:"int"===n||"integer"===n?function(e){return e?parseFloat((""+e).replace(i,"")):0}:"date"===n||"datetime"===n?function(e){return b.jgrid.parseDate(a,e).getTime()}:b.isFunction(n)?n:function(e){return e=e?b.trim(""+e):"",j?e:e.toLowerCase()},b.each(t,function(e,t){o=""!==s?b.jgrid.getAccessor(t,s):t,void 0===o&&(o=""),o=l(o,t),c.push({vSort:o,index:e})}),c.sort(function(t,i){return t=t.vSort,i=i.vSort,e._compare(t,i,h)});for(var n=0,u=t.length;u>n;)r=c[n].index,d.push(t[r]),n++;return d},this._getGroup=function(t,i,s,r,n){var a,o=[],l=null,d=null;return b.each(e._getOrder(t,i,s,r,n),function(t,s){a=b.jgrid.getAccessor(s,i),null==a&&(a=""),e._equals(d,a)||(d=a,null!==l&&o.push(l),l=e._group(i,a)),l.items.push(s)}),null!==l&&o.push(l),o},this.ignoreCase=function(){return j=!1,e},this.useCase=function(){return j=!0,e},this.trim=function(){return g=!0,e},this.noTrim=function(){return g=!1,e},this.execute=function(){var d=h,g=[];return null===d?e:(b.each(a,function(){eval(d)&&g.push(this)}),a=g,e)},this.data=function(){return a},this.select=function(t){if(e._performSort(),!e._hasData())return[];if(e.execute(),b.isFunction(t)){var i=[];return b.each(a,function(e,s){i.push(t(s))}),i}return a},this.hasMatch=function(){return e._hasData()?(e.execute(),0<a.length):!1},this.andNot=function(t,i,s){return n=!n,e.and(t,i,s)},this.orNot=function(t,i,s){return n=!n,e.or(t,i,s)},this.not=function(t,i,s){return e.andNot(t,i,s)},this.and=function(t,i,s){return m=" && ",void 0===t?e:e._repeatCommand(t,i,s)},this.or=function(t,i,s){return m=" || ",void 0===t?e:e._repeatCommand(t,i,s)},this.orBegin=function(){return o++,e},this.orEnd=function(){return null!==h&&(h+=")"),e},this.isNot=function(t){return n=!n,e.is(t)},this.is=function(t){return e._append("this."+t),e._resetNegate(),e},this._compareValues=function(t,s,r,n,a){var o;o=A?"jQuery.jgrid.getAccessor(this,'"+s+"')":"this",void 0===r&&(r=null);var l=r,d=void 0===a.stype?"text":a.stype;if(null!==r)switch(d){case"int":case"integer":l=isNaN(Number(l))||""===l?"0":l,o="parseInt("+o+",10)",l="parseInt("+l+",10)";break;case"float":case"number":case"numeric":l=(""+l).replace(i,""),l=isNaN(Number(l))||""===l?"0":l,o="parseFloat("+o+")",l="parseFloat("+l+")";break;case"date":case"datetime":l=""+b.jgrid.parseDate(a.newfmt||"Y-m-d",l).getTime(),o='jQuery.jgrid.parseDate("'+a.srcfmt+'",'+o+").getTime()";break;default:o=e._getStr(o),l=e._getStr('"'+e._toStr(l)+'"')}return e._append(o+" "+n+" "+l),e._setCommand(t,s),e._resetNegate(),e},this.equals=function(t,i,s){return e._compareValues(e.equals,t,i,"==",s)},this.notEquals=function(t,i,s){return e._compareValues(e.equals,t,i,"!==",s)},this.isNull=function(t,i,s){return e._compareValues(e.equals,t,null,"===",s)},this.greater=function(t,i,s){return e._compareValues(e.greater,t,i,">",s)},this.less=function(t,i,s){return e._compareValues(e.less,t,i,"<",s)},this.greaterOrEquals=function(t,i,s){return e._compareValues(e.greaterOrEquals,t,i,">=",s)},this.lessOrEquals=function(t,i,s){return e._compareValues(e.lessOrEquals,t,i,"<=",s)},this.startsWith=function(t,i){var s=null==i?t:i,s=g?b.trim(s.toString()).length:s.toString().length;return A?e._append(e._getStr("jQuery.jgrid.getAccessor(this,'"+t+"')")+".substr(0,"+s+") == "+e._getStr('"'+e._toStr(i)+'"')):(s=g?b.trim(i.toString()).length:i.toString().length,e._append(e._getStr("this")+".substr(0,"+s+") == "+e._getStr('"'+e._toStr(t)+'"'))),e._setCommand(e.startsWith,t),e._resetNegate(),e},this.endsWith=function(t,i){var s=null==i?t:i,s=g?b.trim(s.toString()).length:s.toString().length;return A?e._append(e._getStr("jQuery.jgrid.getAccessor(this,'"+t+"')")+".substr("+e._getStr("jQuery.jgrid.getAccessor(this,'"+t+"')")+".length-"+s+","+s+') == "'+e._toStr(i)+'"'):e._append(e._getStr("this")+".substr("+e._getStr("this")+'.length-"'+e._toStr(t)+'".length,"'+e._toStr(t)+'".length) == "'+e._toStr(t)+'"'),e._setCommand(e.endsWith,t),e._resetNegate(),e},this.contains=function(t,i){return A?e._append(e._getStr("jQuery.jgrid.getAccessor(this,'"+t+"')")+'.indexOf("'+e._toStr(i)+'",0) > -1'):e._append(e._getStr("this")+'.indexOf("'+e._toStr(t)+'",0) > -1'),e._setCommand(e.contains,t),e._resetNegate(),e},this.groupBy=function(t,i,s,r){return e._hasData()?e._getGroup(a,t,i,s,r):null},this.orderBy=function(i,s,r,n){return s=null==s?"a":b.trim(s.toString().toLowerCase()),null==r&&(r="text"),null==n&&(n="Y-m-d"),("desc"===s||"descending"===s)&&(s="d"),("asc"===s||"ascending"===s)&&(s="a"),t.push({by:i,dir:s,type:r,datefmt:n}),e},e}(d,null)},getMethod:function(e){return this.getAccessor(b.fn.jqGrid,e)},extend:function(e){b.extend(b.fn.jqGrid,e),this.no_legacy_api||b.fn.extend(e)}}),b.fn.jqGrid=function(e){if("string"==typeof e){var t=b.jgrid.getMethod(e);if(!t)throw"jqGrid - No such method: "+e;var i=b.makeArray(arguments).slice(1);return t.apply(this,i)}return this.each(function(){if(!this.grid){var t=b.extend(!0,{url:"",height:150,page:1,rowNum:20,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],rowList:[],colNames:[],sortorder:"asc",sortname:"",datatype:"xml",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},jsonReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,multiselect:!1,multikey:!1,editurl:null,search:!1,caption:"",hidegrid:!0,hiddengrid:!1,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:20,gridview:!1,rownumWidth:25,rownumbers:!1,pagerpos:"center",recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,remapColumns:[],ajaxGridOptions:{},direction:"ltr",toppager:!1,headertitles:!1,scrollTimeout:40,data:[],_index:{},grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],plusicon:"ui-icon-circlesmall-plus",minusicon:"ui-icon-circlesmall-minus",displayField:[]},ignoreCase:!1,cmTemplate:{},idPrefix:"",multiSort:!1},b.jgrid.defaults,e||{}),i=this,s={headers:[],cols:[],footers:[],dragStart:function(e,s,r){this.resizing={idx:e,startX:s.clientX,sOL:r[0]},this.hDiv.style.cursor="col-resize",this.curGbox=b("#rs_m"+b.jgrid.jqID(t.id),"#gbox_"+b.jgrid.jqID(t.id)),this.curGbox.css({display:"block",left:r[0],top:r[1],height:r[2]}),b(i).triggerHandler("jqGridResizeStart",[s,e]),b.isFunction(t.resizeStart)&&t.resizeStart.call(i,s,e),document.onselectstart=function(){return!1}},dragMove:function(e){if(this.resizing){var i,s=e.clientX-this.resizing.startX,e=this.headers[this.resizing.idx],r="ltr"===t.direction?e.width+s:e.width-s;r>33&&(this.curGbox.css({left:this.resizing.sOL+s}),!0===t.forceFit?(i=this.headers[this.resizing.idx+t.nv],s="ltr"===t.direction?i.width-s:i.width+s,s>33&&(e.newWidth=r,i.newWidth=s)):(this.newWidth="ltr"===t.direction?t.tblwidth+s:t.tblwidth-s,e.newWidth=r))}},dragEnd:function(){if(this.hDiv.style.cursor="default",this.resizing){var e=this.resizing.idx,s=this.headers[e].newWidth||this.headers[e].width,s=parseInt(s,10);this.resizing=!1,b("#rs_m"+b.jgrid.jqID(t.id)).css("display","none"),t.colModel[e].width=s,this.headers[e].width=s,this.headers[e].el.style.width=s+"px",this.cols[e].style.width=s+"px",0<this.footers.length&&(this.footers[e].style.width=s+"px"),!0===t.forceFit?(s=this.headers[e+t.nv].newWidth||this.headers[e+t.nv].width,this.headers[e+t.nv].width=s,this.headers[e+t.nv].el.style.width=s+"px",this.cols[e+t.nv].style.width=s+"px",0<this.footers.length&&(this.footers[e+t.nv].style.width=s+"px"),t.colModel[e+t.nv].width=s):(t.tblwidth=this.newWidth||t.tblwidth,b("table:first",this.bDiv).css("width",t.tblwidth+"px"),b("table:first",this.hDiv).css("width",t.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,t.footerrow&&(b("table:first",this.sDiv).css("width",t.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft)),b(i).triggerHandler("jqGridResizeStop",[s,e]),b.isFunction(t.resizeStop)&&t.resizeStop.call(i,s,e)}this.curGbox=null,document.onselectstart=function(){return!0}},populateVisible:function(){s.timer&&clearTimeout(s.timer),s.timer=null;var e=b(s.bDiv).height();if(e){var i,r,n=b("table:first",s.bDiv);if(n[0].rows.length)try{r=(i=n[0].rows[1])?b(i).outerHeight()||s.prevRowHeight:s.prevRowHeight}catch(a){r=s.prevRowHeight}if(r){s.prevRowHeight=r;var o=t.rowNum;i=s.scrollTop=s.bDiv.scrollTop;var l=Math.round(n.position().top)-i,d=l+n.height();r*=o;var c,h,u;e>d&&0>=l&&(void 0===t.lastpage||parseInt((d+i+r-1)/r,10)<=t.lastpage)&&(h=parseInt((e-d+r-1)/r,10),d>=0||2>h||!0===t.scroll?(c=Math.round((d+i)/r)+1,l=-1):l=1),l>0&&(c=parseInt(i/r,10)+1,h=parseInt((i+e)/r,10)+2-c,u=!0),!h||t.lastpage&&(c>t.lastpage||1===t.lastpage||c===t.page&&c===t.lastpage)||(s.hDiv.loading?s.timer=setTimeout(s.populateVisible,t.scrollTimeout):(t.page=c,u&&(s.selectionPreserver(n[0]),s.emptyRows.call(n[0],!1,!1)),s.populate(h)))}}},scrollGrid:function(e){if(t.scroll){var i=s.bDiv.scrollTop;void 0===s.scrollTop&&(s.scrollTop=0),i!==s.scrollTop&&(s.scrollTop=i,s.timer&&clearTimeout(s.timer),s.timer=setTimeout(s.populateVisible,t.scrollTimeout))}s.hDiv.scrollLeft=s.bDiv.scrollLeft,t.footerrow&&(s.sDiv.scrollLeft=s.bDiv.scrollLeft),e&&e.stopPropagation()},selectionPreserver:function(e){var t=e.p,i=t.selrow,s=t.selarrrow?b.makeArray(t.selarrrow):null,r=e.grid.bDiv.scrollLeft,n=function(){var a;if(t.selrow=null,t.selarrrow=[],t.multiselect&&s&&0<s.length)for(a=0;a<s.length;a++)s[a]!==i&&b(e).jqGrid("setSelection",s[a],!1,null);i&&b(e).jqGrid("setSelection",i,!1,null),e.grid.bDiv.scrollLeft=r,b(e).unbind(".selectionPreserver",n)};b(e).bind("jqGridGridComplete.selectionPreserver",n)}};if("TABLE"!==this.tagName.toUpperCase())alert("Element is not a table");else if(void 0!==document.documentMode&&5>=document.documentMode)alert("Grid can not be used in this ('quirks') mode!");else{b(this).empty().attr("tabindex","0"),this.p=t,this.p.useProp=!!b.fn.prop;var r,n;if(0===this.p.colNames.length)for(r=0;r<this.p.colModel.length;r++)this.p.colNames[r]=this.p.colModel[r].label||this.p.colModel[r].name;if(this.p.colNames.length!==this.p.colModel.length)alert(b.jgrid.errors.model);else{var a=b("<div class='ui-jqgrid-view'></div>"),o=b.jgrid.msie;i.p.direction=b.trim(i.p.direction.toLowerCase()),-1===b.inArray(i.p.direction,["ltr","rtl"])&&(i.p.direction="ltr"),n=i.p.direction,b(a).insertBefore(this),b(this).removeClass("scroll").appendTo(a);var l=b("<div class='ui-jqgrid ui-widget ui-widget-content ui-corner-all'></div>");b(l).attr({id:"gbox_"+this.id,dir:n}).insertBefore(a),b(a).attr("id","gview_"+this.id).appendTo(l),b("<div class='ui-widget-overlay jqgrid-overlay' id='lui_"+this.id+"'></div>").insertBefore(a),b("<div class='loading ui-state-default ui-state-active' id='load_"+this.id+"'>"+this.p.loadtext+"</div>").insertBefore(a),b(this).attr({cellspacing:"0",cellpadding:"0",border:"0",role:"grid","aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var d=function(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e},c=function(e,t,r,n,a,o){var l=i.p.colModel[e],d=l.align,c='style="',h=l.classes,u=l.name,p=[];return d&&(c+="text-align:"+d+";"),l.hidden===!0&&(c+="display:none;"),0===t?c+="width: "+s.headers[e].width+"px;":l.cellattr&&b.isFunction(l.cellattr)&&(e=l.cellattr.call(i,a,r,n,l,o))&&"string"==typeof e&&(e=e.replace(/style/i,"style").replace(/title/i,"title"),e.indexOf("title")>-1&&(l.title=!1),e.indexOf("class")>-1&&(h=void 0),p=e.split(/[^-]style/),2===p.length?(p[1]=b.trim(p[1].replace("=","")),(0===p[1].indexOf("'")||0===p[1].indexOf('"'))&&(p[1]=p[1].substring(1)),c+=p[1].replace(/'/gi,'"')):c+='"'),p.length||(p[0]="",c+='"'),c+=(void 0!==h?' class="'+h+'"':"")+(l.title&&r?' title="'+b.jgrid.stripHtml(r)+'"':""),c+=' aria-describedby="'+i.p.id+"_"+u+'"',c+p[0]},h=function(e){return null==e||""===e?"&#160;":i.p.autoencode?b.jgrid.htmlEncode(e):""+e},u=function(e,t,s,r,n){var a=i.p.colModel[s];return void 0!==a.formatter?(e=""+i.p.idPrefix!=""?b.jgrid.stripPref(i.p.idPrefix,e):e,e={rowId:e,colModel:a,gid:i.p.id,pos:s},t=b.isFunction(a.formatter)?a.formatter.call(i,t,e,r,n):b.fmatter?b.fn.fmatter.call(i,a.formatter,t,e,r,n):h(t)):t=h(t),t},p=function(e,t,i,s,r,n){return t=u(e,t,i,r,"add"),'<td role="gridcell" '+c(i,s,t,r,e,n)+">"+t+"</td>"},f=function(e,t,s,r){return r='<input role="checkbox" type="checkbox" id="jqg_'+i.p.id+"_"+e+'" class="cbox" name="jqg_'+i.p.id+"_"+e+'"'+(r?'checked="checked"':"")+"/>",'<td role="gridcell" '+c(t,s,"",null,e,!0)+">"+r+"</td>";
},g=function(e,t,i,s){return i=(parseInt(i,10)-1)*parseInt(s,10)+1+t,'<td role="gridcell" class="ui-state-default jqgrid-rownum" '+c(e,t,i,null,t,!0)+">"+i+"</td>"},m=function(e){var t,s,r=[],n=0;for(s=0;s<i.p.colModel.length;s++)t=i.p.colModel[s],"cb"!==t.name&&"subgrid"!==t.name&&"rn"!==t.name&&(r[n]="local"===e?t.name:"xml"===e||"xmlstring"===e?t.xmlmap||t.name:t.jsonmap||t.name,n++);return r},v=function(e){var t=i.p.remapColumns;return t&&t.length||(t=b.map(i.p.colModel,function(e,t){return t})),e&&(t=b.map(t,function(t){return e>t?null:t-e})),t},y=function(e,t){var i;this.p.deepempty?b(this.rows).slice(1).remove():(i=this.rows.length>0?this.rows[0]:null,b(this.firstChild).empty().append(i)),e&&this.p.scroll&&(b(this.grid.bDiv.firstChild).css({height:"auto"}),b(this.grid.bDiv.firstChild.firstChild).css({height:0,display:"none"}),0!==this.grid.bDiv.scrollTop&&(this.grid.bDiv.scrollTop=0)),t===!0&&this.p.treeGrid&&(this.p.data=[],this.p._index={})},w=function(){var e,t,s,r=i.p.data.length;for(e=i.p.rownumbers===!0?1:0,t=i.p.multiselect===!0?1:0,s=i.p.subGrid===!0?1:0,e=i.p.keyIndex===!1||i.p.loadonce===!0?i.p.localReader.id:i.p.colModel[i.p.keyIndex+t+s+e].name,t=0;r>t;t++)s=b.jgrid.getAccessor(i.p.data[t],e),void 0===s&&(s=""+(t+1)),i.p._index[s]=t},_=function(e,t,s,r,n,a){var o,l="-1",d="",t=t?"display:none;":"",s="ui-widget-content jqgrow ui-row-"+i.p.direction+(s?" "+s:"")+(a?" ui-state-highlight":""),a=b(i).triggerHandler("jqGridRowAttr",[r,n,e]);if("object"!=typeof a&&(a=b.isFunction(i.p.rowattr)?i.p.rowattr.call(i,r,n,e):{}),!b.isEmptyObject(a)){a.hasOwnProperty("id")&&(e=a.id,delete a.id),a.hasOwnProperty("tabindex")&&(l=a.tabindex,delete a.tabindex),a.hasOwnProperty("style")&&(t+=a.style,delete a.style),a.hasOwnProperty("class")&&(s+=" "+a["class"],delete a["class"]);try{delete a.role}catch(c){}for(o in a)a.hasOwnProperty(o)&&(d+=" "+o+"="+a[o])}return'<tr role="row" id="'+e+'" tabindex="'+l+'" class="'+s+'"'+(""===t?"":' style="'+t+'"')+d+">"},x=function(e,t,s,r,n){var a=new Date,o="local"!==i.p.datatype&&i.p.loadonce||"xmlstring"===i.p.datatype,l=i.p.xmlReader,d="local"===i.p.datatype?"local":"xml";if(o&&(i.p.data=[],i.p._index={},i.p.localReader.id="_id_"),i.p.reccount=0,b.isXMLDoc(e)){-1!==i.p.treeANode||i.p.scroll?s=s>1?s:1:(y.call(i,!1,!0),s=1);var c,h,u,w,x,j,C,D,S,q=b(i),I=0,T=i.p.multiselect===!0?1:0,F=0,k=i.p.rownumbers===!0?1:0,P=[],E={},N=[],A=i.p.altRows===!0?i.p.altclass:"";i.p.subGrid===!0&&(F=1,w=b.jgrid.getMethod("addSubGridCell")),l.repeatitems||(P=m(d)),x=i.p.keyIndex===!1?b.isFunction(l.id)?l.id.call(i,e):l.id:i.p.keyIndex,P.length>0&&!isNaN(x)&&(i.p.remapColumns&&i.p.remapColumns.length&&(x=b.inArray(x,i.p.remapColumns)),x=P[x]),d=-1===(""+x).indexOf("[")?P.length?function(e,t){return b(x,e).text()||t}:function(e,t){return b(l.cell,e).eq(x).text()||t}:function(e,t){return e.getAttribute(x.replace(/[\[\]]/g,""))||t},i.p.userData={},i.p.page=b.jgrid.getXmlData(e,l.page)||i.p.page||0,i.p.lastpage=b.jgrid.getXmlData(e,l.total),void 0===i.p.lastpage&&(i.p.lastpage=1),i.p.records=b.jgrid.getXmlData(e,l.records)||0,b.isFunction(l.userdata)?i.p.userData=l.userdata.call(i,e)||{}:b.jgrid.getXmlData(e,l.userdata,!0).each(function(){i.p.userData[this.getAttribute("name")]=b(this).text()}),e=b.jgrid.getXmlData(e,l.root,!0),(e=b.jgrid.getXmlData(e,l.row,!0))||(e=[]);var R=e.length,M=0,G=[],O=parseInt(i.p.rowNum,10),H=i.p.scroll?b.jgrid.randId():1;if(R>0&&i.p.page<=0&&(i.p.page=1),e&&R){n&&(O*=n+1);var z,n=b.isFunction(i.p.afterInsertRow),L=!1;for(i.p.grouping&&(L=i.p.groupingView.groupCollapse===!0,z=b.jgrid.getMethod("groupingPrepare"));R>M;){C=e[M],D=d(C,H+M),D=i.p.idPrefix+D,c=0===s?0:s+1,S=(c+M)%2===1?A:"";var W=N.length;if(N.push(""),k&&N.push(g(0,M,i.p.page,i.p.rowNum)),T&&N.push(f(D,k,M,!1)),F&&N.push(w.call(q,T+k,M+s)),l.repeatitems){j||(j=v(T+F+k));var B=b.jgrid.getXmlData(C,l.cell,!0);b.each(j,function(e){var t=B[this];return t?(u=t.textContent||t.text,E[i.p.colModel[e+T+F+k].name]=u,void N.push(p(D,u,e+T+F+k,M+s,C,E))):!1})}else for(c=0;c<P.length;c++)u=b.jgrid.getXmlData(C,P[c]),E[i.p.colModel[c+T+F+k].name]=u,N.push(p(D,u,c+T+F+k,M+s,C,E));if(N[W]=_(D,L,S,E,C,!1),N.push("</tr>"),i.p.grouping&&(G=z.call(q,N,G,E,M),N=[]),(o||i.p.treeGrid===!0)&&(E._id_=b.jgrid.stripPref(i.p.idPrefix,D),i.p.data.push(E),i.p._index[E._id_]=i.p.data.length-1),i.p.gridview===!1&&(b("tbody:first",t).append(N.join("")),q.triggerHandler("jqGridAfterInsertRow",[D,E,C]),n&&i.p.afterInsertRow.call(i,D,E,C),N=[]),E={},I++,M++,I===O)break}}if(i.p.gridview===!0&&(h=i.p.treeANode>-1?i.p.treeANode:0,i.p.grouping?(q.jqGrid("groupingRender",G,i.p.colModel.length),G=null):i.p.treeGrid===!0&&h>0?b(i.rows[h]).after(N.join("")):b("tbody:first",t).append(N.join(""))),i.p.subGrid===!0)try{q.jqGrid("addSubGrid",T+k)}catch(V){}if(i.p.totaltime=new Date-a,I>0&&0===i.p.records&&(i.p.records=R),N=null,i.p.treeGrid===!0)try{q.jqGrid("setTreeNode",h+1,I+h+1)}catch(U){}if(i.p.treeGrid||i.p.scroll||(i.grid.bDiv.scrollTop=0),i.p.reccount=I,i.p.treeANode=-1,i.p.userDataOnFooter&&q.jqGrid("footerData","set",i.p.userData,!0),o&&(i.p.records=R,i.p.lastpage=Math.ceil(R/O)),r||i.updatepager(!1,!0),o)for(;R>I;){if(C=e[I],D=d(C,I+H),D=i.p.idPrefix+D,l.repeatitems){j||(j=v(T+F+k));var $=b.jgrid.getXmlData(C,l.cell,!0);b.each(j,function(e){var t=$[this];return t?(u=t.textContent||t.text,void(E[i.p.colModel[e+T+F+k].name]=u)):!1})}else for(c=0;c<P.length;c++)u=b.jgrid.getXmlData(C,P[c]),E[i.p.colModel[c+T+F+k].name]=u;E._id_=b.jgrid.stripPref(i.p.idPrefix,D),i.p.data.push(E),i.p._index[E._id_]=i.p.data.length-1,E={},I++}}},j=function(e,t,s,r,n){var a=new Date;if(e){-1!==i.p.treeANode||i.p.scroll?s=s>1?s:1:(y.call(i,!1,!0),s=1);var o,l="local"!==i.p.datatype&&i.p.loadonce||"jsonstring"===i.p.datatype;l&&(i.p.data=[],i.p._index={},i.p.localReader.id="_id_"),i.p.reccount=0,"local"===i.p.datatype?(t=i.p.localReader,o="local"):(t=i.p.jsonReader,o="json");var d,c,h,u,w=b(i),x=0,j=[],C=i.p.multiselect?1:0,D=i.p.subGrid===!0?1:0,S=i.p.rownumbers===!0?1:0,q=v(C+D+S);o=m(o);var I,T,F,k,P,E,N={},A=[],R=i.p.altRows===!0?i.p.altclass:"";i.p.page=b.jgrid.getAccessor(e,t.page)||i.p.page||0,T=b.jgrid.getAccessor(e,t.total),D&&(u=b.jgrid.getMethod("addSubGridCell")),i.p.lastpage=void 0===T?1:T,i.p.records=b.jgrid.getAccessor(e,t.records)||0,i.p.userData=b.jgrid.getAccessor(e,t.userdata)||{},F=i.p.keyIndex===!1?b.isFunction(t.id)?t.id.call(i,e):t.id:i.p.keyIndex,t.repeatitems||(j=o,j.length>0&&!isNaN(F)&&(i.p.remapColumns&&i.p.remapColumns.length&&(F=b.inArray(F,i.p.remapColumns)),F=j[F])),T=b.jgrid.getAccessor(e,t.root),null==T&&b.isArray(e)&&(T=e),T||(T=[]),e=T.length,c=0,e>0&&i.p.page<=0&&(i.p.page=1);var M,G=parseInt(i.p.rowNum,10),O=i.p.scroll?b.jgrid.randId():1,H=!1;n&&(G*=n+1),"local"===i.p.datatype&&!i.p.deselectAfterSort&&(H=!0);var z,L=b.isFunction(i.p.afterInsertRow),W=[],B=!1;for(i.p.grouping&&(B=i.p.groupingView.groupCollapse===!0,z=b.jgrid.getMethod("groupingPrepare"));e>c;){n=T[c],P=b.jgrid.getAccessor(n,F),void 0===P&&("number"==typeof F&&null!=i.p.colModel[F+C+D+S]&&(P=b.jgrid.getAccessor(n,i.p.colModel[F+C+D+S].name)),void 0===P&&(P=O+c,0===j.length&&t.cell&&(d=b.jgrid.getAccessor(n,t.cell)||n,P=null!=d&&void 0!==d[F]?d[F]:P))),P=i.p.idPrefix+P,d=1===s?0:s,E=(d+c)%2===1?R:"",H&&(M=i.p.multiselect?-1!==b.inArray(P,i.p.selarrrow):P===i.p.selrow);var V=A.length;for(A.push(""),S&&A.push(g(0,c,i.p.page,i.p.rowNum)),C&&A.push(f(P,S,c,M)),D&&A.push(u.call(w,C+S,c+s)),I=o,t.repeatitems&&(t.cell&&(n=b.jgrid.getAccessor(n,t.cell)||n),b.isArray(n)&&(I=q)),h=0;h<I.length;h++)d=b.jgrid.getAccessor(n,I[h]),N[i.p.colModel[h+C+D+S].name]=d,A.push(p(P,d,h+C+D+S,c+s,n,N));if(A[V]=_(P,B,E,N,n,M),A.push("</tr>"),i.p.grouping&&(W=z.call(w,A,W,N,c),A=[]),(l||i.p.treeGrid===!0)&&(N._id_=b.jgrid.stripPref(i.p.idPrefix,P),i.p.data.push(N),i.p._index[N._id_]=i.p.data.length-1),i.p.gridview===!1&&(b("#"+b.jgrid.jqID(i.p.id)+" tbody:first").append(A.join("")),w.triggerHandler("jqGridAfterInsertRow",[P,N,n]),L&&i.p.afterInsertRow.call(i,P,N,n),A=[]),N={},x++,c++,x===G)break}if(i.p.gridview===!0&&(k=i.p.treeANode>-1?i.p.treeANode:0,i.p.grouping?w.jqGrid("groupingRender",W,i.p.colModel.length):i.p.treeGrid===!0&&k>0?b(i.rows[k]).after(A.join("")):b("#"+b.jgrid.jqID(i.p.id)+" tbody:first").append(A.join(""))),i.p.subGrid===!0)try{w.jqGrid("addSubGrid",C+S)}catch(U){}if(i.p.totaltime=new Date-a,x>0&&0===i.p.records&&(i.p.records=e),i.p.treeGrid===!0)try{w.jqGrid("setTreeNode",k+1,x+k+1)}catch($){}if(i.p.treeGrid||i.p.scroll||(i.grid.bDiv.scrollTop=0),i.p.reccount=x,i.p.treeANode=-1,i.p.userDataOnFooter&&w.jqGrid("footerData","set",i.p.userData,!0),l&&(i.p.records=e,i.p.lastpage=Math.ceil(e/G)),r||i.updatepager(!1,!0),l)for(;e>x&&T[x];){if(n=T[x],P=b.jgrid.getAccessor(n,F),void 0===P&&("number"==typeof F&&null!=i.p.colModel[F+C+D+S]&&(P=b.jgrid.getAccessor(n,i.p.colModel[F+C+D+S].name)),void 0===P&&(P=O+x,0===j.length&&t.cell&&(s=b.jgrid.getAccessor(n,t.cell)||n,P=null!=s&&void 0!==s[F]?s[F]:P))),n){for(P=i.p.idPrefix+P,I=o,t.repeatitems&&(t.cell&&(n=b.jgrid.getAccessor(n,t.cell)||n),b.isArray(n)&&(I=q)),h=0;h<I.length;h++)N[i.p.colModel[h+C+D+S].name]=b.jgrid.getAccessor(n,I[h]);N._id_=b.jgrid.stripPref(i.p.idPrefix,P),i.p.data.push(N),i.p._index[N._id_]=i.p.data.length-1,N={}}x++}}},C=function(){function e(t){var i,s,r,n,a,o=0;if(null!=t.groups){for((s=t.groups.length&&"OR"===t.groupOp.toString().toUpperCase())&&g.orBegin(),i=0;i<t.groups.length;i++){o>0&&s&&g.or();try{e(t.groups[i])}catch(d){alert(d)}o++}s&&g.orEnd()}if(null!=t.rules)try{for((r=t.rules.length&&"OR"===t.groupOp.toString().toUpperCase())&&g.orBegin(),i=0;i<t.rules.length;i++)a=t.rules[i],n=t.groupOp.toString().toUpperCase(),f[a.op]&&a.field&&(o>0&&n&&"OR"===n&&(g=g.or()),g=f[a.op](g,n)(a.field,a.data,l[a.field])),o++;r&&g.orEnd()}catch(c){alert(c)}}var t,s,r,n=i.p.multiSort?[]:"",a=[],o=!1,l={},d=[],c=[];if(b.isArray(i.p.data)){var h,u,p=i.p.grouping?i.p.groupingView:!1;if(b.each(i.p.colModel,function(){if(s=this.sorttype||"text","date"===s||"datetime"===s?(this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?(t=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:b.jgrid.formatter.date.srcformat,r=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:b.jgrid.formatter.date.newformat):t=r=this.datefmt||"Y-m-d",l[this.name]={stype:s,srcfmt:t,newfmt:r}):l[this.name]={stype:s,srcfmt:"",newfmt:""},i.p.grouping)for(u=0,h=p.groupField.length;h>u;u++)if(this.name===p.groupField[u]){var e=this.name;this.index&&(e=this.index),d[u]=l[e],c[u]=e}i.p.multiSort?this.lso&&(n.push(this.name),e=this.lso.split("-"),a.push(e[e.length-1])):o||this.index!==i.p.sortname&&this.name!==i.p.sortname||(n=this.name,o=!0)}),!i.p.treeGrid){var f={eq:function(e){return e.equals},ne:function(e){return e.notEquals},lt:function(e){return e.less},le:function(e){return e.lessOrEquals},gt:function(e){return e.greater},ge:function(e){return e.greaterOrEquals},cn:function(e){return e.contains},nc:function(e,t){return"OR"===t?e.orNot().contains:e.andNot().contains},bw:function(e){return e.startsWith},bn:function(e,t){return"OR"===t?e.orNot().startsWith:e.andNot().startsWith},en:function(e,t){return"OR"===t?e.orNot().endsWith:e.andNot().endsWith},ew:function(e){return e.endsWith},ni:function(e,t){return"OR"===t?e.orNot().equals:e.andNot().equals},"in":function(e){return e.equals},nu:function(e){return e.isNull},nn:function(e,t){return"OR"===t?e.orNot().isNull:e.andNot().isNull}},g=b.jgrid.from(i.p.data);if(i.p.ignoreCase&&(g=g.ignoreCase()),i.p.search===!0){var m=i.p.postData.filters;if(m)"string"==typeof m&&(m=b.jgrid.parse(m)),e(m);else try{g=f[i.p.postData.searchOper](g)(i.p.postData.searchField,i.p.postData.searchString,l[i.p.postData.searchField])}catch(v){}}if(i.p.grouping)for(u=0;h>u;u++)g.orderBy(c[u],p.groupOrder[u],d[u].stype,d[u].srcfmt);i.p.multiSort?b.each(n,function(e){g.orderBy(this,a[e],l[this].stype,l[this].srcfmt)}):n&&i.p.sortorder&&o&&("DESC"===i.p.sortorder.toUpperCase()?g.orderBy(i.p.sortname,"d",l[n].stype,l[n].srcfmt):g.orderBy(i.p.sortname,"a",l[n].stype,l[n].srcfmt));var m=g.select(),y=parseInt(i.p.rowNum,10),w=m.length,_=parseInt(i.p.page,10),x=Math.ceil(w/y),j={},m=m.slice((_-1)*y,_*y),l=g=null;return j[i.p.localReader.total]=x,j[i.p.localReader.page]=_,j[i.p.localReader.records]=w,j[i.p.localReader.root]=m,j[i.p.localReader.userdata]=i.p.userData,m=null,j}b(i).jqGrid("SortTree",n,i.p.sortorder,l[n].stype,l[n].srcfmt)}},D=function(){if(i.grid.hDiv.loading=!0,!i.p.hiddengrid)switch(i.p.loadui){case"enable":b("#load_"+b.jgrid.jqID(i.p.id)).show();break;case"block":b("#lui_"+b.jgrid.jqID(i.p.id)).show(),b("#load_"+b.jgrid.jqID(i.p.id)).show()}},S=function(){switch(i.grid.hDiv.loading=!1,i.p.loadui){case"enable":b("#load_"+b.jgrid.jqID(i.p.id)).hide();break;case"block":b("#lui_"+b.jgrid.jqID(i.p.id)).hide(),b("#load_"+b.jgrid.jqID(i.p.id)).hide()}},q=function(e){if(!i.grid.hDiv.loading){var t,s=i.p.scroll&&e===!1,r={},n=i.p.prmNames;i.p.page<=0&&(i.p.page=1),null!==n.search&&(r[n.search]=i.p.search),null!==n.nd&&(r[n.nd]=(new Date).getTime()),null!==n.rows&&(r[n.rows]=i.p.rowNum),null!==n.page&&(r[n.page]=i.p.page),null!==n.sort&&(r[n.sort]=i.p.sortname),null!==n.order&&(r[n.order]=i.p.sortorder),null!==i.p.rowTotal&&null!==n.totalrows&&(r[n.totalrows]=i.p.rowTotal);var a=b.isFunction(i.p.loadComplete),o=a?i.p.loadComplete:null,l=0,e=e||1;if(e>1?null!==n.npage?(r[n.npage]=e,l=e-1,e=1):o=function(t){i.p.page++,i.grid.hDiv.loading=!1,a&&i.p.loadComplete.call(i,t),q(e-1)}:null!==n.npage&&delete i.p.postData[n.npage],i.p.grouping){b(i).jqGrid("groupingSetup");var d,c=i.p.groupingView,h="";for(d=0;d<c.groupField.length;d++){var u=c.groupField[d];b.each(i.p.colModel,function(e,t){t.name===u&&t.index&&(u=t.index)}),h+=u+" "+c.groupOrder[d]+", "}r[n.sort]=h+r[n.sort]}b.extend(i.p.postData,r);var p=i.p.scroll?i.rows.length-1:1,r=b(i).triggerHandler("jqGridBeforeRequest");if(r!==!1&&"stop"!==r)if(b.isFunction(i.p.datatype))i.p.datatype.call(i,i.p.postData,"load_"+i.p.id);else{if(b.isFunction(i.p.beforeRequest)&&(r=i.p.beforeRequest.call(i),void 0===r&&(r=!0),r===!1))return;switch(t=i.p.datatype.toLowerCase()){case"json":case"jsonp":case"xml":case"script":b.ajax(b.extend({url:i.p.url,type:i.p.mtype,dataType:t,data:b.isFunction(i.p.serializeGridData)?i.p.serializeGridData.call(i,i.p.postData):i.p.postData,success:function(r,n,a){b.isFunction(i.p.beforeProcessing)&&i.p.beforeProcessing.call(i,r,n,a)===!1?S():("xml"===t?x(r,i.grid.bDiv,p,e>1,l):j(r,i.grid.bDiv,p,e>1,l),b(i).triggerHandler("jqGridLoadComplete",[r]),o&&o.call(i,r),b(i).triggerHandler("jqGridAfterLoadComplete",[r]),s&&i.grid.populateVisible(),(i.p.loadonce||i.p.treeGrid)&&(i.p.datatype="local"),1===e&&S())},error:function(t,s,r){b.isFunction(i.p.loadError)&&i.p.loadError.call(i,t,s,r),1===e&&S()},beforeSend:function(e,t){var s=!0;return b.isFunction(i.p.loadBeforeSend)&&(s=i.p.loadBeforeSend.call(i,e,t)),void 0===s&&(s=!0),s===!1?!1:void D()}},b.jgrid.ajaxOptions,i.p.ajaxGridOptions));break;case"xmlstring":D(),r="string"!=typeof i.p.datastr?i.p.datastr:b.parseXML(i.p.datastr),x(r,i.grid.bDiv),b(i).triggerHandler("jqGridLoadComplete",[r]),a&&i.p.loadComplete.call(i,r),b(i).triggerHandler("jqGridAfterLoadComplete",[r]),i.p.datatype="local",i.p.datastr=null,S();break;case"jsonstring":D(),r="string"==typeof i.p.datastr?b.jgrid.parse(i.p.datastr):i.p.datastr,j(r,i.grid.bDiv),b(i).triggerHandler("jqGridLoadComplete",[r]),a&&i.p.loadComplete.call(i,r),b(i).triggerHandler("jqGridAfterLoadComplete",[r]),i.p.datatype="local",i.p.datastr=null,S();break;case"local":case"clientside":D(),i.p.datatype="local",r=C(),j(r,i.grid.bDiv,p,e>1,l),b(i).triggerHandler("jqGridLoadComplete",[r]),o&&o.call(i,r),b(i).triggerHandler("jqGridAfterLoadComplete",[r]),s&&i.grid.populateVisible(),S()}}}},I=function(e){b("#cb_"+b.jgrid.jqID(i.p.id),i.grid.hDiv)[i.p.useProp?"prop":"attr"]("checked",e),i.p.frozenColumns&&b("#cb_"+b.jgrid.jqID(i.p.id),i.grid.fhDiv)[i.p.useProp?"prop":"attr"]("checked",e)},T=function(e,t){var s,r,a,o,l="",c="<table cellspacing='0' cellpadding='0' border='0' style='table-layout:auto;' class='ui-pg-table'><tbody><tr>",h="",u=function(e){var t;return b.isFunction(i.p.onPaging)&&(t=i.p.onPaging.call(i,e)),i.p.selrow=null,i.p.multiselect&&(i.p.selarrrow=[],I(!1)),i.p.savedRow=[],"stop"===t?!1:!0},e=e.substr(1),t=t+("_"+e);if(s="pg_"+e,r=e+"_left",a=e+"_center",o=e+"_right",b("#"+b.jgrid.jqID(e)).append("<div id='"+s+"' class='ui-pager-control' role='group'><table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;' role='row'><tbody><tr><td id='"+r+"' align='left'></td><td id='"+a+"' align='center' style='white-space:pre;'></td><td id='"+o+"' align='right'></td></tr></tbody></table></div>").attr("dir","ltr"),i.p.rowList.length>0){for(h="<td dir='"+n+"'>",h+="<select class='ui-pg-selbox' role='listbox'>",r=0;r<i.p.rowList.length;r++)h+='<option role="option" value="'+i.p.rowList[r]+'"'+(i.p.rowNum===i.p.rowList[r]?' selected="selected"':"")+">"+i.p.rowList[r]+"</option>";h+="</select></td>"}"rtl"===n&&(c+=h),i.p.pginput===!0&&(l="<td dir='"+n+"'>"+b.jgrid.format(i.p.pgtext||"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+b.jgrid.jqID(e)+"'></span>")+"</td>"),i.p.pgbuttons===!0?(r=["first"+t,"prev"+t,"next"+t,"last"+t],"rtl"===n&&r.reverse(),c+="<td id='"+r[0]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-first'></span></td>",c+="<td id='"+r[1]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-prev'></span></td>",c=c+(""!==l?"<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>"+l+"<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>":"")+("<td id='"+r[2]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-next'></span></td>"),c+="<td id='"+r[3]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-end'></span></td>"):""!==l&&(c+=l),"ltr"===n&&(c+=h),c+="</tr></tbody></table>",i.p.viewrecords===!0&&b("td#"+e+"_"+i.p.recordpos,"#"+s).append("<div dir='"+n+"' style='text-align:"+i.p.recordpos+"' class='ui-paging-info'></div>"),b("td#"+e+"_"+i.p.pagerpos,"#"+s).append(c),h=b(".ui-jqgrid").css("font-size")||"11px",b(document.body).append("<div id='testpg' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+h+";visibility:hidden;' ></div>"),c=b(c).clone().appendTo("#testpg").width(),b("#testpg").remove(),c>0&&(""!==l&&(c+=50),b("td#"+e+"_"+i.p.pagerpos,"#"+s).width(c)),i.p._nvtd=[],i.p._nvtd[0]=c?Math.floor((i.p.width-c)/2):Math.floor(i.p.width/3),i.p._nvtd[1]=0,c=null,b(".ui-pg-selbox","#"+s).bind("change",function(){return u("records")?(i.p.page=Math.round(i.p.rowNum*(i.p.page-1)/this.value-.5)+1,i.p.rowNum=this.value,i.p.pager&&b(".ui-pg-selbox",i.p.pager).val(this.value),i.p.toppager&&b(".ui-pg-selbox",i.p.toppager).val(this.value),q(),!1):!1}),i.p.pgbuttons===!0&&(b(".ui-pg-button","#"+s).hover(function(){b(this).hasClass("ui-state-disabled")?this.style.cursor="default":(b(this).addClass("ui-state-hover"),this.style.cursor="pointer")},function(){b(this).hasClass("ui-state-disabled")||(b(this).removeClass("ui-state-hover"),this.style.cursor="default")}),b("#first"+b.jgrid.jqID(t)+", #prev"+b.jgrid.jqID(t)+", #next"+b.jgrid.jqID(t)+", #last"+b.jgrid.jqID(t)).click(function(){var e=d(i.p.page,1),s=d(i.p.lastpage,1),r=!1,n=!0,a=!0,o=!0,l=!0;return 0===s||1===s?l=o=a=n=!1:s>1&&e>=1?1===e?a=n=!1:e===s&&(l=o=!1):s>1&&0===e&&(l=o=!1,e=s-1),u(this.id)?(this.id==="first"+t&&n&&(i.p.page=1,r=!0),this.id==="prev"+t&&a&&(i.p.page=e-1,r=!0),this.id==="next"+t&&o&&(i.p.page=e+1,r=!0),this.id==="last"+t&&l&&(i.p.page=s,r=!0),r&&q(),!1):!1})),i.p.pginput===!0&&b("input.ui-pg-input","#"+s).keypress(function(e){return 13===(e.charCode||e.keyCode||0)?u("user")?(b(this).val(d(b(this).val(),1)),i.p.page=b(this).val()>0?b(this).val():i.p.page,q(),!1):!1:this})},F=function(e,t){var s,r,n="",a=i.p.colModel,o=!1;r=i.p.frozenColumns?t:i.grid.headers[e].el;var l="";b("span.ui-grid-ico-sort",r).addClass("ui-state-disabled"),b(r).attr("aria-selected","false"),a[e].lso?"asc"===a[e].lso?(a[e].lso=a[e].lso+"-desc",l="desc"):"desc"===a[e].lso?(a[e].lso=a[e].lso+"-asc",l="asc"):("asc-desc"===a[e].lso||"desc-asc"===a[e].lso)&&(a[e].lso=""):a[e].lso=l=a.firstsortorder||"asc",l?(b("span.s-ico",r).show(),b("span.ui-icon-"+l,r).removeClass("ui-state-disabled"),b(r).attr("aria-selected","true")):i.p.viewsortcols[0]||b("span.s-ico",r).hide(),i.p.sortorder="",b.each(a,function(e){this.lso&&(e>0&&o&&(n+=", "),s=this.lso.split("-"),n+=a[e].index||a[e].name,n+=" "+s[s.length-1],o=!0,i.p.sortorder=s[s.length-1])}),r=n.lastIndexOf(i.p.sortorder),n=n.substring(0,r),i.p.sortname=n},k=function(e,t,s,r,n){if(i.p.colModel[t].sortable){var a;if(!(i.p.savedRow.length>0)){if(s||(i.p.lastsort===t?"asc"===i.p.sortorder?i.p.sortorder="desc":"desc"===i.p.sortorder&&(i.p.sortorder="asc"):i.p.sortorder=i.p.colModel[t].firstsortorder||"asc",i.p.page=1),i.p.multiSort)F(t,n);else{if(r){if(i.p.lastsort===t&&i.p.sortorder===r&&!s)return;i.p.sortorder=r}s=i.grid.headers[i.p.lastsort].el,n=i.p.frozenColumns?n:i.grid.headers[t].el,b("span.ui-grid-ico-sort",s).addClass("ui-state-disabled"),b(s).attr("aria-selected","false"),i.p.frozenColumns&&(i.grid.fhDiv.find("span.ui-grid-ico-sort").addClass("ui-state-disabled"),i.grid.fhDiv.find("th").attr("aria-selected","false")),b("span.ui-icon-"+i.p.sortorder,n).removeClass("ui-state-disabled"),b(n).attr("aria-selected","true"),i.p.viewsortcols[0]||i.p.lastsort===t||(i.p.frozenColumns&&i.grid.fhDiv.find("span.s-ico").hide(),b("span.s-ico",s).hide(),b("span.s-ico",n).show()),e=e.substring(5+i.p.id.length+1),i.p.sortname=i.p.colModel[t].index||e,a=i.p.sortorder}"stop"===b(i).triggerHandler("jqGridSortCol",[e,t,a])?i.p.lastsort=t:b.isFunction(i.p.onSortCol)&&"stop"===i.p.onSortCol.call(i,e,t,a)?i.p.lastsort=t:("local"===i.p.datatype?i.p.deselectAfterSort&&b(i).jqGrid("resetSelection"):(i.p.selrow=null,i.p.multiselect&&I(!1),i.p.selarrrow=[],i.p.savedRow=[]),i.p.scroll&&(n=i.grid.bDiv.scrollLeft,y.call(i,!0,!1),i.grid.hDiv.scrollLeft=n),i.p.subGrid&&"local"===i.p.datatype&&b("td.sgexpanded","#"+b.jgrid.jqID(i.p.id)).each(function(){b(this).trigger("click")}),q(),i.p.lastsort=t,i.p.sortname!==e&&t&&(i.p.lastsort=t))}}},P=function(e){return e=b(i.grid.headers[e].el),e=[e.position().left+e.outerWidth()],"rtl"===i.p.direction&&(e[0]=i.p.width-e[0]),e[0]=e[0]-i.grid.bDiv.scrollLeft,e.push(b(i.grid.hDiv).position().top),e.push(b(i.grid.bDiv).offset().top-b(i.grid.hDiv).offset().top+b(i.grid.bDiv).height()),e},E=function(e){var t,s=i.grid.headers,r=b.jgrid.getCellIndex(e);for(t=0;t<s.length;t++)if(e===s[t].el){r=t;break}return r};for(this.p.id=this.id,-1===b.inArray(i.p.multikey,["shiftKey","altKey","ctrlKey"])&&(i.p.multikey=!1),i.p.keyIndex=!1,r=0;r<i.p.colModel.length;r++)i.p.colModel[r]=b.extend(!0,{},i.p.cmTemplate,i.p.colModel[r].template||{},i.p.colModel[r]),!1===i.p.keyIndex&&!0===i.p.colModel[r].key&&(i.p.keyIndex=r);if(i.p.sortorder=i.p.sortorder.toLowerCase(),b.jgrid.cell_width=b.jgrid.cellWidth(),!0===i.p.grouping&&(i.p.scroll=!1,i.p.rownumbers=!1,i.p.treeGrid=!1,i.p.gridview=!0),!0===this.p.treeGrid){try{b(this).jqGrid("setTreeGrid")}catch(N){}"local"!==i.p.datatype&&(i.p.localReader={id:"_id_"})}if(this.p.subGrid)try{b(i).jqGrid("setSubGrid")}catch(A){}this.p.multiselect&&(this.p.colNames.unshift("<input role='checkbox' id='cb_"+this.p.id+"' class='cbox' type='checkbox'/>"),this.p.colModel.unshift({name:"cb",width:b.jgrid.cell_width?i.p.multiselectWidth+i.p.cellLayout:i.p.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0})),this.p.rownumbers&&(this.p.colNames.unshift(""),this.p.colModel.unshift({name:"rn",width:i.p.rownumWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0})),i.p.xmlReader=b.extend(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},i.p.xmlReader),i.p.jsonReader=b.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},i.p.jsonReader),i.p.localReader=b.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},i.p.localReader),i.p.scroll&&(i.p.pgbuttons=!1,i.p.pginput=!1,i.p.rowList=[]),i.p.data.length&&w();var R,M,G,O,H,z,L,W,B="<thead><tr class='ui-jqgrid-labels' role='rowheader'>",V=W="",U=[],$=[];if(M=[],!0===i.p.shrinkToFit&&!0===i.p.forceFit)for(r=i.p.colModel.length-1;r>=0;r--)if(!i.p.colModel[r].hidden){i.p.colModel[r].resizable=!1;break}if("horizontal"===i.p.viewsortcols[1]&&(W=" ui-i-asc",V=" ui-i-desc"),R=o?"class='ui-th-div-ie'":"",W="<span class='s-ico' style='display:none'><span sort='asc' class='ui-grid-ico-sort ui-icon-asc"+W+" ui-state-disabled ui-icon ui-icon-triangle-1-n ui-sort-"+n+"'></span>"+("<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+V+" ui-state-disabled ui-icon ui-icon-triangle-1-s ui-sort-"+n+"'></span></span>"),i.p.multiSort)for(U=i.p.sortname.split(","),r=0;r<U.length;r++)M=b.trim(U[r]).split(" "),U[r]=b.trim(M[0]),$[r]=M[1]?b.trim(M[1]):i.p.sortorder||"asc";for(r=0;r<this.p.colNames.length;r++)M=i.p.headertitles?' title="'+b.jgrid.stripHtml(i.p.colNames[r])+'"':"",B+="<th id='"+i.p.id+"_"+i.p.colModel[r].name+"' role='columnheader' class='ui-state-default ui-th-column ui-th-"+n+"'"+M+">",M=i.p.colModel[r].index||i.p.colModel[r].name,B+="<div id='jqgh_"+i.p.id+"_"+i.p.colModel[r].name+"' "+R+">"+i.p.colNames[r],i.p.colModel[r].width=i.p.colModel[r].width?parseInt(i.p.colModel[r].width,10):150,"boolean"!=typeof i.p.colModel[r].title&&(i.p.colModel[r].title=!0),i.p.colModel[r].lso="",M===i.p.sortname&&(i.p.lastsort=r),i.p.multiSort&&(M=b.inArray(M,U),-1!==M&&(i.p.colModel[r].lso=$[M])),B+=W+"</div></th>";if(W=null,b(this).append(B+"</tr></thead>"),b("thead tr:first th",this).hover(function(){b(this).addClass("ui-state-hover")},function(){b(this).removeClass("ui-state-hover")}),this.p.multiselect){var X,Y=[];b("#cb_"+b.jgrid.jqID(i.p.id),this).bind("click",function(){i.p.selarrrow=[];var e=i.p.frozenColumns===!0?i.p.id+"_frozen":"";this.checked?(b(i.rows).each(function(t){t>0&&!b(this).hasClass("ui-subgrid")&&!b(this).hasClass("jqgroup")&&!b(this).hasClass("ui-state-disabled")&&(b("#jqg_"+b.jgrid.jqID(i.p.id)+"_"+b.jgrid.jqID(this.id))[i.p.useProp?"prop":"attr"]("checked",!0),b(this).addClass("ui-state-highlight").attr("aria-selected","true"),i.p.selarrrow.push(this.id),i.p.selrow=this.id,e&&(b("#jqg_"+b.jgrid.jqID(i.p.id)+"_"+b.jgrid.jqID(this.id),i.grid.fbDiv)[i.p.useProp?"prop":"attr"]("checked",!0),b("#"+b.jgrid.jqID(this.id),i.grid.fbDiv).addClass("ui-state-highlight")))}),X=!0,Y=[]):(b(i.rows).each(function(t){t>0&&!b(this).hasClass("ui-subgrid")&&!b(this).hasClass("ui-state-disabled")&&(b("#jqg_"+b.jgrid.jqID(i.p.id)+"_"+b.jgrid.jqID(this.id))[i.p.useProp?"prop":"attr"]("checked",!1),b(this).removeClass("ui-state-highlight").attr("aria-selected","false"),Y.push(this.id),e&&(b("#jqg_"+b.jgrid.jqID(i.p.id)+"_"+b.jgrid.jqID(this.id),i.grid.fbDiv)[i.p.useProp?"prop":"attr"]("checked",!1),b("#"+b.jgrid.jqID(this.id),i.grid.fbDiv).removeClass("ui-state-highlight")))}),i.p.selrow=null,X=!1),b(i).triggerHandler("jqGridSelectAll",[X?i.p.selarrrow:Y,X]),b.isFunction(i.p.onSelectAll)&&i.p.onSelectAll.call(i,X?i.p.selarrrow:Y,X)})}!0===i.p.autowidth&&(B=b(l).innerWidth(),i.p.width=B>0?B:"nw"),function(){var e,t,r,n,a=0,o=b.jgrid.cell_width?0:d(i.p.cellLayout,0),l=0,c=d(i.p.scrollOffset,0),h=!1,u=0;b.each(i.p.colModel,function(){if(void 0===this.hidden&&(this.hidden=!1),i.p.grouping&&i.p.autowidth){var e=b.inArray(this.name,i.p.groupingView.groupField);e>=0&&i.p.groupingView.groupColumnShow.length>e&&(this.hidden=!i.p.groupingView.groupColumnShow[e])}this.widthOrg=t=d(this.width,0),this.hidden===!1&&(a+=t+o,this.fixed?u+=t+o:l++)}),isNaN(i.p.width)&&(i.p.width=a+(i.p.shrinkToFit!==!1||isNaN(i.p.height)?0:c)),s.width=i.p.width,i.p.tblwidth=a,i.p.shrinkToFit===!1&&i.p.forceFit===!0&&(i.p.forceFit=!1),i.p.shrinkToFit===!0&&l>0&&(r=s.width-o*l-u,isNaN(i.p.height)||(r-=c,h=!0),a=0,b.each(i.p.colModel,function(s){this.hidden!==!1||this.fixed||(this.width=t=Math.round(r*this.width/(i.p.tblwidth-o*l-u)),a+=t,e=s)}),n=0,h?s.width-u-(a+o*l)!==c&&(n=s.width-u-(a+o*l)-c):!h&&1!==Math.abs(s.width-u-(a+o*l))&&(n=s.width-u-(a+o*l)),i.p.colModel[e].width=i.p.colModel[e].width+n,i.p.tblwidth=a+n+o*l+u,i.p.tblwidth>i.p.width&&(i.p.colModel[e].width=i.p.colModel[e].width-(i.p.tblwidth-parseInt(i.p.width,10)),i.p.tblwidth=i.p.width))}(),b(l).css("width",s.width+"px").append("<div class='ui-jqgrid-resize-mark' id='rs_m"+i.p.id+"'>&#160;</div>"),b(a).css("width",s.width+"px");var B=b("thead:first",i).get(0),Q="";i.p.footerrow&&(Q+="<table role='grid' style='width:"+i.p.tblwidth+"px' class='ui-jqgrid-ftable' cellspacing='0' cellpadding='0' border='0'><tbody><tr role='row' class='ui-widget-content footrow footrow-"+n+"'>");var a=b("tr:first",B),J="<tr class='jqgfirstrow' role='row' style='height:auto'>";if(i.p.disableClick=!1,b("th",a).each(function(e){G=i.p.colModel[e].width,void 0===i.p.colModel[e].resizable&&(i.p.colModel[e].resizable=!0),i.p.colModel[e].resizable?(O=document.createElement("span"),b(O).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+n).css("cursor","col-resize"),b(this).addClass(i.p.resizeclass)):O="",b(this).css("width",G+"px").prepend(O);var t="";i.p.colModel[e].hidden&&(b(this).css("display","none"),t="display:none;"),J+="<td role='gridcell' style='height:0px;width:"+G+"px;"+t+"'></td>",s.headers[e]={width:G,el:this},H=i.p.colModel[e].sortable,"boolean"!=typeof H&&(H=i.p.colModel[e].sortable=!0),t=i.p.colModel[e].name,"cb"===t||"subgrid"===t||"rn"===t||i.p.viewsortcols[2]&&b(">div",this).addClass("ui-jqgrid-sortable"),H&&(i.p.multiSort?i.p.viewsortcols[0]?(b("div span.s-ico",this).show(),i.p.colModel[e].lso&&b("div span.ui-icon-"+i.p.colModel[e].lso,this).removeClass("ui-state-disabled")):i.p.colModel[e].lso&&(b("div span.s-ico",this).show(),b("div span.ui-icon-"+i.p.colModel[e].lso,this).removeClass("ui-state-disabled")):i.p.viewsortcols[0]?(b("div span.s-ico",this).show(),e===i.p.lastsort&&b("div span.ui-icon-"+i.p.sortorder,this).removeClass("ui-state-disabled")):e===i.p.lastsort&&(b("div span.s-ico",this).show(),b("div span.ui-icon-"+i.p.sortorder,this).removeClass("ui-state-disabled"))),i.p.footerrow&&(Q+="<td role='gridcell' "+c(e,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(e){if(1===b(e.target).closest("th>span.ui-jqgrid-resize").length){var t=E(this);if(i.p.forceFit===!0){var r,n=i.p,a=t;for(r=t+1;r<i.p.colModel.length;r++)if(i.p.colModel[r].hidden!==!0){a=r;break}n.nv=a-t}return s.dragStart(t,e,P(t)),!1}}).click(function(e){if(i.p.disableClick)return i.p.disableClick=!1;var t,s,r="th>div.ui-jqgrid-sortable";if(i.p.viewsortcols[2]||(r="th>div>span>span.ui-grid-ico-sort"),e=b(e.target).closest(r),1===e.length){var n;if(i.p.frozenColumns){var a=b(this)[0].id.substring(5);b(i.p.colModel).each(function(e){return this.name===a?(n=e,!1):void 0})}else n=E(this);return i.p.viewsortcols[2]||(t=!0,s=e.attr("sort")),null!=n&&k(b("div",this)[0].id,n,t,s,this),!1}}),i.p.sortable&&b.fn.sortable)try{b(i).jqGrid("sortableColumns",a)}catch(K){}i.p.footerrow&&(Q+="</tr></tbody></table>"),J+="</tr>",this.appendChild(document.createElement("tbody")),b(this).addClass("ui-jqgrid-btable").append(J);var J=null,a=b("<table class='ui-jqgrid-htable' style='width:"+i.p.tblwidth+"px' role='grid' aria-labelledby='gbox_"+this.id+"' cellspacing='0' cellpadding='0' border='0'></table>").append(B),Z=i.p.caption&&!0===i.p.hiddengrid?!0:!1;
r=b("<div class='ui-jqgrid-hbox"+("rtl"===n?"-rtl":"")+"'></div>"),B=null,s.hDiv=document.createElement("div"),b(s.hDiv).css({width:s.width+"px"}).addClass("ui-state-default ui-jqgrid-hdiv").append(r),b(r).append(a),a=null,Z&&b(s.hDiv).hide(),i.p.pager&&("string"==typeof i.p.pager?"#"!==i.p.pager.substr(0,1)&&(i.p.pager="#"+i.p.pager):i.p.pager="#"+b(i.p.pager).attr("id"),b(i.p.pager).css({width:s.width+"px"}).addClass("ui-state-default ui-jqgrid-pager ui-corner-bottom").appendTo(l),Z&&b(i.p.pager).hide(),T(i.p.pager,"")),!1===i.p.cellEdit&&!0===i.p.hoverrows&&b(i).bind("mouseover",function(e){L=b(e.target).closest("tr.jqgrow"),"ui-subgrid"!==b(L).attr("class")&&b(L).addClass("ui-state-hover")}).bind("mouseout",function(e){L=b(e.target).closest("tr.jqgrow"),b(L).removeClass("ui-state-hover")});var ee,te,ie;b(i).before(s.hDiv).click(function(e){if(z=e.target,L=b(z,i.rows).closest("tr.jqgrow"),0===b(L).length||L[0].className.indexOf("ui-state-disabled")>-1||(b(z,i).closest("table.ui-jqgrid-btable").attr("id")||"").replace("_frozen","")!==i.id)return this;var t=b(z).hasClass("cbox"),s=b(i).triggerHandler("jqGridBeforeSelectRow",[L[0].id,e]);if((s=s===!1||"stop"===s?!1:!0)&&b.isFunction(i.p.beforeSelectRow)&&(s=i.p.beforeSelectRow.call(i,L[0].id,e)),"A"!==z.tagName&&("INPUT"!==z.tagName&&"TEXTAREA"!==z.tagName&&"OPTION"!==z.tagName&&"SELECT"!==z.tagName||t)&&s===!0)if(ee=L[0].id,te=b.jgrid.getCellIndex(z),ie=b(z).closest("td,th").html(),b(i).triggerHandler("jqGridCellSelect",[ee,te,ie,e]),b.isFunction(i.p.onCellSelect)&&i.p.onCellSelect.call(i,ee,te,ie,e),i.p.cellEdit===!0)if(i.p.multiselect&&t)b(i).jqGrid("setSelection",ee,!0,e);else{ee=L[0].rowIndex;try{b(i).jqGrid("editCell",ee,te,!0)}catch(r){}}else if(i.p.multikey)e[i.p.multikey]?b(i).jqGrid("setSelection",ee,!0,e):i.p.multiselect&&t&&(t=b("#jqg_"+b.jgrid.jqID(i.p.id)+"_"+ee).is(":checked"),b("#jqg_"+b.jgrid.jqID(i.p.id)+"_"+ee)[i.p.useProp?"prop":"attr"]("checked",t));else{if(i.p.multiselect&&i.p.multiboxonly&&!t){var n=i.p.frozenColumns?i.p.id+"_frozen":"";b(i.p.selarrrow).each(function(e,t){var s=i.rows.namedItem(t);b(s).removeClass("ui-state-highlight"),b("#jqg_"+b.jgrid.jqID(i.p.id)+"_"+b.jgrid.jqID(t))[i.p.useProp?"prop":"attr"]("checked",!1),n&&(b("#"+b.jgrid.jqID(t),"#"+b.jgrid.jqID(n)).removeClass("ui-state-highlight"),b("#jqg_"+b.jgrid.jqID(i.p.id)+"_"+b.jgrid.jqID(t),"#"+b.jgrid.jqID(n))[i.p.useProp?"prop":"attr"]("checked",!1))}),i.p.selarrrow=[]}b(i).jqGrid("setSelection",ee,!0,e)}}).bind("reloadGrid",function(e,t){if(i.p.treeGrid===!0&&(i.p.datatype=i.p.treedatatype),t&&t.current&&i.grid.selectionPreserver(i),"local"===i.p.datatype?(b(i).jqGrid("resetSelection"),i.p.data.length&&w()):i.p.treeGrid||(i.p.selrow=null,i.p.multiselect&&(i.p.selarrrow=[],I(!1)),i.p.savedRow=[]),i.p.scroll&&y.call(i,!0,!1),t&&t.page){var s=t.page;s>i.p.lastpage&&(s=i.p.lastpage),1>s&&(s=1),i.p.page=s,i.grid.bDiv.scrollTop=i.grid.prevRowHeight?(s-1)*i.grid.prevRowHeight*i.p.rowNum:0}return i.grid.prevRowHeight&&i.p.scroll?(delete i.p.lastpage,i.grid.populateVisible()):i.grid.populate(),i.p._inlinenav===!0&&b(i).jqGrid("showAddEditButtons"),!1}).dblclick(function(e){z=e.target,L=b(z,i.rows).closest("tr.jqgrow"),0!==b(L).length&&(ee=L[0].rowIndex,te=b.jgrid.getCellIndex(z),b(i).triggerHandler("jqGridDblClickRow",[b(L).attr("id"),ee,te,e]),b.isFunction(i.p.ondblClickRow)&&i.p.ondblClickRow.call(i,b(L).attr("id"),ee,te,e))}).bind("contextmenu",function(e){z=e.target,L=b(z,i.rows).closest("tr.jqgrow"),0!==b(L).length&&(i.p.multiselect||b(i).jqGrid("setSelection",L[0].id,!0,e),ee=L[0].rowIndex,te=b.jgrid.getCellIndex(z),b(i).triggerHandler("jqGridRightClickRow",[b(L).attr("id"),ee,te,e]),b.isFunction(i.p.onRightClickRow)&&i.p.onRightClickRow.call(i,b(L).attr("id"),ee,te,e))}),s.bDiv=document.createElement("div"),o&&"auto"===(""+i.p.height).toLowerCase()&&(i.p.height="100%"),b(s.bDiv).append(b('<div style="position:relative;'+(o&&8>b.jgrid.msiever()?"height:0.01%;":"")+'"></div>').append("<div></div>").append(this)).addClass("ui-jqgrid-bdiv").css({height:i.p.height+(isNaN(i.p.height)?"":"px"),width:s.width+"px"}).scroll(s.scrollGrid),b("table:first",s.bDiv).css({width:i.p.tblwidth+"px"}),b.support.tbody||2===b("tbody",this).length&&b("tbody:gt(0)",this).remove(),i.p.multikey&&(b.jgrid.msie?b(s.bDiv).bind("selectstart",function(){return!1}):b(s.bDiv).bind("mousedown",function(){return!1})),Z&&b(s.bDiv).hide(),s.cDiv=document.createElement("div");var se=!0===i.p.hidegrid?b("<a role='link' href='javascript:void(0)'/>").addClass("ui-jqgrid-titlebar-close HeaderButton").hover(function(){se.addClass("ui-state-hover")},function(){se.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-circle-triangle-n'></span>").css("rtl"===n?"left":"right","0px"):"";if(b(s.cDiv).append(se).append("<span class='ui-jqgrid-title"+("rtl"===n?"-rtl":"")+"'>"+i.p.caption+"</span>").addClass("ui-jqgrid-titlebar ui-widget-header ui-corner-top ui-helper-clearfix"),b(s.cDiv).insertBefore(s.hDiv),i.p.toolbar[0]&&(s.uDiv=document.createElement("div"),"top"===i.p.toolbar[1]?b(s.uDiv).insertBefore(s.hDiv):"bottom"===i.p.toolbar[1]&&b(s.uDiv).insertAfter(s.hDiv),"both"===i.p.toolbar[1]?(s.ubDiv=document.createElement("div"),b(s.uDiv).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id).insertBefore(s.hDiv),b(s.ubDiv).addClass("ui-userdata ui-state-default").attr("id","tb_"+this.id).insertAfter(s.hDiv),Z&&b(s.ubDiv).hide()):b(s.uDiv).width(s.width).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id),Z&&b(s.uDiv).hide()),i.p.toppager&&(i.p.toppager=b.jgrid.jqID(i.p.id)+"_toppager",s.topDiv=b("<div id='"+i.p.toppager+"'></div>")[0],i.p.toppager="#"+i.p.toppager,b(s.topDiv).addClass("ui-state-default ui-jqgrid-toppager").width(s.width).insertBefore(s.hDiv),T(i.p.toppager,"_t")),i.p.footerrow&&(s.sDiv=b("<div class='ui-jqgrid-sdiv'></div>")[0],r=b("<div class='ui-jqgrid-hbox"+("rtl"===n?"-rtl":"")+"'></div>"),b(s.sDiv).append(r).width(s.width).insertAfter(s.hDiv),b(r).append(Q),s.footers=b(".ui-jqgrid-ftable",s.sDiv)[0].rows[0].cells,i.p.rownumbers&&(s.footers[0].className="ui-state-default jqgrid-rownum"),Z&&b(s.sDiv).hide()),r=null,i.p.caption){var re=i.p.datatype;!0===i.p.hidegrid&&(b(".ui-jqgrid-titlebar-close",s.cDiv).click(function(e){var t,r=b.isFunction(i.p.onHeaderClick),n=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-pager, .ui-jqgrid-sdiv",a=this;return i.p.toolbar[0]===!0&&("both"===i.p.toolbar[1]&&(n+=", #"+b(s.ubDiv).attr("id")),n+=", #"+b(s.uDiv).attr("id")),t=b(n,"#gview_"+b.jgrid.jqID(i.p.id)).length,"visible"===i.p.gridstate?b(n,"#gbox_"+b.jgrid.jqID(i.p.id)).slideUp("fast",function(){t--,0===t&&(b("span",a).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),i.p.gridstate="hidden",b("#gbox_"+b.jgrid.jqID(i.p.id)).hasClass("ui-resizable")&&b(".ui-resizable-handle","#gbox_"+b.jgrid.jqID(i.p.id)).hide(),b(i).triggerHandler("jqGridHeaderClick",[i.p.gridstate,e]),r&&(Z||i.p.onHeaderClick.call(i,i.p.gridstate,e)))}):"hidden"===i.p.gridstate&&b(n,"#gbox_"+b.jgrid.jqID(i.p.id)).slideDown("fast",function(){t--,0===t&&(b("span",a).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),Z&&(i.p.datatype=re,q(),Z=!1),i.p.gridstate="visible",b("#gbox_"+b.jgrid.jqID(i.p.id)).hasClass("ui-resizable")&&b(".ui-resizable-handle","#gbox_"+b.jgrid.jqID(i.p.id)).show(),b(i).triggerHandler("jqGridHeaderClick",[i.p.gridstate,e]),r&&(Z||i.p.onHeaderClick.call(i,i.p.gridstate,e)))}),!1}),Z&&(i.p.datatype="local",b(".ui-jqgrid-titlebar-close",s.cDiv).trigger("click")))}else b(s.cDiv).hide();b(s.hDiv).after(s.bDiv).mousemove(function(e){return s.resizing?(s.dragMove(e),!1):void 0}),b(".ui-jqgrid-labels",s.hDiv).bind("selectstart",function(){return!1}),b(document).mouseup(function(){return s.resizing?(s.dragEnd(),!1):!0}),i.formatCol=c,i.sortData=k,i.updatepager=function(e,t){var s,r,n,a,o,l,c,h="",u=i.p.pager?"_"+b.jgrid.jqID(i.p.pager.substr(1)):"",p=i.p.toppager?"_"+i.p.toppager.substr(1):"";n=parseInt(i.p.page,10)-1,0>n&&(n=0),n*=parseInt(i.p.rowNum,10),o=n+i.p.reccount,i.p.scroll&&(s=b("tbody:first > tr:gt(0)",i.grid.bDiv),n=o-s.length,i.p.reccount=s.length,(s=s.outerHeight()||i.grid.prevRowHeight)&&(r=n*s,c=parseInt(i.p.records,10)*s,b(">div:first",i.grid.bDiv).css({height:c}).children("div:first").css({height:r,display:r?"":"none"}),0==i.grid.bDiv.scrollTop&&i.p.page>1&&(i.grid.bDiv.scrollTop=i.p.rowNum*(i.p.page-1)*s)),i.grid.bDiv.scrollLeft=i.grid.hDiv.scrollLeft),h=i.p.pager||"",(h+=i.p.toppager?h?","+i.p.toppager:i.p.toppager:"")&&(c=b.jgrid.formatter.integer||{},s=d(i.p.page),r=d(i.p.lastpage),b(".selbox",h)[this.p.useProp?"prop":"attr"]("disabled",!1),i.p.pginput===!0&&(b(".ui-pg-input",h).val(i.p.page),a=i.p.toppager?"#sp_1"+u+",#sp_1"+p:"#sp_1"+u,b(a).html(b.fmatter?b.fmatter.util.NumberFormat(i.p.lastpage,c):i.p.lastpage)),i.p.viewrecords&&(0===i.p.reccount?b(".ui-paging-info",h).html(i.p.emptyrecords):(a=n+1,l=i.p.records,b.fmatter&&(a=b.fmatter.util.NumberFormat(a,c),o=b.fmatter.util.NumberFormat(o,c),l=b.fmatter.util.NumberFormat(l,c)),b(".ui-paging-info",h).html(b.jgrid.format(i.p.recordtext,a,o,l)))),i.p.pgbuttons===!0&&(0>=s&&(s=r=0),1===s||0===s?(b("#first"+u+", #prev"+u).addClass("ui-state-disabled").removeClass("ui-state-hover"),i.p.toppager&&b("#first_t"+p+", #prev_t"+p).addClass("ui-state-disabled").removeClass("ui-state-hover")):(b("#first"+u+", #prev"+u).removeClass("ui-state-disabled"),i.p.toppager&&b("#first_t"+p+", #prev_t"+p).removeClass("ui-state-disabled")),s===r||0===s?(b("#next"+u+", #last"+u).addClass("ui-state-disabled").removeClass("ui-state-hover"),i.p.toppager&&b("#next_t"+p+", #last_t"+p).addClass("ui-state-disabled").removeClass("ui-state-hover")):(b("#next"+u+", #last"+u).removeClass("ui-state-disabled"),i.p.toppager&&b("#next_t"+p+", #last_t"+p).removeClass("ui-state-disabled")))),e===!0&&i.p.rownumbers===!0&&b(">td.jqgrid-rownum",i.rows).each(function(e){b(this).html(n+1+e)}),t&&i.p.jqgdnd&&b(i).jqGrid("gridDnD","updateDnD"),b(i).triggerHandler("jqGridGridComplete"),b.isFunction(i.p.gridComplete)&&i.p.gridComplete.call(i),b(i).triggerHandler("jqGridAfterGridComplete")},i.refreshIndex=w,i.setHeadCheckBox=I,i.constructTr=_,i.formatter=function(e,t,i,s,r){return u(e,t,i,s,r)},b.extend(s,{populate:q,emptyRows:y}),this.grid=s,i.addXmlData=function(e){x(e,i.grid.bDiv)},i.addJSONData=function(e){j(e,i.grid.bDiv)},this.grid.cols=this.rows[0].cells,b(i).triggerHandler("jqGridInitGrid"),b.isFunction(i.p.onInitGrid)&&i.p.onInitGrid.call(i),q(),i.p.hiddengrid=!1}}}})},b.jgrid.extend({getGridParam:function(e){var t=this[0];return t&&t.grid?e?void 0!==t.p[e]?t.p[e]:null:t.p:void 0},setGridParam:function(e){return this.each(function(){this.grid&&"object"==typeof e&&b.extend(!0,this.p,e)})},getDataIDs:function(){var e,t=[],i=0,s=0;return this.each(function(){if((e=this.rows.length)&&e>0)for(;e>i;)b(this.rows[i]).hasClass("jqgrow")&&(t[s]=this.rows[i].id,s++),i++}),t},setSelection:function(e,t,i){return this.each(function(){var s,r,n,a,o,l;void 0===e||(t=!1===t?!1:!0,!(r=this.rows.namedItem(""+e))||!r.className||-1<r.className.indexOf("ui-state-disabled"))||(!0===this.p.scrollrows&&(n=this.rows.namedItem(e).rowIndex,n>=0&&(s=b(this.grid.bDiv)[0].clientHeight,a=b(this.grid.bDiv)[0].scrollTop,o=b(this.rows[n]).position().top,n=this.rows[n].clientHeight,o+n>=s+a?b(this.grid.bDiv)[0].scrollTop=o-(s+a)+n+a:s+a>o&&a>o&&(b(this.grid.bDiv)[0].scrollTop=o))),!0===this.p.frozenColumns&&(l=this.p.id+"_frozen"),this.p.multiselect?(this.setHeadCheckBox(!1),this.p.selrow=r.id,a=b.inArray(this.p.selrow,this.p.selarrrow),-1===a?("ui-subgrid"!==r.className&&b(r).addClass("ui-state-highlight").attr("aria-selected","true"),s=!0,this.p.selarrrow.push(this.p.selrow)):("ui-subgrid"!==r.className&&b(r).removeClass("ui-state-highlight").attr("aria-selected","false"),s=!1,this.p.selarrrow.splice(a,1),o=this.p.selarrrow[0],this.p.selrow=void 0===o?null:o),b("#jqg_"+b.jgrid.jqID(this.p.id)+"_"+b.jgrid.jqID(r.id))[this.p.useProp?"prop":"attr"]("checked",s),l&&(-1===a?b("#"+b.jgrid.jqID(e),"#"+b.jgrid.jqID(l)).addClass("ui-state-highlight"):b("#"+b.jgrid.jqID(e),"#"+b.jgrid.jqID(l)).removeClass("ui-state-highlight"),b("#jqg_"+b.jgrid.jqID(this.p.id)+"_"+b.jgrid.jqID(e),"#"+b.jgrid.jqID(l))[this.p.useProp?"prop":"attr"]("checked",s)),t&&(b(this).triggerHandler("jqGridSelectRow",[r.id,s,i]),this.p.onSelectRow&&this.p.onSelectRow.call(this,r.id,s,i))):"ui-subgrid"!==r.className&&(this.p.selrow!==r.id?(b(this.rows.namedItem(this.p.selrow)).removeClass("ui-state-highlight").attr({"aria-selected":"false",tabindex:"-1"}),b(r).addClass("ui-state-highlight").attr({"aria-selected":"true",tabindex:"0"}),l&&(b("#"+b.jgrid.jqID(this.p.selrow),"#"+b.jgrid.jqID(l)).removeClass("ui-state-highlight"),b("#"+b.jgrid.jqID(e),"#"+b.jgrid.jqID(l)).addClass("ui-state-highlight")),s=!0):s=!1,this.p.selrow=r.id,t)&&(b(this).triggerHandler("jqGridSelectRow",[r.id,s,i]),this.p.onSelectRow&&this.p.onSelectRow.call(this,r.id,s,i)))})},resetSelection:function(e){return this.each(function(){var t,i,s,r=this;!0===r.p.frozenColumns&&(s=r.p.id+"_frozen"),void 0!==e?(i=e===r.p.selrow?r.p.selrow:e,b("#"+b.jgrid.jqID(r.p.id)+" tbody:first tr#"+b.jgrid.jqID(i)).removeClass("ui-state-highlight").attr("aria-selected","false"),s&&b("#"+b.jgrid.jqID(i),"#"+b.jgrid.jqID(s)).removeClass("ui-state-highlight"),r.p.multiselect&&(b("#jqg_"+b.jgrid.jqID(r.p.id)+"_"+b.jgrid.jqID(i),"#"+b.jgrid.jqID(r.p.id))[r.p.useProp?"prop":"attr"]("checked",!1),s&&b("#jqg_"+b.jgrid.jqID(r.p.id)+"_"+b.jgrid.jqID(i),"#"+b.jgrid.jqID(s))[r.p.useProp?"prop":"attr"]("checked",!1),r.setHeadCheckBox(!1)),i=null):r.p.multiselect?(b(r.p.selarrrow).each(function(e,i){t=r.rows.namedItem(i),b(t).removeClass("ui-state-highlight").attr("aria-selected","false"),b("#jqg_"+b.jgrid.jqID(r.p.id)+"_"+b.jgrid.jqID(i))[r.p.useProp?"prop":"attr"]("checked",!1),s&&(b("#"+b.jgrid.jqID(i),"#"+b.jgrid.jqID(s)).removeClass("ui-state-highlight"),b("#jqg_"+b.jgrid.jqID(r.p.id)+"_"+b.jgrid.jqID(i),"#"+b.jgrid.jqID(s))[r.p.useProp?"prop":"attr"]("checked",!1))}),r.setHeadCheckBox(!1),r.p.selarrrow=[]):r.p.selrow&&(b("#"+b.jgrid.jqID(r.p.id)+" tbody:first tr#"+b.jgrid.jqID(r.p.selrow)).removeClass("ui-state-highlight").attr("aria-selected","false"),s&&b("#"+b.jgrid.jqID(r.p.selrow),"#"+b.jgrid.jqID(s)).removeClass("ui-state-highlight"),r.p.selrow=null),!0===r.p.cellEdit&&0<=parseInt(r.p.iCol,10)&&0<=parseInt(r.p.iRow,10)&&(b("td:eq("+r.p.iCol+")",r.rows[r.p.iRow]).removeClass("edit-cell ui-state-highlight"),b(r.rows[r.p.iRow]).removeClass("selected-row ui-state-hover")),r.p.savedRow=[]})},getRowData:function(e){var t,i,s={},r=!1,n=0;return this.each(function(){var a,o,l=this;if(void 0===e)r=!0,t=[],i=l.rows.length;else{if(o=l.rows.namedItem(e),!o)return s;i=2}for(;i>n;)r&&(o=l.rows[n]),b(o).hasClass("jqgrow")&&(b('td[role="gridcell"]',o).each(function(e){if(a=l.p.colModel[e].name,"cb"!==a&&"subgrid"!==a&&"rn"!==a)if(!0===l.p.treeGrid&&a===l.p.ExpandColumn)s[a]=b.jgrid.htmlDecode(b("span:first",this).html());else try{s[a]=b.unformat.call(l,this,{rowId:o.id,colModel:l.p.colModel[e]},e)}catch(t){s[a]=b.jgrid.htmlDecode(b(this).html())}}),r&&(t.push(s),s={})),n++}),t||s},delRowData:function(e){var t,i,s=!1;return this.each(function(){if(t=this.rows.namedItem(e),!t)return!1;if(b(t).remove(),this.p.records--,this.p.reccount--,this.updatepager(!0,!1),s=!0,this.p.multiselect&&(i=b.inArray(e,this.p.selarrrow),-1!==i&&this.p.selarrrow.splice(i,1)),this.p.selrow=this.p.multiselect&&0<this.p.selarrrow.length?this.p.selarrrow[this.p.selarrrow.length-1]:null,"local"===this.p.datatype){var r=this.p._index[b.jgrid.stripPref(this.p.idPrefix,e)];void 0!==r&&(this.p.data.splice(r,1),this.refreshIndex())}if(!0===this.p.altRows&&s){var n=this.p.altclass;b(this.rows).each(function(e){e%2===1?b(this).addClass(n):b(this).removeClass(n)})}}),s},setRowData:function(e,t,i){var s,r,n=!0;return this.each(function(){if(!this.grid)return!1;var a,o,l=this,d=typeof i,c={};if(o=l.rows.namedItem(e),!o)return!1;if(t)try{if(b(this.p.colModel).each(function(i){s=this.name;var n=b.jgrid.getAccessor(t,s);void 0!==n&&(c[s]=this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?b.unformat.date.call(l,n,this):n,a=l.formatter(e,n,i,t,"edit"),r=this.title?{title:b.jgrid.stripHtml(a)}:{},!0===l.p.treeGrid&&s===l.p.ExpandColumn?b("td[role='gridcell']:eq("+i+") > span:first",o).html(a).attr(r):b("td[role='gridcell']:eq("+i+")",o).html(a).attr(r))}),"local"===l.p.datatype){var h,u=b.jgrid.stripPref(l.p.idPrefix,e),p=l.p._index[u];if(l.p.treeGrid)for(h in l.p.treeReader)l.p.treeReader.hasOwnProperty(h)&&delete c[l.p.treeReader[h]];void 0!==p&&(l.p.data[p]=b.extend(!0,l.p.data[p],c)),c=null}}catch(f){n=!1}n&&("string"===d?b(o).addClass(i):"object"===d&&b(o).css(i),b(l).triggerHandler("jqGridAfterGridComplete"))}),n},addRowData:function(e,t,i,s){i||(i="last");var r,n,a,o,l,d,c,h,u,p,f,g,m,v,y=!1,w="";return t&&(b.isArray(t)?(u=!0,i="last",p=e):(t=[t],u=!1),this.each(function(){var _=t.length;l=this.p.rownumbers===!0?1:0,a=this.p.multiselect===!0?1:0,o=this.p.subGrid===!0?1:0,u||(void 0!==e?e=""+e:(e=b.jgrid.randId(),this.p.keyIndex!==!1&&(p=this.p.colModel[this.p.keyIndex+a+o+l].name,void 0!==t[0][p]&&(e=t[0][p])))),f=this.p.altclass;for(var x=0,j="",C={},D=b.isFunction(this.p.afterInsertRow)?!0:!1;_>x;){if(g=t[x],n=[],u){try{e=g[p],void 0===e&&(e=b.jgrid.randId())}catch(S){e=b.jgrid.randId()}j=this.p.altRows===!0&&(this.rows.length-1)%2===0?f:""}for(v=e,e=this.p.idPrefix+e,l&&(w=this.formatCol(0,1,"",null,e,!0),n[n.length]='<td role="gridcell" class="ui-state-default jqgrid-rownum" '+w+">0</td>"),a&&(h='<input role="checkbox" type="checkbox" id="jqg_'+this.p.id+"_"+e+'" class="cbox"/>',w=this.formatCol(l,1,"",null,e,!0),n[n.length]='<td role="gridcell" '+w+">"+h+"</td>"),o&&(n[n.length]=b(this).jqGrid("addSubGridCell",a+l,1)),c=a+o+l;c<this.p.colModel.length;c++)m=this.p.colModel[c],r=m.name,C[r]=g[r],h=this.formatter(e,b.jgrid.getAccessor(g,r),c,g),w=this.formatCol(c,1,h,g,e,C),n[n.length]='<td role="gridcell" '+w+">"+h+"</td>";if(n.unshift(this.constructTr(e,!1,j,C,g,!1)),n[n.length]="</tr>",0===this.rows.length)b("table:first",this.grid.bDiv).append(n.join(""));else switch(i){case"last":b(this.rows[this.rows.length-1]).after(n.join("")),d=this.rows.length-1;break;case"first":b(this.rows[0]).after(n.join("")),d=1;break;case"after":(d=this.rows.namedItem(s))&&(b(this.rows[d.rowIndex+1]).hasClass("ui-subgrid")?b(this.rows[d.rowIndex+1]).after(n):b(d).after(n.join(""))),d++;break;case"before":(d=this.rows.namedItem(s))&&(b(d).before(n.join("")),d=d.rowIndex),d--}this.p.subGrid===!0&&b(this).jqGrid("addSubGrid",a+l,d),this.p.records++,this.p.reccount++,b(this).triggerHandler("jqGridAfterInsertRow",[e,g,g]),D&&this.p.afterInsertRow.call(this,e,g,g),x++,"local"===this.p.datatype&&(C[this.p.localReader.id]=v,this.p._index[v]=this.p.data.length,this.p.data.push(C),C={})}this.p.altRows===!0&&!u&&("last"===i?(this.rows.length-1)%2===1&&b(this.rows[this.rows.length-1]).addClass(f):b(this.rows).each(function(e){e%2===1?b(this).addClass(f):b(this).removeClass(f)})),this.updatepager(!0,!0),y=!0})),y},footerData:function(e,t,i){function s(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var r,n,a=!1,o={};return void 0===e&&(e="get"),"boolean"!=typeof i&&(i=!0),e=e.toLowerCase(),this.each(function(){var l,d=this;return!d.grid||!d.p.footerrow||"set"===e&&s(t)?!1:(a=!0,void b(this.p.colModel).each(function(s){r=this.name,"set"===e?void 0!==t[r]&&(l=i?d.formatter("",t[r],s,t,"edit"):t[r],n=this.title?{title:b.jgrid.stripHtml(l)}:{},b("tr.footrow td:eq("+s+")",d.grid.sDiv).html(l).attr(n),a=!0):"get"===e&&(o[r]=b("tr.footrow td:eq("+s+")",d.grid.sDiv).html())}))}),"get"===e?o:a},showHideCol:function(e,t){return this.each(function(){var i,s=this,r=!1,n=b.jgrid.cell_width?0:s.p.cellLayout;if(s.grid){"string"==typeof e&&(e=[e]),t="none"!==t?"":"none";var a=""===t?!0:!1,o=s.p.groupHeader&&("object"==typeof s.p.groupHeader||b.isFunction(s.p.groupHeader));o&&b(s).jqGrid("destroyGroupHeader",!1),b(this.p.colModel).each(function(o){if(-1!==b.inArray(this.name,e)&&this.hidden===a){if(!0===s.p.frozenColumns&&!0===this.frozen)return!0;b("tr",s.grid.hDiv).each(function(){b(this.cells[o]).css("display",t)}),b(s.rows).each(function(){b(this).hasClass("jqgroup")||b(this.cells[o]).css("display",t)}),s.p.footerrow&&b("tr.footrow td:eq("+o+")",s.grid.sDiv).css("display",t),i=parseInt(this.width,10),s.p.tblwidth="none"===t?s.p.tblwidth-(i+n):s.p.tblwidth+(i+n),this.hidden=!a,r=!0,b(s).triggerHandler("jqGridShowHideCol",[a,this.name,o])}}),!0===r&&(!0===s.p.shrinkToFit&&!isNaN(s.p.height)&&(s.p.tblwidth+=parseInt(s.p.scrollOffset,10)),b(s).jqGrid("setGridWidth",!0===s.p.shrinkToFit?s.p.tblwidth:s.p.width)),o&&b(s).jqGrid("setGroupHeaders",s.p.groupHeader)}})},hideCol:function(e){return this.each(function(){b(this).jqGrid("showHideCol",e,"none")})},showCol:function(e){return this.each(function(){b(this).jqGrid("showHideCol",e,"")})},remapColumns:function(e,t,i){function s(t){var i;i=t.length?b.makeArray(t):b.extend({},t),b.each(e,function(e){t[e]=i[this]})}function r(t,i){b(">tr"+(i||""),t).each(function(){var t=this,i=b.makeArray(t.cells);b.each(e,function(){var e=i[this];e&&t.appendChild(e)})})}var n=this.get(0);s(n.p.colModel),s(n.p.colNames),s(n.grid.headers),r(b("thead:first",n.grid.hDiv),i&&":not(.ui-jqgrid-labels)"),t&&r(b("#"+b.jgrid.jqID(n.p.id)+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot"),n.p.footerrow&&r(b("tbody:first",n.grid.sDiv)),n.p.remapColumns&&(n.p.remapColumns.length?s(n.p.remapColumns):n.p.remapColumns=b.makeArray(e)),n.p.lastsort=b.inArray(n.p.lastsort,e),n.p.treeGrid&&(n.p.expColInd=b.inArray(n.p.expColInd,e)),b(n).triggerHandler("jqGridRemapColumns",[e,t,i])},setGridWidth:function(e,t){return this.each(function(){if(this.grid){var i,s,r,n,a=this,o=0,l=b.jgrid.cell_width?0:a.p.cellLayout,d=0,c=!1,h=a.p.scrollOffset,u=0;if("boolean"!=typeof t&&(t=a.p.shrinkToFit),!isNaN(e)){if(e=parseInt(e,10),a.grid.width=a.p.width=e,b("#gbox_"+b.jgrid.jqID(a.p.id)).css("width",e+"px"),b("#gview_"+b.jgrid.jqID(a.p.id)).css("width",e+"px"),b(a.grid.bDiv).css("width",e+"px"),b(a.grid.hDiv).css("width",e+"px"),a.p.pager&&b(a.p.pager).css("width",e+"px"),a.p.toppager&&b(a.p.toppager).css("width",e+"px"),!0===a.p.toolbar[0]&&(b(a.grid.uDiv).css("width",e+"px"),"both"===a.p.toolbar[1]&&b(a.grid.ubDiv).css("width",e+"px")),a.p.footerrow&&b(a.grid.sDiv).css("width",e+"px"),!1===t&&!0===a.p.forceFit&&(a.p.forceFit=!1),!0===t){if(b.each(a.p.colModel,function(){this.hidden===!1&&(i=this.widthOrg,o+=i+l,this.fixed?u+=i+l:d++)}),0===d)return;a.p.tblwidth=o,r=e-l*d-u,!isNaN(a.p.height)&&(b(a.grid.bDiv)[0].clientHeight<b(a.grid.bDiv)[0].scrollHeight||1===a.rows.length)&&(c=!0,r-=h);var o=0,p=0<a.grid.cols.length;if(b.each(a.p.colModel,function(e){this.hidden!==!1||this.fixed||(i=this.widthOrg,i=Math.round(r*i/(a.p.tblwidth-l*d-u)),0>i||(this.width=i,o+=i,a.grid.headers[e].width=i,a.grid.headers[e].el.style.width=i+"px",a.p.footerrow&&(a.grid.footers[e].style.width=i+"px"),p&&(a.grid.cols[e].style.width=i+"px"),s=e))}),!s)return;n=0,c?e-u-(o+l*d)!==h&&(n=e-u-(o+l*d)-h):1!==Math.abs(e-u-(o+l*d))&&(n=e-u-(o+l*d)),a.p.colModel[s].width+=n,a.p.tblwidth=o+n+l*d+u,a.p.tblwidth>e?(c=a.p.tblwidth-parseInt(e,10),a.p.tblwidth=e,i=a.p.colModel[s].width-=c):i=a.p.colModel[s].width,a.grid.headers[s].width=i,a.grid.headers[s].el.style.width=i+"px",p&&(a.grid.cols[s].style.width=i+"px"),a.p.footerrow&&(a.grid.footers[s].style.width=i+"px")}a.p.tblwidth&&(b("table:first",a.grid.bDiv).css("width",a.p.tblwidth+"px"),b("table:first",a.grid.hDiv).css("width",a.p.tblwidth+"px"),a.grid.hDiv.scrollLeft=a.grid.bDiv.scrollLeft,a.p.footerrow&&b("table:first",a.grid.sDiv).css("width",a.p.tblwidth+"px"))}}})},setGridHeight:function(e){return this.each(function(){if(this.grid){var t=b(this.grid.bDiv);t.css({height:e+(isNaN(e)?"":"px")}),!0===this.p.frozenColumns&&b("#"+b.jgrid.jqID(this.p.id)+"_frozen").parent().height(t.height()-16),this.p.height=e,this.p.scroll&&this.grid.populateVisible()}})},setCaption:function(e){return this.each(function(){this.p.caption=e,b("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",this.grid.cDiv).html(e),b(this.grid.cDiv).show()})},setLabel:function(e,t,i,s){return this.each(function(){var r=-1;if(this.grid&&void 0!==e&&(b(this.p.colModel).each(function(t){return this.name===e?(r=t,!1):void 0}),r>=0)){var n=b("tr.ui-jqgrid-labels th:eq("+r+")",this.grid.hDiv);if(t){var a=b(".s-ico",n);b("[id^=jqgh_]",n).empty().html(t).append(a),this.p.colNames[r]=t}i&&("string"==typeof i?b(n).addClass(i):b(n).css(i)),"object"==typeof s&&b(n).attr(s)}})},setCell:function(e,t,i,s,r,n){return this.each(function(){var a,o,l=-1;if(this.grid&&(isNaN(t)?b(this.p.colModel).each(function(e){return this.name===t?(l=e,!1):void 0}):l=parseInt(t,10),l>=0&&(a=this.rows.namedItem(e)))){var d=b("td:eq("+l+")",a);(""!==i||!0===n)&&(a=this.formatter(e,i,l,a,"edit"),o=this.p.colModel[l].title?{title:b.jgrid.stripHtml(a)}:{},this.p.treeGrid&&0<b(".tree-wrap",b(d)).length?b("span",b(d)).html(a).attr(o):b(d).html(a).attr(o),"local"===this.p.datatype&&(a=this.p.colModel[l],i=a.formatter&&"string"==typeof a.formatter&&"date"===a.formatter?b.unformat.date.call(this,i,a):i,o=this.p._index[b.jgrid.stripPref(this.p.idPrefix,e)],void 0!==o&&(this.p.data[o][a.name]=i))),"string"==typeof s?b(d).addClass(s):s&&b(d).css(s),"object"==typeof r&&b(d).attr(r)}})},getCell:function(e,t){var i=!1;return this.each(function(){var s=-1;if(this.grid&&(isNaN(t)?b(this.p.colModel).each(function(e){return this.name===t?(s=e,!1):void 0}):s=parseInt(t,10),s>=0)){var r=this.rows.namedItem(e);if(r)try{i=b.unformat.call(this,b("td:eq("+s+")",r),{rowId:r.id,colModel:this.p.colModel[s]},s)}catch(n){i=b.jgrid.htmlDecode(b("td:eq("+s+")",r).html())}}}),i},getCol:function(e,t,i){var s,r,n,a,o=[],l=0,t="boolean"!=typeof t?!1:t;return void 0===i&&(i=!1),this.each(function(){var d=-1;if(this.grid&&(isNaN(e)?b(this.p.colModel).each(function(t){return this.name===e?(d=t,!1):void 0}):d=parseInt(e,10),d>=0)){var c=this.rows.length,h=0;if(c&&c>0){for(;c>h;){if(b(this.rows[h]).hasClass("jqgrow")){try{s=b.unformat.call(this,b(this.rows[h].cells[d]),{rowId:this.rows[h].id,colModel:this.p.colModel[d]},d)}catch(u){s=b.jgrid.htmlDecode(this.rows[h].cells[d].innerHTML)}i?(a=parseFloat(s),l+=a,void 0===n&&(n=r=a),r=Math.min(r,a),n=Math.max(n,a)):t?o.push({id:this.rows[h].id,value:s}):o.push(s)}h++}if(i)switch(i.toLowerCase()){case"sum":o=l;break;case"avg":o=l/c;break;case"count":o=c;break;case"min":o=r;break;case"max":o=n}}}}),o},clearGridData:function(e){return this.each(function(){if(this.grid){if("boolean"!=typeof e&&(e=!1),this.p.deepempty)b("#"+b.jgrid.jqID(this.p.id)+" tbody:first tr:gt(0)").remove();else{var t=b("#"+b.jgrid.jqID(this.p.id)+" tbody:first tr:first")[0];b("#"+b.jgrid.jqID(this.p.id)+" tbody:first").empty().append(t)}this.p.footerrow&&e&&b(".ui-jqgrid-ftable td",this.grid.sDiv).html("&#160;"),this.p.selrow=null,this.p.selarrrow=[],this.p.savedRow=[],this.p.records=0,this.p.page=1,this.p.lastpage=0,this.p.reccount=0,this.p.data=[],this.p._index={},this.updatepager(!0,!1)}})},getInd:function(e,t){var i,s=!1;return this.each(function(){(i=this.rows.namedItem(e))&&(s=!0===t?i:i.rowIndex)}),s},bindKeys:function(e){var t=b.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},e||{});return this.each(function(){var e=this;b("body").is("[role]")||b("body").attr("role","application"),e.p.scrollrows=t.scrollingRows,b(e).keydown(function(i){var s,r,n,a=b(e).find("tr[tabindex=0]")[0],o=e.p.treeReader.expanded_field;if(a)if(n=e.p._index[b.jgrid.stripPref(e.p.idPrefix,a.id)],37===i.keyCode||38===i.keyCode||39===i.keyCode||40===i.keyCode){if(38===i.keyCode){if(r=a.previousSibling,s="",r)if(b(r).is(":hidden")){for(;r;)if(r=r.previousSibling,!b(r).is(":hidden")&&b(r).hasClass("jqgrow")){s=r.id;break}}else s=r.id;b(e).jqGrid("setSelection",s,!0,i),i.preventDefault()}if(40===i.keyCode){if(r=a.nextSibling,s="",r)if(b(r).is(":hidden")){for(;r;)if(r=r.nextSibling,!b(r).is(":hidden")&&b(r).hasClass("jqgrow")){s=r.id;break}}else s=r.id;b(e).jqGrid("setSelection",s,!0,i),i.preventDefault()}37===i.keyCode&&(e.p.treeGrid&&e.p.data[n][o]&&b(a).find("div.treeclick").trigger("click"),b(e).triggerHandler("jqGridKeyLeft",[e.p.selrow]),b.isFunction(t.onLeftKey)&&t.onLeftKey.call(e,e.p.selrow)),39===i.keyCode&&(e.p.treeGrid&&!e.p.data[n][o]&&b(a).find("div.treeclick").trigger("click"),b(e).triggerHandler("jqGridKeyRight",[e.p.selrow]),b.isFunction(t.onRightKey)&&t.onRightKey.call(e,e.p.selrow))}else 13===i.keyCode?(b(e).triggerHandler("jqGridKeyEnter",[e.p.selrow]),b.isFunction(t.onEnter)&&t.onEnter.call(e,e.p.selrow)):32===i.keyCode&&(b(e).triggerHandler("jqGridKeySpace",[e.p.selrow]),b.isFunction(t.onSpace)&&t.onSpace.call(e,e.p.selrow))})})},unbindKeys:function(){return this.each(function(){b(this).unbind("keydown")})},getLocalRow:function(e){var t,i=!1;return this.each(function(){void 0!==e&&(t=this.p._index[b.jgrid.stripPref(this.p.idPrefix,e)],t>=0&&(i=this.p.data[t]))}),i}})}(jQuery),function(e){e.fmatter={},e.extend(e.fmatter,{isBoolean:function(e){return"boolean"==typeof e},isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(t){return!this.isString(t)&&this.isValue(t)?!1:this.isValue(t)?(t=e.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),""===t):!0}}),e.fn.fmatter=function(t,i,s,r,n){var a=i,s=e.extend({},e.jgrid.formatter,s);try{a=e.fn.fmatter[t].call(this,i,s,r,n)}catch(o){}return a},e.fmatter.util={NumberFormat:function(t,i){if(e.fmatter.isNumber(t)||(t*=1),e.fmatter.isNumber(t)){var s,r=0>t,n=""+t,a=i.decimalSeparator||".";if(e.fmatter.isNumber(i.decimalPlaces)){var o=i.decimalPlaces,n=Math.pow(10,o),n=""+Math.round(t*n)/n;if(s=n.lastIndexOf("."),o>0)for(0>s?(n+=a,s=n.length-1):"."!==a&&(n=n.replace(".",a));n.length-1-s<o;)n+="0"}if(i.thousandsSeparator){o=i.thousandsSeparator,s=n.lastIndexOf(a),s=s>-1?s:n.length;var l,a=n.substring(s),d=-1;for(l=s;l>0;l--)d++,0===d%3&&l!==s&&(!r||l>1)&&(a=o+a),a=n.charAt(l-1)+a;n=a}return n=i.prefix?i.prefix+n:n,n=i.suffix?n+i.suffix:n}return t}},e.fn.fmatter.defaultFormat=function(t,i){return e.fmatter.isValue(t)&&""!==t?t:i.defaultValue||"&#160;"},e.fn.fmatter.email=function(t,i){return e.fmatter.isEmpty(t)?e.fn.fmatter.defaultFormat(t,i):'<a href="mailto:'+t+'">'+t+"</a>"},e.fn.fmatter.checkbox=function(t,i){var s,r=e.extend({},i.checkbox);return void 0!==i.colModel&&void 0!==i.colModel.formatoptions&&(r=e.extend({},r,i.colModel.formatoptions)),s=!0===r.disabled?'disabled="disabled"':"",(e.fmatter.isEmpty(t)||void 0===t)&&(t=e.fn.fmatter.defaultFormat(t,r)),t=(""+t).toLowerCase(),'<input type="checkbox" '+(0>t.search(/(false|f|0|no|n|off|undefined)/i)?" checked='checked' ":"")+' value="'+t+'" offval="no" '+s+"/>"},e.fn.fmatter.link=function(t,i){var s={target:i.target},r="";return void 0!==i.colModel&&void 0!==i.colModel.formatoptions&&(s=e.extend({},s,i.colModel.formatoptions)),s.target&&(r="target="+s.target),e.fmatter.isEmpty(t)?e.fn.fmatter.defaultFormat(t,i):"<a "+r+' href="'+t+'">'+t+"</a>"},e.fn.fmatter.showlink=function(t,i){var s={baseLinkUrl:i.baseLinkUrl,showAction:i.showAction,addParam:i.addParam||"",target:i.target,idName:i.idName},r="";return void 0!==i.colModel&&void 0!==i.colModel.formatoptions&&(s=e.extend({},s,i.colModel.formatoptions)),s.target&&(r="target="+s.target),s=s.baseLinkUrl+s.showAction+"?"+s.idName+"="+i.rowId+s.addParam,e.fmatter.isString(t)||e.fmatter.isNumber(t)?"<a "+r+' href="'+s+'">'+t+"</a>":e.fn.fmatter.defaultFormat(t,i)},e.fn.fmatter.integer=function(t,i){var s=e.extend({},i.integer);return void 0!==i.colModel&&void 0!==i.colModel.formatoptions&&(s=e.extend({},s,i.colModel.formatoptions)),
e.fmatter.isEmpty(t)?s.defaultValue:e.fmatter.util.NumberFormat(t,s)},e.fn.fmatter.number=function(t,i){var s=e.extend({},i.number);return void 0!==i.colModel&&void 0!==i.colModel.formatoptions&&(s=e.extend({},s,i.colModel.formatoptions)),e.fmatter.isEmpty(t)?s.defaultValue:e.fmatter.util.NumberFormat(t,s)},e.fn.fmatter.currency=function(t,i){var s=e.extend({},i.currency);return void 0!==i.colModel&&void 0!==i.colModel.formatoptions&&(s=e.extend({},s,i.colModel.formatoptions)),e.fmatter.isEmpty(t)?s.defaultValue:e.fmatter.util.NumberFormat(t,s)},e.fn.fmatter.date=function(t,i,s,r){return s=e.extend({},i.date),void 0!==i.colModel&&void 0!==i.colModel.formatoptions&&(s=e.extend({},s,i.colModel.formatoptions)),s.reformatAfterEdit||"edit"!==r?e.fmatter.isEmpty(t)?e.fn.fmatter.defaultFormat(t,i):e.jgrid.parseDate(s.srcformat,t,s.newformat,s):e.fn.fmatter.defaultFormat(t,i)},e.fn.fmatter.select=function(t,i){var s,r,t=""+t,n=!1,a=[];if(void 0!==i.colModel.formatoptions?(n=i.colModel.formatoptions.value,s=void 0===i.colModel.formatoptions.separator?":":i.colModel.formatoptions.separator,r=void 0===i.colModel.formatoptions.delimiter?";":i.colModel.formatoptions.delimiter):void 0!==i.colModel.editoptions&&(n=i.colModel.editoptions.value,s=void 0===i.colModel.editoptions.separator?":":i.colModel.editoptions.separator,r=void 0===i.colModel.editoptions.delimiter?";":i.colModel.editoptions.delimiter),n){var o=!0===i.colModel.editoptions.multiple?!0:!1,l=[];if(o&&(l=t.split(","),l=e.map(l,function(t){return e.trim(t)})),e.fmatter.isString(n)){var d,c=n.split(r),h=0;for(d=0;d<c.length;d++)if(r=c[d].split(s),2<r.length&&(r[1]=e.map(r,function(e,t){return t>0?e:void 0}).join(s)),o)-1<e.inArray(r[0],l)&&(a[h]=r[1],h++);else if(e.trim(r[0])===e.trim(t)){a[0]=r[1];break}}else e.fmatter.isObject(n)&&(o?a=e.map(l,function(e){return n[e]}):a[0]=n[t]||"")}return t=a.join(", "),""===t?e.fn.fmatter.defaultFormat(t,i):t},e.fn.fmatter.rowactions=function(t){var i=e(this).closest("tr.jqgrow"),s=i.attr("id"),r=e(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,"$1"),r=e("#"+r),n=r[0],a=n.p,o=a.colModel[e.jgrid.getCellIndex(this)],l=o.frozen?e("tr#"+s+" td:eq("+e.jgrid.getCellIndex(this)+") > div",r):e(this).parent(),d={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null,restoreAfterError:!0,mtype:"POST",delOptions:{},editOptions:{}},c=function(t){e.isFunction(d.afterRestore)&&d.afterRestore.call(n,t),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide()};switch(void 0!==o.formatoptions&&(d=e.extend(d,o.formatoptions)),void 0!==a.editOptions&&(d.editOptions=a.editOptions),void 0!==a.delOptions&&(d.delOptions=a.delOptions),i.hasClass("jqgrid-new-row")&&(d.extraparam[a.prmNames.oper]=a.prmNames.addoper),i={keys:d.keys,oneditfunc:d.onEdit,successfunc:d.onSuccess,url:d.url,extraparam:d.extraparam,aftersavefunc:function(t,i){e.isFunction(d.afterSave)&&d.afterSave.call(n,t,i),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide()},errorfunc:d.onError,afterrestorefunc:c,restoreAfterError:d.restoreAfterError,mtype:d.mtype},t){case"edit":r.jqGrid("editRow",s,i),l.find("div.ui-inline-edit,div.ui-inline-del").hide(),l.find("div.ui-inline-save,div.ui-inline-cancel").show(),r.triggerHandler("jqGridAfterGridComplete");break;case"save":r.jqGrid("saveRow",s,i)&&(l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide(),r.triggerHandler("jqGridAfterGridComplete"));break;case"cancel":r.jqGrid("restoreRow",s,c),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide(),r.triggerHandler("jqGridAfterGridComplete");break;case"del":r.jqGrid("delGridRow",s,d.delOptions);break;case"formedit":r.jqGrid("setSelection",s),r.jqGrid("editGridRow",s,d.editOptions)}},e.fn.fmatter.actions=function(t,i){var s={keys:!1,editbutton:!0,delbutton:!0,editformbutton:!1},r=i.rowId,n="";return void 0!==i.colModel.formatoptions&&(s=e.extend(s,i.colModel.formatoptions)),void 0===r||e.fmatter.isEmpty(r)?"":(s.editformbutton?n+="<div title='"+e.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+("id='jEditButton_"+r+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'formedit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ")+"><span class='ui-icon ui-icon-pencil'></span></div>":s.editbutton&&(n+="<div title='"+e.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+("id='jEditButton_"+r+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'edit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover') ")+"><span class='ui-icon ui-icon-pencil'></span></div>"),s.delbutton&&(n+="<div title='"+e.jgrid.nav.deltitle+"' style='float:left;margin-left:5px;' class='ui-pg-div ui-inline-del' "+("id='jDeleteButton_"+r+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'del'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ")+"><span class='ui-icon ui-icon-trash'></span></div>"),n+="<div title='"+e.jgrid.edit.bSubmit+"' style='float:left;display:none' class='ui-pg-div ui-inline-save' "+("id='jSaveButton_"+r+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'save'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ")+"><span class='ui-icon ui-icon-disk'></span></div>",n+="<div title='"+e.jgrid.edit.bCancel+"' style='float:left;display:none;margin-left:5px;' class='ui-pg-div ui-inline-cancel' "+("id='jCancelButton_"+r+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'cancel'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ")+"><span class='ui-icon ui-icon-cancel'></span></div>","<div style='margin-left:8px;'>"+n+"</div>")},e.unformat=function(t,i,s,r){var n,a=i.colModel.formatter,o=i.colModel.formatoptions||{},l=/([\.\*\_\'\(\)\{\}\+\?\\])/g,d=i.colModel.unformat||e.fn.fmatter[a]&&e.fn.fmatter[a].unformat;if(void 0!==d&&e.isFunction(d))n=d.call(this,e(t).text(),i,t);else if(void 0!==a&&e.fmatter.isString(a))switch(n=e.jgrid.formatter||{},a){case"integer":o=e.extend({},n.integer,o),i=o.thousandsSeparator.replace(l,"\\$1"),n=e(t).text().replace(RegExp(i,"g"),"");break;case"number":o=e.extend({},n.number,o),i=o.thousandsSeparator.replace(l,"\\$1"),n=e(t).text().replace(RegExp(i,"g"),"").replace(o.decimalSeparator,".");break;case"currency":o=e.extend({},n.currency,o),i=o.thousandsSeparator.replace(l,"\\$1"),i=RegExp(i,"g"),n=e(t).text(),o.prefix&&o.prefix.length&&(n=n.substr(o.prefix.length)),o.suffix&&o.suffix.length&&(n=n.substr(0,n.length-o.suffix.length)),n=n.replace(i,"").replace(o.decimalSeparator,".");break;case"checkbox":o=i.colModel.editoptions?i.colModel.editoptions.value.split(":"):["Yes","No"],n=e("input",t).is(":checked")?o[0]:o[1];break;case"select":n=e.unformat.select(t,i,s,r);break;case"actions":return"";default:n=e(t).text()}return void 0!==n?n:!0===r?e(t).text():e.jgrid.htmlDecode(e(t).html())},e.unformat.select=function(t,i,s,r){if(s=[],t=e(t).text(),!0===r)return t;var r=e.extend({},void 0!==i.colModel.formatoptions?i.colModel.formatoptions:i.colModel.editoptions),i=void 0===r.separator?":":r.separator,n=void 0===r.delimiter?";":r.delimiter;if(r.value){var a=r.value,r=!0===r.multiple?!0:!1,o=[];if(r&&(o=t.split(","),o=e.map(o,function(t){return e.trim(t)})),e.fmatter.isString(a)){var l,d=a.split(n),c=0;for(l=0;l<d.length;l++)if(n=d[l].split(i),2<n.length&&(n[1]=e.map(n,function(e,t){return t>0?e:void 0}).join(i)),r)-1<e.inArray(n[1],o)&&(s[c]=n[0],c++);else if(e.trim(n[1])===e.trim(t)){s[0]=n[0];break}}else(e.fmatter.isObject(a)||e.isArray(a))&&(r||(o[0]=t),s=e.map(o,function(t){var i;return e.each(a,function(e,s){return s===t?(i=e,!1):void 0}),void 0!==i?i:void 0}));return s.join(", ")}return t||""},e.unformat.date=function(t,i){var s=e.jgrid.formatter.date||{};return void 0!==i.formatoptions&&(s=e.extend({},s,i.formatoptions)),e.fmatter.isEmpty(t)?e.fn.fmatter.defaultFormat(t,i):e.jgrid.parseDate(s.newformat,t,s.srcformat,s)}}(jQuery),function(e){e.jgrid.extend({getColProp:function(e){var t={},i=this[0];if(!i.grid)return!1;var s,i=i.p.colModel;for(s=0;s<i.length;s++)if(i[s].name===e){t=i[s];break}return t},setColProp:function(t,i){return this.each(function(){if(this.grid&&i){var s,r=this.p.colModel;for(s=0;s<r.length;s++)if(r[s].name===t){e.extend(!0,this.p.colModel[s],i);break}}})},sortGrid:function(e,t,i){return this.each(function(){var s,r=-1;if(this.grid){for(e||(e=this.p.sortname),s=0;s<this.p.colModel.length;s++)if(this.p.colModel[s].index===e||this.p.colModel[s].name===e){r=s;break}-1!==r&&(s=this.p.colModel[r].sortable,"boolean"!=typeof s&&(s=!0),"boolean"!=typeof t&&(t=!1),s&&this.sortData("jqgh_"+this.p.id+"_"+e,r,t,i))}})},clearBeforeUnload:function(){return this.each(function(){var t=this.grid;t.emptyRows.call(this,!0,!0),e(t.hDiv).unbind("mousemove"),e(this).unbind(),t.dragEnd=null,t.dragMove=null,t.dragStart=null,t.emptyRows=null,t.populate=null,t.populateVisible=null,t.scrollGrid=null,t.selectionPreserver=null,t.bDiv=null,t.cDiv=null,t.hDiv=null,t.cols=null;var i,s=t.headers.length;for(i=0;s>i;i++)t.headers[i].el=null;this.addJSONData=this.addXmlData=this.formatter=this.constructTr=this.setHeadCheckBox=this.refreshIndex=this.updatepager=this.sortData=this.formatCol=null})},GridDestroy:function(){return this.each(function(){if(this.grid){this.p.pager&&e(this.p.pager).remove();try{e(this).jqGrid("clearBeforeUnload"),e("#gbox_"+e.jgrid.jqID(this.id)).remove()}catch(t){}}})},GridUnload:function(){return this.each(function(){if(this.grid){var t=e(this).attr("id"),i=e(this).attr("class");this.p.pager&&e(this.p.pager).empty().removeClass("ui-state-default ui-jqgrid-pager corner-bottom");var s=document.createElement("table");e(s).attr({id:t}),s.className=i,t=e.jgrid.jqID(this.id),e(s).removeClass("ui-jqgrid-btable"),1===e(this.p.pager).parents("#gbox_"+t).length?(e(s).insertBefore("#gbox_"+t).show(),e(this.p.pager).insertBefore("#gbox_"+t)):e(s).insertBefore("#gbox_"+t).show(),e(this).jqGrid("clearBeforeUnload"),e("#gbox_"+t).remove()}})},setGridState:function(t){return this.each(function(){this.grid&&("hidden"===t?(e(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+e.jgrid.jqID(this.p.id)).slideUp("fast"),this.p.pager&&e(this.p.pager).slideUp("fast"),this.p.toppager&&e(this.p.toppager).slideUp("fast"),!0===this.p.toolbar[0]&&("both"===this.p.toolbar[1]&&e(this.grid.ubDiv).slideUp("fast"),e(this.grid.uDiv).slideUp("fast")),this.p.footerrow&&e(".ui-jqgrid-sdiv","#gbox_"+e.jgrid.jqID(this.p.id)).slideUp("fast"),e(".ui-jqgrid-titlebar-close span",this.grid.cDiv).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),this.p.gridstate="hidden"):"visible"===t&&(e(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+e.jgrid.jqID(this.p.id)).slideDown("fast"),this.p.pager&&e(this.p.pager).slideDown("fast"),this.p.toppager&&e(this.p.toppager).slideDown("fast"),!0===this.p.toolbar[0]&&("both"===this.p.toolbar[1]&&e(this.grid.ubDiv).slideDown("fast"),e(this.grid.uDiv).slideDown("fast")),this.p.footerrow&&e(".ui-jqgrid-sdiv","#gbox_"+e.jgrid.jqID(this.p.id)).slideDown("fast"),e(".ui-jqgrid-titlebar-close span",this.grid.cDiv).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),this.p.gridstate="visible"))})},filterToolbar:function(t){return t=e.extend({autosearch:!0,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw",searchOperators:!1,operandTitle:"Click to select search operation.",operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^","in":"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#"}},e.jgrid.search,t||{}),this.each(function(){var i=this;if(!this.ftoolbar){var s,r=function(){var s,r,n,a={},o=0,l={};e.each(i.p.colModel,function(){var d=e("#gs_"+e.jgrid.jqID(this.name),!0===this.frozen&&!0===i.p.frozenColumns?i.grid.fhDiv:i.grid.hDiv);if(r=this.index||this.name,n=t.searchOperators?d.parent().prev().children("a").attr("soper")||t.defaultSearch:this.searchoptions&&this.searchoptions.sopt?this.searchoptions.sopt[0]:"select"===this.stype?"eq":t.defaultSearch,(s="custom"===this.stype&&e.isFunction(this.searchoptions.custom_value)&&0<d.length&&"SPAN"===d[0].nodeName.toUpperCase()?this.searchoptions.custom_value.call(i,d.children(".customelement:first"),"get"):d.val())||"nu"===n||"nn"===n)a[r]=s,l[r]=n,o++;else try{delete i.p.postData[r]}catch(c){}});var d=o>0?!0:!1;if(!0===t.stringResult||"local"===i.p.datatype){var c='{"groupOp":"'+t.groupOp+'","rules":[',h=0;e.each(a,function(e,t){h>0&&(c+=","),c+='{"field":"'+e+'",',c+='"op":"'+l[e]+'",',c+='"data":"'+(t+"").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',h++}),c+="]}",e.extend(i.p.postData,{filters:c}),e.each(["searchField","searchString","searchOper"],function(e,t){i.p.postData.hasOwnProperty(t)&&delete i.p.postData[t]})}else e.extend(i.p.postData,a);var u;i.p.searchurl&&(u=i.p.url,e(i).jqGrid("setGridParam",{url:i.p.searchurl}));var p="stop"===e(i).triggerHandler("jqGridToolbarBeforeSearch")?!0:!1;!p&&e.isFunction(t.beforeSearch)&&(p=t.beforeSearch.call(i)),p||e(i).jqGrid("setGridParam",{search:d}).trigger("reloadGrid",[{page:1}]),u&&e(i).jqGrid("setGridParam",{url:u}),e(i).triggerHandler("jqGridToolbarAfterSearch"),e.isFunction(t.afterSearch)&&t.afterSearch.call(i)},n=function(s,n,a){e("#sopt_menu").remove();var o,l,n=parseInt(n,10),a=parseInt(a,10)+18,n='<ul id="sopt_menu" class="ui-search-menu" role="menu" tabindex="0" style="font-size:'+(e(".ui-jqgrid-view").css("font-size")||"11px")+";left:"+n+"px;top:"+a+'px;">',a=e(s).attr("soper"),d=[],c=0,h=e(s).attr("colname");for(o=i.p.colModel.length;o>c&&i.p.colModel[c].name!==h;)c++;for(c=i.p.colModel[c],h=e.extend({},c.searchoptions),h.sopt||(h.sopt=[],h.sopt[0]="select"===c.stype?"eq":t.defaultSearch),e.each(t.odata,function(){d.push(this.oper)}),c=0;c<h.sopt.length;c++)l=e.inArray(h.sopt[c],d),-1!==l&&(o=a===t.odata[l].oper?"ui-state-highlight":"",n+='<li class="ui-menu-item '+o+'" role="presentation"><a class="ui-corner-all g-menu-item" tabindex="0" role="menuitem" value="'+t.odata[l].oper+'" oper="'+t.operands[t.odata[l].oper]+'"><table cellspacing="0" cellpadding="0" border="0"><tr><td width="25px">'+t.operands[t.odata[l].oper]+"</td><td>"+t.odata[l].text+"</td></tr></table></a></li>");e("body").append(n+"</ul>"),e("#sopt_menu").addClass("ui-menu ui-widget ui-widget-content ui-corner-all"),e("#sopt_menu > li > a").hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}).click(function(){var n=e(this).attr("value"),a=e(this).attr("oper");e(i).triggerHandler("jqGridToolbarSelectOper",[n,a,s]),e("#sopt_menu").hide(),e(s).text(a).attr("soper",n),t.autosearch===!0&&(a=e(s).parent().next().children()[0],(e(a).val()||"nu"===n||"nn"===n)&&r())})},a=e("<tr class='ui-search-toolbar' role='rowheader'></tr>");e.each(i.p.colModel,function(){var n,o,l=this;o="";var d,c="=",h=e("<th role='columnheader' class='ui-state-default ui-th-column ui-th-"+i.p.direction+"'></th>"),u=e("<div style='position:relative;height:100%;padding-right:0.3em;padding-left:0.3em;'></div>"),p=e("<table class='ui-search-table' cellspacing='0'><tr><td class='ui-search-oper'></td><td class='ui-search-input'></td></tr></table>");if(!0===this.hidden&&e(h).css("display","none"),this.search=!1===this.search?!1:!0,void 0===this.stype&&(this.stype="text"),n=e.extend({},this.searchoptions||{}),this.search){if(t.searchOperators){for(o=n.sopt?n.sopt[0]:"select"===l.stype?"eq":t.defaultSearch,d=0;d<t.odata.length;d++)if(t.odata[d].oper===o){c=t.operands[o]||"";break}o="<a title='"+(null!=n.searchtitle?n.searchtitle:t.operandTitle)+"' style='padding-right: 0.5em;' soper='"+o+"' class='soptclass' colname='"+this.name+"'>"+c+"</a>"}switch(e("td:eq(0)",p).append(o),this.stype){case"select":if(o=this.surl||n.dataUrl)e.ajax(e.extend({url:o,dataType:"html",success:function(s){void 0!==n.buildSelect?(s=n.buildSelect(s))&&(e("td:eq(1)",p).append(s),e(u).append(p)):(e("td:eq(1)",p).append(s),e(u).append(p)),void 0!==n.defaultValue&&e("select",u).val(n.defaultValue),e("select",u).attr({name:l.index||l.name,id:"gs_"+l.name}),n.attr&&e("select",u).attr(n.attr),e("select",u).css({width:"100%"}),e.jgrid.bindEv.call(i,e("select",u)[0],n),t.autosearch===!0&&e("select",u).change(function(){return r(),!1}),s=null}},e.jgrid.ajaxOptions,i.p.ajaxSelectOptions||{}));else{var f,g,m;if(l.searchoptions?(f=void 0===l.searchoptions.value?"":l.searchoptions.value,g=void 0===l.searchoptions.separator?":":l.searchoptions.separator,m=void 0===l.searchoptions.delimiter?";":l.searchoptions.delimiter):l.editoptions&&(f=void 0===l.editoptions.value?"":l.editoptions.value,g=void 0===l.editoptions.separator?":":l.editoptions.separator,m=void 0===l.editoptions.delimiter?";":l.editoptions.delimiter),f){c=document.createElement("select"),c.style.width="100%",e(c).attr({name:l.index||l.name,id:"gs_"+l.name});var v;if("string"==typeof f)for(o=f.split(m),v=0;v<o.length;v++)f=o[v].split(g),m=document.createElement("option"),m.value=f[0],m.innerHTML=f[1],c.appendChild(m);else if("object"==typeof f)for(v in f)f.hasOwnProperty(v)&&(m=document.createElement("option"),m.value=v,m.innerHTML=f[v],c.appendChild(m));void 0!==n.defaultValue&&e(c).val(n.defaultValue),n.attr&&e(c).attr(n.attr),e.jgrid.bindEv.call(i,c,n),e("td:eq(1)",p).append(c),e(u).append(p),!0===t.autosearch&&e(c).change(function(){return r(),!1})}}break;case"text":g=void 0!==n.defaultValue?n.defaultValue:"",e("td:eq(1)",p).append("<input type='text' style='width:100%;padding:0px;' name='"+(l.index||l.name)+"' id='gs_"+l.name+"' value='"+g+"'/>"),e(u).append(p),n.attr&&e("input",u).attr(n.attr),e.jgrid.bindEv.call(i,e("input",u)[0],n),!0===t.autosearch&&(t.searchOnEnter?e("input",u).keypress(function(e){return 13===(e.charCode||e.keyCode||0)?(r(),!1):this}):e("input",u).keydown(function(e){switch(e.which){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:s&&clearTimeout(s),s=setTimeout(function(){r()},500)}}));break;case"custom":e("td:eq(1)",p).append("<span style='width:95%;padding:0px;' name='"+(l.index||l.name)+"' id='gs_"+l.name+"'/>"),e(u).append(p);try{if(!e.isFunction(n.custom_element))throw"e1";var b=n.custom_element.call(i,void 0!==n.defaultValue?n.defaultValue:"",n);if(!b)throw"e2";b=e(b).addClass("customelement"),e(u).find(">span").append(b)}catch(y){"e1"===y&&e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_element' "+e.jgrid.edit.msg.nodefined,e.jgrid.edit.bClose),"e2"===y?e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_element' "+e.jgrid.edit.msg.novalue,e.jgrid.edit.bClose):e.jgrid.info_dialog(e.jgrid.errors.errcap,"string"==typeof y?y:y.message,e.jgrid.edit.bClose)}}}e(h).append(u),e(a).append(h),t.searchOperators||e("td:eq(0)",p).hide()}),e("table thead",i.grid.hDiv).append(a),t.searchOperators&&(e(".soptclass").click(function(t){var i=e(this).offset();n(this,i.left,i.top),t.stopPropagation()}),e("body").on("click",function(t){"soptclass"!==t.target.className&&e("#sopt_menu").hide()})),this.ftoolbar=!0,this.triggerToolbar=r,this.clearToolbar=function(s){var r,n={},a=0,s="boolean"!=typeof s?!0:s;e.each(i.p.colModel,function(){var t,s=e("#gs_"+e.jgrid.jqID(this.name),this.frozen===!0&&i.p.frozenColumns===!0?i.grid.fhDiv:i.grid.hDiv);switch(this.searchoptions&&void 0!==this.searchoptions.defaultValue&&(t=this.searchoptions.defaultValue),r=this.index||this.name,this.stype){case"select":if(s.find("option").each(function(i){return 0===i&&(this.selected=!0),e(this).val()===t?(this.selected=!0,!1):void 0}),void 0!==t)n[r]=t,a++;else try{delete i.p.postData[r]}catch(o){}break;case"text":if(s.val(t),void 0!==t)n[r]=t,a++;else try{delete i.p.postData[r]}catch(l){}break;case"custom":e.isFunction(this.searchoptions.custom_value)&&s.length>0&&"SPAN"===s[0].nodeName.toUpperCase()&&this.searchoptions.custom_value.call(i,s.children(".customelement:first"),"set",t)}});var o=a>0?!0:!1;if(t.stringResult===!0||"local"===i.p.datatype){var l='{"groupOp":"'+t.groupOp+'","rules":[',d=0;e.each(n,function(e,t){d>0&&(l+=","),l+='{"field":"'+e+'",',l+='"op":"eq",',l+='"data":"'+(t+"").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',d++}),l+="]}",e.extend(i.p.postData,{filters:l}),e.each(["searchField","searchString","searchOper"],function(e,t){i.p.postData.hasOwnProperty(t)&&delete i.p.postData[t]})}else e.extend(i.p.postData,n);var c;i.p.searchurl&&(c=i.p.url,e(i).jqGrid("setGridParam",{url:i.p.searchurl}));var h="stop"===e(i).triggerHandler("jqGridToolbarBeforeClear")?!0:!1;!h&&e.isFunction(t.beforeClear)&&(h=t.beforeClear.call(i)),h||s&&e(i).jqGrid("setGridParam",{search:o}).trigger("reloadGrid",[{page:1}]),c&&e(i).jqGrid("setGridParam",{url:c}),e(i).triggerHandler("jqGridToolbarAfterClear"),e.isFunction(t.afterClear)&&t.afterClear()},this.toggleToolbar=function(){var t=e("tr.ui-search-toolbar",i.grid.hDiv),s=i.p.frozenColumns===!0?e("tr.ui-search-toolbar",i.grid.fhDiv):!1;"none"===t.css("display")?(t.show(),s&&s.show()):(t.hide(),s&&s.hide())}}})},destroyFilterToolbar:function(){return this.each(function(){this.ftoolbar&&(this.toggleToolbar=this.clearToolbar=this.triggerToolbar=null,this.ftoolbar=!1,e(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove())})},destroyGroupHeader:function(t){return void 0===t&&(t=!0),this.each(function(){var i,s,r,n,a,o;s=this.grid;var l=e("table.ui-jqgrid-htable thead",s.hDiv),d=this.p.colModel;if(s){for(e(this).unbind(".setGroupHeaders"),i=e("<tr>",{role:"rowheader"}).addClass("ui-jqgrid-labels"),n=s.headers,s=0,r=n.length;r>s;s++){a=d[s].hidden?"none":"",a=e(n[s].el).width(n[s].width).css("display",a);try{a.removeAttr("rowSpan")}catch(c){a.attr("rowSpan",1)}i.append(a),o=a.children("span.ui-jqgrid-resize"),0<o.length&&(o[0].style.height=""),a.children("div")[0].style.top=""}e(l).children("tr.ui-jqgrid-labels").remove(),e(l).prepend(i),!0===t&&e(this).jqGrid("setGridParam",{groupHeader:null})}})},setGroupHeaders:function(t){return t=e.extend({useColSpanStyle:!1,groupHeaders:[]},t||{}),this.each(function(){this.p.groupHeader=t;var i,s,r,n,a,o,l,d=0,c=this.p.colModel,h=c.length,u=this.grid.headers,p=e("table.ui-jqgrid-htable",this.grid.hDiv),f=p.children("thead").children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header");r=p.children("thead");var g=p.find(".jqg-first-row-header");void 0===g[0]?g=e("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):g.empty();var m,v=function(e,t){var i,s=t.length;for(i=0;s>i;i++)if(t[i].startColumnName===e)return i;return-1};for(e(this).prepend(r),r=e("<tr>",{role:"rowheader"}).addClass("ui-jqgrid-labels jqg-third-row-header"),i=0;h>i;i++)if(a=u[i].el,o=e(a),s=c[i],n={height:"0px",width:u[i].width+"px",display:s.hidden?"none":""},e("<th>",{role:"gridcell"}).css(n).addClass("ui-first-th-"+this.p.direction).appendTo(g),a.style.width="",n=v(s.name,t.groupHeaders),n>=0){for(n=t.groupHeaders[n],d=n.numberOfColumns,l=n.titleText,n=s=0;d>n&&h>i+n;n++)c[i+n].hidden||s++;n=e("<th>").attr({role:"columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-"+this.p.direction).css({height:"22px","border-top":"0px none"}).html(l),s>0&&n.attr("colspan",""+s),this.p.headertitles&&n.attr("title",n.text()),0===s&&n.hide(),o.before(n),r.append(a),d-=1}else 0===d?t.useColSpanStyle?o.attr("rowspan","2"):(e("<th>",{role:"columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-"+this.p.direction).css({display:s.hidden?"none":"","border-top":"0px none"}).insertBefore(o),r.append(a)):(r.append(a),d--);c=e(this).children("thead"),c.prepend(g),r.insertAfter(f),p.append(c),t.useColSpanStyle&&(p.find("span.ui-jqgrid-resize").each(function(){var t=e(this).parent();t.is(":visible")&&(this.style.cssText="height: "+t.height()+"px !important; cursor: col-resize;")}),p.find("div.ui-jqgrid-sortable").each(function(){var t=e(this),i=t.parent();i.is(":visible")&&i.is(":has(span.ui-jqgrid-resize)")&&t.css("top",(i.height()-t.outerHeight())/2+"px")})),m=c.find("tr.jqg-first-row-header"),e(this).bind("jqGridResizeStop.setGroupHeaders",function(e,t,i){m.find("th").eq(i).width(t)})})},setFrozenColumns:function(){return this.each(function(){if(this.grid){var t=this,i=t.p.colModel,s=0,r=i.length,n=-1,a=!1;if(!(!0===t.p.subGrid||!0===t.p.treeGrid||!0===t.p.cellEdit||t.p.sortable||t.p.scroll||t.p.grouping)){for(t.p.rownumbers&&s++,t.p.multiselect&&s++;r>s&&!0===i[s].frozen;)a=!0,n=s,s++;if(n>=0&&a){if(i=t.p.caption?e(t.grid.cDiv).outerHeight():0,s=e(".ui-jqgrid-htable","#gview_"+e.jgrid.jqID(t.p.id)).height(),t.p.toppager&&(i+=e(t.grid.topDiv).outerHeight()),!0===t.p.toolbar[0]&&"bottom"!==t.p.toolbar[1]&&(i+=e(t.grid.uDiv).outerHeight()),t.grid.fhDiv=e('<div style="position:absolute;left:0px;top:'+i+"px;height:"+s+'px;" class="frozen-div ui-state-default ui-jqgrid-hdiv"></div>'),t.grid.fbDiv=e('<div style="position:absolute;left:0px;top:'+(parseInt(i,10)+parseInt(s,10)+1)+'px;overflow-y:hidden" class="frozen-bdiv ui-jqgrid-bdiv"></div>'),e("#gview_"+e.jgrid.jqID(t.p.id)).append(t.grid.fhDiv),i=e(".ui-jqgrid-htable","#gview_"+e.jgrid.jqID(t.p.id)).clone(!0),t.p.groupHeader){e("tr.jqg-first-row-header, tr.jqg-third-row-header",i).each(function(){e("th:gt("+n+")",this).remove()});var o,l,d=-1,c=-1;e("tr.jqg-second-row-header th",i).each(function(){return o=parseInt(e(this).attr("colspan"),10),(l=parseInt(e(this).attr("rowspan"),10))&&(d++,c++),o&&(d+=o,c++),d===n?!1:void 0}),d!==n&&(c=n),e("tr.jqg-second-row-header",i).each(function(){e("th:gt("+c+")",this).remove()})}else e("tr",i).each(function(){e("th:gt("+n+")",this).remove()});e(i).width(1),e(t.grid.fhDiv).append(i).mousemove(function(e){return t.grid.resizing?(t.grid.dragMove(e),!1):void 0}),e(t).bind("jqGridResizeStop.setFrozenColumns",function(i,s,r){i=e(".ui-jqgrid-htable",t.grid.fhDiv),e("th:eq("+r+")",i).width(s),i=e(".ui-jqgrid-btable",t.grid.fbDiv),e("tr:first td:eq("+r+")",i).width(s)}),e(t).bind("jqGridOnSortCol.setFrozenColumns",function(i,s,r){i=e("tr.ui-jqgrid-labels:last th:eq("+t.p.lastsort+")",t.grid.fhDiv),s=e("tr.ui-jqgrid-labels:last th:eq("+r+")",t.grid.fhDiv),e("span.ui-grid-ico-sort",i).addClass("ui-state-disabled"),e(i).attr("aria-selected","false"),e("span.ui-icon-"+t.p.sortorder,s).removeClass("ui-state-disabled"),e(s).attr("aria-selected","true"),!t.p.viewsortcols[0]&&t.p.lastsort!==r&&(e("span.s-ico",i).hide(),e("span.s-ico",s).show())}),e("#gview_"+e.jgrid.jqID(t.p.id)).append(t.grid.fbDiv),e(t.grid.bDiv).scroll(function(){e(t.grid.fbDiv).scrollTop(e(this).scrollTop())}),!0===t.p.hoverrows&&e("#"+e.jgrid.jqID(t.p.id)).unbind("mouseover").unbind("mouseout"),e(t).bind("jqGridAfterGridComplete.setFrozenColumns",function(){e("#"+e.jgrid.jqID(t.p.id)+"_frozen").remove(),e(t.grid.fbDiv).height(e(t.grid.bDiv).height()-16);var i=e("#"+e.jgrid.jqID(t.p.id)).clone(!0);e("tr",i).each(function(){e("td:gt("+n+")",this).remove()}),e(i).width(1).attr("id",t.p.id+"_frozen"),e(t.grid.fbDiv).append(i),!0===t.p.hoverrows&&(e("tr.jqgrow",i).hover(function(){e(this).addClass("ui-state-hover"),e("#"+e.jgrid.jqID(this.id),"#"+e.jgrid.jqID(t.p.id)).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover"),e("#"+e.jgrid.jqID(this.id),"#"+e.jgrid.jqID(t.p.id)).removeClass("ui-state-hover")}),e("tr.jqgrow","#"+e.jgrid.jqID(t.p.id)).hover(function(){e(this).addClass("ui-state-hover"),e("#"+e.jgrid.jqID(this.id),"#"+e.jgrid.jqID(t.p.id)+"_frozen").addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover"),e("#"+e.jgrid.jqID(this.id),"#"+e.jgrid.jqID(t.p.id)+"_frozen").removeClass("ui-state-hover")})),i=null}),t.p.frozenColumns=!0}}}})},destroyFrozenColumns:function(){return this.each(function(){if(this.grid&&!0===this.p.frozenColumns){if(e(this.grid.fhDiv).remove(),e(this.grid.fbDiv).remove(),this.grid.fhDiv=null,this.grid.fbDiv=null,e(this).unbind(".setFrozenColumns"),!0===this.p.hoverrows){var t;e("#"+e.jgrid.jqID(this.p.id)).bind("mouseover",function(i){t=e(i.target).closest("tr.jqgrow"),"ui-subgrid"!==e(t).attr("class")&&e(t).addClass("ui-state-hover")}).bind("mouseout",function(i){t=e(i.target).closest("tr.jqgrow"),e(t).removeClass("ui-state-hover")})}this.p.frozenColumns=!1}})}})}(jQuery),function(e){e.extend(e.jgrid,{showModal:function(e){e.w.show()},closeModal:function(e){e.w.hide().attr("aria-hidden","true"),e.o&&e.o.remove()},hideModal:function(t,i){if(i=e.extend({jqm:!0,gb:""},i||{}),i.onClose){var s=i.gb&&"string"==typeof i.gb&&"#gbox_"===i.gb.substr(0,6)?i.onClose.call(e("#"+i.gb.substr(6))[0],t):i.onClose(t);if("boolean"==typeof s&&!s)return}if(e.fn.jqm&&!0===i.jqm)e(t).attr("aria-hidden","true").jqmHide();else{if(""!==i.gb)try{e(".jqgrid-overlay:first",i.gb).hide()}catch(r){}e(t).hide().attr("aria-hidden","true")}},findPos:function(e){var t=0,i=0;if(e.offsetParent)do t+=e.offsetLeft,i+=e.offsetTop;while(e=e.offsetParent);return[t,i]},createModal:function(t,i,s,r,n,a,o){var l,s=e.extend(!0,{},e.jgrid.jqModal||{},s),d=document.createElement("div"),c=this,o=e.extend({},o||{});l="rtl"===e(s.gbox).attr("dir")?!0:!1,d.className="ui-widget ui-widget-content ui-corner-all ui-jqdialog",d.id=t.themodal;var h=document.createElement("div");h.className="ui-jqdialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix",h.id=t.modalhead,e(h).append("<span class='ui-jqdialog-title'>"+s.caption+"</span>");var u=e("<a href='javascript:void(0)' class='ui-jqdialog-titlebar-close ui-corner-all'></a>").hover(function(){u.addClass("ui-state-hover")},function(){u.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-closethick'></span>");e(h).append(u),l?(d.dir="rtl",e(".ui-jqdialog-title",h).css("float","right"),e(".ui-jqdialog-titlebar-close",h).css("left","0.3em")):(d.dir="ltr",e(".ui-jqdialog-title",h).css("float","left"),e(".ui-jqdialog-titlebar-close",h).css("right","0.3em"));var p=document.createElement("div");if(e(p).addClass("ui-jqdialog-content ui-widget-content").attr("id",t.modalcontent),e(p).append(i),d.appendChild(p),e(d).prepend(h),!0===a?e("body").append(d):"string"==typeof a?e(a).append(d):e(d).insertBefore(r),e(d).css(o),void 0===s.jqModal&&(s.jqModal=!0),i={},e.fn.jqm&&!0===s.jqModal?(0===s.left&&0===s.top&&s.overlay&&(o=[],o=e.jgrid.findPos(n),s.left=o[0]+4,s.top=o[1]+4),i.top=s.top+"px",i.left=s.left):(0!==s.left||0!==s.top)&&(i.left=s.left,i.top=s.top+"px"),e("a.ui-jqdialog-titlebar-close",h).click(function(){var i=e("#"+e.jgrid.jqID(t.themodal)).data("onClose")||s.onClose,r=e("#"+e.jgrid.jqID(t.themodal)).data("gbox")||s.gbox;return c.hideModal("#"+e.jgrid.jqID(t.themodal),{gb:r,jqm:s.jqModal,onClose:i}),!1}),0!==s.width&&s.width||(s.width=300),0!==s.height&&s.height||(s.height=200),s.zIndex||(r=e(r).parents("*[role=dialog]").filter(":first").css("z-index"),s.zIndex=r?parseInt(r,10)+2:950),r=0,l&&i.left&&!a&&(r=e(s.gbox).width()-(isNaN(s.width)?0:parseInt(s.width,10))-8,i.left=parseInt(i.left,10)+parseInt(r,10)),i.left&&(i.left+="px"),e(d).css(e.extend({width:isNaN(s.width)?"auto":s.width+"px",height:isNaN(s.height)?"auto":s.height+"px",zIndex:s.zIndex,overflow:"hidden"},i)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":t.modalhead,"aria-hidden":"true"}),void 0===s.drag&&(s.drag=!0),void 0===s.resize&&(s.resize=!0),s.drag)if(e(h).css("cursor","move"),e.fn.jqDrag)e(d).jqDrag(h);else try{e(d).draggable({handle:e("#"+e.jgrid.jqID(h.id))})}catch(f){}if(s.resize)if(e.fn.jqResize)e(d).append("<div class='jqResize ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se'></div>"),e("#"+e.jgrid.jqID(t.themodal)).jqResize(".jqResize",t.scrollelm?"#"+e.jgrid.jqID(t.scrollelm):!1);else try{
e(d).resizable({handles:"se, sw",alsoResize:t.scrollelm?"#"+e.jgrid.jqID(t.scrollelm):!1})}catch(g){}!0===s.closeOnEscape&&e(d).keydown(function(i){27==i.which&&(i=e("#"+e.jgrid.jqID(t.themodal)).data("onClose")||s.onClose,c.hideModal("#"+e.jgrid.jqID(t.themodal),{gb:s.gbox,jqm:s.jqModal,onClose:i}))})},viewModal:function(t,i){if(i=e.extend({toTop:!0,overlay:10,modal:!1,overlayClass:"ui-widget-overlay",onShow:e.jgrid.showModal,onHide:e.jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},i||{}),e.fn.jqm&&!0===i.jqm)i.jqM?e(t).attr("aria-hidden","false").jqm(i).jqmShow():e(t).attr("aria-hidden","false").jqmShow();else{""!==i.gbox&&(e(".jqgrid-overlay:first",i.gbox).show(),e(t).data("gbox",i.gbox)),e(t).show().attr("aria-hidden","false");try{e(":input:visible",t)[0].focus()}catch(s){}}},info_dialog:function(t,i,s,r){var n={width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]};e.extend(!0,n,e.jgrid.jqModal||{},{caption:"<b>"+t+"</b>"},r||{});var a=n.jqModal,o=this;if(e.fn.jqm&&!a&&(a=!1),t="",0<n.buttons.length)for(r=0;r<n.buttons.length;r++)void 0===n.buttons[r].id&&(n.buttons[r].id="info_button_"+r),t+="<a href='javascript:void(0)' id='"+n.buttons[r].id+"' class='fm-button ui-state-default ui-corner-all'>"+n.buttons[r].text+"</a>";r=isNaN(n.dataheight)?n.dataheight:n.dataheight+"px",i="<div id='info_id'>"+("<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+r+";"+("text-align:"+n.align+";")+"'>"+i+"</div>"),i+=s?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+n.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a href='javascript:void(0)' id='closedialog' class='fm-button ui-state-default ui-corner-all'>"+s+"</a>"+t+"</div>":""!==t?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+n.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+t+"</div>":"",i+="</div>";try{"false"===e("#info_dialog").attr("aria-hidden")&&e.jgrid.hideModal("#info_dialog",{jqm:a}),e("#info_dialog").remove()}catch(l){}e.jgrid.createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},i,n,"","",!0),t&&e.each(n.buttons,function(t){e("#"+e.jgrid.jqID(this.id),"#info_id").bind("click",function(){return n.buttons[t].onClick.call(e("#info_dialog")),!1})}),e("#closedialog","#info_id").click(function(){return o.hideModal("#info_dialog",{jqm:a,onClose:e("#info_dialog").data("onClose")||n.onClose,gb:e("#info_dialog").data("gbox")||n.gbox}),!1}),e(".fm-button","#info_dialog").hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),e.isFunction(n.beforeOpen)&&n.beforeOpen(),e.jgrid.viewModal("#info_dialog",{onHide:function(e){e.w.hide().remove(),e.o&&e.o.remove()},modal:n.modal,jqm:a}),e.isFunction(n.afterOpen)&&n.afterOpen();try{e("#info_dialog").focus()}catch(d){}},bindEv:function(t,i){e.isFunction(i.dataInit)&&i.dataInit.call(this,t),i.dataEvents&&e.each(i.dataEvents,function(){void 0!==this.data?e(t).bind(this.type,this.data,this.fn):e(t).bind(this.type,this.fn)})},createEl:function(t,i,s,r,n){function a(t,i,s){var r="dataInit,dataEvents,dataUrl,buildSelect,sopt,searchhidden,defaultValue,attr,custom_element,custom_value".split(",");void 0!==s&&e.isArray(s)&&e.merge(r,s),e.each(i,function(i,s){-1===e.inArray(i,r)&&e(t).attr(i,s)}),i.hasOwnProperty("id")||e(t).attr("id",e.jgrid.randId())}var o="",l=this;switch(t){case"textarea":o=document.createElement("textarea"),r?i.cols||e(o).css({width:"98%"}):i.cols||(i.cols=20),i.rows||(i.rows=2),("&nbsp;"===s||"&#160;"===s||1===s.length&&160===s.charCodeAt(0))&&(s=""),o.value=s,a(o,i),e(o).attr({role:"textbox",multiline:"true"});break;case"checkbox":o=document.createElement("input"),o.type="checkbox",i.value?(t=i.value.split(":"),s===t[0]&&(o.checked=!0,o.defaultChecked=!0),o.value=t[0],e(o).attr("offval",t[1])):(t=s.toLowerCase(),0>t.search(/(false|f|0|no|n|off|undefined)/i)&&""!==t?(o.checked=!0,o.defaultChecked=!0,o.value=s):o.value="on",e(o).attr("offval","off")),a(o,i,["value"]),e(o).attr("role","checkbox");break;case"select":if(o=document.createElement("select"),o.setAttribute("role","select"),r=[],!0===i.multiple?(t=!0,o.multiple="multiple",e(o).attr("aria-multiselectable","true")):t=!1,void 0!==i.dataUrl)t=i.name?(""+i.id).substring(0,(""+i.id).length-(""+i.name).length-1):""+i.id,r=i.postData||n.postData,l.p&&l.p.idPrefix?t=e.jgrid.stripPref(l.p.idPrefix,t):r=void 0,e.ajax(e.extend({url:i.dataUrl,type:"GET",dataType:"html",data:e.isFunction(r)?r.call(l,t,s,""+i.name):r,context:{elem:o,options:i,vl:s},success:function(t){var i=[],s=this.elem,r=this.vl,n=e.extend({},this.options),o=n.multiple===!0,t=e.isFunction(n.buildSelect)?n.buildSelect.call(l,t):t;"string"==typeof t&&(t=e(e.trim(t)).html()),t&&(e(s).append(t),a(s,n),void 0===n.size&&(n.size=o?3:1),o?(i=r.split(","),i=e.map(i,function(t){return e.trim(t)})):i[0]=e.trim(r),setTimeout(function(){e("option",s).each(function(t){0===t&&s.multiple&&(this.selected=!1),e(this).attr("role","option"),(e.inArray(e.trim(e(this).text()),i)>-1||e.inArray(e.trim(e(this).val()),i)>-1)&&(this.selected="selected")})},0))}},n||{}));else if(i.value){var d;void 0===i.size&&(i.size=t?3:1),t&&(r=s.split(","),r=e.map(r,function(t){return e.trim(t)})),"function"==typeof i.value&&(i.value=i.value());var c,h,u=void 0===i.separator?":":i.separator,n=void 0===i.delimiter?";":i.delimiter;if("string"==typeof i.value)for(c=i.value.split(n),d=0;d<c.length;d++)h=c[d].split(u),2<h.length&&(h[1]=e.map(h,function(e,t){return t>0?e:void 0}).join(u)),n=document.createElement("option"),n.setAttribute("role","option"),n.value=h[0],n.innerHTML=h[1],o.appendChild(n),t||e.trim(h[0])!==e.trim(s)&&e.trim(h[1])!==e.trim(s)||(n.selected="selected"),t&&(-1<e.inArray(e.trim(h[1]),r)||-1<e.inArray(e.trim(h[0]),r))&&(n.selected="selected");else if("object"==typeof i.value)for(d in u=i.value)u.hasOwnProperty(d)&&(n=document.createElement("option"),n.setAttribute("role","option"),n.value=d,n.innerHTML=u[d],o.appendChild(n),t||e.trim(d)!==e.trim(s)&&e.trim(u[d])!==e.trim(s)||(n.selected="selected"),t&&(-1<e.inArray(e.trim(u[d]),r)||-1<e.inArray(e.trim(d),r))&&(n.selected="selected"));a(o,i,["value"])}break;case"text":case"password":case"button":d="button"===t?"button":"textbox",o=document.createElement("input"),o.type=t,o.value=s,a(o,i),"button"!==t&&(r?i.size||e(o).css({width:"98%"}):i.size||(i.size=20)),e(o).attr("role",d);break;case"image":case"file":o=document.createElement("input"),o.type=t,a(o,i);break;case"custom":o=document.createElement("span");try{if(!e.isFunction(i.custom_element))throw"e1";if(!(u=i.custom_element.call(l,s,i)))throw"e2";u=e(u).addClass("customelement").attr({id:i.id,name:i.name}),e(o).empty().append(u)}catch(p){"e1"===p&&e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_element' "+e.jgrid.edit.msg.nodefined,e.jgrid.edit.bClose),"e2"===p?e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_element' "+e.jgrid.edit.msg.novalue,e.jgrid.edit.bClose):e.jgrid.info_dialog(e.jgrid.errors.errcap,"string"==typeof p?p:p.message,e.jgrid.edit.bClose)}}return o},checkDate:function(e,t){var i,s={},e=e.toLowerCase();if(i=-1!==e.indexOf("/")?"/":-1!==e.indexOf("-")?"-":-1!==e.indexOf(".")?".":"/",e=e.split(i),t=t.split(i),3!==t.length)return!1;i=-1;var r,n,a=-1,o=-1;for(n=0;n<e.length;n++)r=isNaN(t[n])?0:parseInt(t[n],10),s[e[n]]=r,r=e[n],-1!==r.indexOf("y")&&(i=n),-1!==r.indexOf("m")&&(o=n),-1!==r.indexOf("d")&&(a=n);r="y"===e[i]||"yyyy"===e[i]?4:"yy"===e[i]?2:-1,n=[0,31,29,31,30,31,30,31,31,30,31,30,31];var l;return-1===i?!1:(l=s[e[i]].toString(),2===r&&1===l.length&&(r=1),l.length!==r||0===s[e[i]]&&"00"!==t[i]||-1===o?!1:(l=s[e[o]].toString(),1>l.length||1>s[e[o]]||12<s[e[o]]||-1===a?!1:(l=s[e[a]].toString(),1>l.length||1>s[e[a]]||31<s[e[a]]||2===s[e[o]]&&s[e[a]]>(0!==s[e[i]]%4||0===s[e[i]]%100&&0!==s[e[i]]%400?28:29)||s[e[a]]>n[s[e[o]]]?!1:!0)))},isEmpty:function(e){return e.match(/^\s+$/)||""===e?!0:!1},checkTime:function(t){var i=/^(\d{1,2}):(\d{2})([apAP][Mm])?$/;if(!e.jgrid.isEmpty(t)){if(!(t=t.match(i)))return!1;if(t[3]){if(1>t[1]||12<t[1])return!1}else if(23<t[1])return!1;if(59<t[2])return!1}return!0},checkValues:function(t,i,s,r){var n,a,o;if(o=this.p.colModel,void 0===s)if("string"==typeof i){for(s=0,r=o.length;r>s;s++)if(o[s].name===i){n=o[s].editrules,i=s,null!=o[s].formoptions&&(a=o[s].formoptions.label);break}}else i>=0&&(n=o[i].editrules);else n=s,a=void 0===r?"_":r;if(n){if(a||(a=null!=this.p.colNames?this.p.colNames[i]:o[i].label),!0===n.required&&e.jgrid.isEmpty(t))return[!1,a+": "+e.jgrid.edit.msg.required,""];if(s=!1===n.required?!1:!0,!0===n.number&&(!1!==s||!e.jgrid.isEmpty(t))&&isNaN(t))return[!1,a+": "+e.jgrid.edit.msg.number,""];if(void 0!==n.minValue&&!isNaN(n.minValue)&&parseFloat(t)<parseFloat(n.minValue))return[!1,a+": "+e.jgrid.edit.msg.minValue+" "+n.minValue,""];if(void 0!==n.maxValue&&!isNaN(n.maxValue)&&parseFloat(t)>parseFloat(n.maxValue))return[!1,a+": "+e.jgrid.edit.msg.maxValue+" "+n.maxValue,""];if(!(!0!==n.email||!1===s&&e.jgrid.isEmpty(t)||(r=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,r.test(t))))return[!1,a+": "+e.jgrid.edit.msg.email,""];if(!0===n.integer&&(!1!==s||!e.jgrid.isEmpty(t))&&(isNaN(t)||0!==t%1||-1!==t.indexOf(".")))return[!1,a+": "+e.jgrid.edit.msg.integer,""];if(!(!0!==n.date||!1===s&&e.jgrid.isEmpty(t)||(o[i].formatoptions&&o[i].formatoptions.newformat?(o=o[i].formatoptions.newformat,e.jgrid.formatter.date.masks.hasOwnProperty(o)&&(o=e.jgrid.formatter.date.masks[o])):o=o[i].datefmt||"Y-m-d",e.jgrid.checkDate(o,t))))return[!1,a+": "+e.jgrid.edit.msg.date+" - "+o,""];if(!(!0!==n.time||!1===s&&e.jgrid.isEmpty(t)||e.jgrid.checkTime(t)))return[!1,a+": "+e.jgrid.edit.msg.date+" - hh:mm (am/pm)",""];if(!(!0!==n.url||!1===s&&e.jgrid.isEmpty(t)||(r=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i,r.test(t))))return[!1,a+": "+e.jgrid.edit.msg.url,""];if(!0===n.custom&&(!1!==s||!e.jgrid.isEmpty(t)))return e.isFunction(n.custom_func)?(t=n.custom_func.call(this,t,a,i),e.isArray(t)?t:[!1,e.jgrid.edit.msg.customarray,""]):[!1,e.jgrid.edit.msg.customfcheck,""]}return[!0,"",""]}})}(jQuery),function(e){var t={};e.jgrid.extend({searchGrid:function(t){return t=e.extend(!0,{recreateFilter:!1,drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,jqModal:!0,modal:!1,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,toTop:!0,overlay:30,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null,operands:{eq:"=",ne:"<>",lt:"<",le:"<=",gt:">",ge:">=",bw:"LIKE",bn:"NOT LIKE","in":"IN",ni:"NOT IN",ew:"LIKE",en:"NOT LIKE",cn:"LIKE",nc:"NOT LIKE",nu:"IS NULL",nn:"ISNOT NULL"}},e.jgrid.search,t||{}),this.each(function(){function i(i){n=e(s).triggerHandler("jqGridFilterBeforeShow",[i]),void 0===n&&(n=!0),n&&e.isFunction(t.beforeShowSearch)&&(n=t.beforeShowSearch.call(s,i)),n&&(e.jgrid.viewModal("#"+e.jgrid.jqID(a.themodal),{gbox:"#gbox_"+e.jgrid.jqID(r),jqm:t.jqModal,modal:t.modal,overlay:t.overlay,toTop:t.toTop}),e(s).triggerHandler("jqGridFilterAfterShow",[i]),e.isFunction(t.afterShowSearch)&&t.afterShowSearch.call(s,i))}var s=this;if(s.grid){var r="fbox_"+s.p.id,n=!0,a={themodal:"searchmod"+r,modalhead:"searchhd"+r,modalcontent:"searchcnt"+r,scrollelm:r},o=s.p.postData[t.sFilter];if("string"==typeof o&&(o=e.jgrid.parse(o)),!0===t.recreateFilter&&e("#"+e.jgrid.jqID(a.themodal)).remove(),void 0!==e("#"+e.jgrid.jqID(a.themodal))[0])i(e("#fbox_"+e.jgrid.jqID(+s.p.id)));else{var l=e("<div><div id='"+r+"' class='searchFilter' style='overflow:auto'></div></div>").insertBefore("#gview_"+e.jgrid.jqID(s.p.id)),d="left",c="";"rtl"===s.p.direction&&(d="right",c=" style='text-align:left'",l.attr("dir","rtl"));var h,u=e.extend([],s.p.colModel),p="<a href='javascript:void(0)' id='"+r+"_search' class='fm-button ui-state-default ui-corner-all fm-button-icon-right ui-reset'><span class='ui-icon ui-icon-search'></span>"+t.Find+"</a>",f="<a href='javascript:void(0)' id='"+r+"_reset' class='fm-button ui-state-default ui-corner-all fm-button-icon-left ui-search'><span class='ui-icon ui-icon-arrowreturnthick-1-w'></span>"+t.Reset+"</a>",g="",m="",v=!1,b=-1;if(t.showQuery&&(g="<a href='javascript:void(0)' id='"+r+"_query' class='fm-button ui-state-default ui-corner-all fm-button-icon-left'><span class='ui-icon ui-icon-comment'></span>Query</a>"),t.columns.length?(u=t.columns,b=0,h=u[0].index||u[0].name):e.each(u,function(e,t){if(t.label||(t.label=s.p.colNames[e]),!v){var i=void 0===t.search?!0:t.search,r=t.hidden===!0;(t.searchoptions&&t.searchoptions.searchhidden===!0&&i||i&&!r)&&(v=!0,h=t.index||t.name,b=e)}}),!o&&h||!1===t.multipleSearch){var y="eq";b>=0&&u[b].searchoptions&&u[b].searchoptions.sopt?y=u[b].searchoptions.sopt[0]:t.sopt&&t.sopt.length&&(y=t.sopt[0]),o={groupOp:"AND",rules:[{field:h,op:y,data:""}]}}v=!1,t.tmplNames&&t.tmplNames.length&&(v=!0,m=t.tmplLabel,m+="<select class='ui-template'>",m+="<option value='default'>Default</option>",e.each(t.tmplNames,function(e,t){m+="<option value='"+e+"'>"+t+"</option>"}),m+="</select>"),d="<table class='EditTable' style='border:0px none;margin-top:5px' id='"+r+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='EditButton' style='text-align:"+d+"'>"+f+m+"</td><td class='EditButton' "+c+">"+g+p+"</td></tr></tbody></table>",r=e.jgrid.jqID(r),e("#"+r).jqFilter({columns:u,filter:t.loadDefaults?o:null,showQuery:t.showQuery,errorcheck:t.errorcheck,sopt:t.sopt,groupButton:t.multipleGroup,ruleButtons:t.multipleSearch,afterRedraw:t.afterRedraw,ops:t.odata,operands:t.operands,ajaxSelectOptions:s.p.ajaxSelectOptions,groupOps:t.groupOps,onChange:function(){this.p.showQuery&&e(".query",this).html(this.toUserFriendlyString()),e.isFunction(t.afterChange)&&t.afterChange.call(s,e("#"+r),t)},direction:s.p.direction,id:s.p.id}),l.append(d),v&&t.tmplFilters&&t.tmplFilters.length&&e(".ui-template",l).bind("change",function(){var i=e(this).val();return"default"===i?e("#"+r).jqFilter("addFilter",o):e("#"+r).jqFilter("addFilter",t.tmplFilters[parseInt(i,10)]),!1}),!0===t.multipleGroup&&(t.multipleSearch=!0),e(s).triggerHandler("jqGridFilterInitialize",[e("#"+r)]),e.isFunction(t.onInitializeSearch)&&t.onInitializeSearch.call(s,e("#"+r)),t.gbox="#gbox_"+r,t.layer?e.jgrid.createModal(a,l,t,"#gview_"+e.jgrid.jqID(s.p.id),e("#gbox_"+e.jgrid.jqID(s.p.id))[0],"#"+e.jgrid.jqID(t.layer),{position:"relative"}):e.jgrid.createModal(a,l,t,"#gview_"+e.jgrid.jqID(s.p.id),e("#gbox_"+e.jgrid.jqID(s.p.id))[0]),(t.searchOnEnter||t.closeOnEscape)&&e("#"+e.jgrid.jqID(a.themodal)).keydown(function(i){var s=e(i.target);return!t.searchOnEnter||13!==i.which||s.hasClass("add-group")||s.hasClass("add-rule")||s.hasClass("delete-group")||s.hasClass("delete-rule")||s.hasClass("fm-button")&&s.is("[id$=_query]")?t.closeOnEscape&&27===i.which?(e("#"+e.jgrid.jqID(a.modalhead)).find(".ui-jqdialog-titlebar-close").focus().click(),!1):void 0:(e("#"+r+"_search").focus().click(),!1)}),g&&e("#"+r+"_query").bind("click",function(){return e(".queryresult",l).toggle(),!1}),void 0===t.stringResult&&(t.stringResult=t.multipleSearch),e("#"+r+"_search").bind("click",function(){var i,n=e("#"+r),o={},l=n.jqFilter("filterData");if(t.errorcheck&&(n[0].hideError(),t.showQuery||n.jqFilter("toSQLString"),n[0].p.error))return n[0].showError(),!1;if(t.stringResult){try{i=xmlJsonClass.toJson(l,"","",!1)}catch(d){try{i=JSON.stringify(l)}catch(c){}}"string"==typeof i&&(o[t.sFilter]=i,e.each([t.sField,t.sValue,t.sOper],function(){o[this]=""}))}else t.multipleSearch?(o[t.sFilter]=l,e.each([t.sField,t.sValue,t.sOper],function(){o[this]=""})):(o[t.sField]=l.rules[0].field,o[t.sValue]=l.rules[0].data,o[t.sOper]=l.rules[0].op,o[t.sFilter]="");return s.p.search=!0,e.extend(s.p.postData,o),e(s).triggerHandler("jqGridFilterSearch"),e.isFunction(t.onSearch)&&t.onSearch.call(s),e(s).trigger("reloadGrid",[{page:1}]),t.closeAfterSearch&&e.jgrid.hideModal("#"+e.jgrid.jqID(a.themodal),{gb:"#gbox_"+e.jgrid.jqID(s.p.id),jqm:t.jqModal,onClose:t.onClose}),!1}),e("#"+r+"_reset").bind("click",function(){var i={},n=e("#"+r);return s.p.search=!1,t.multipleSearch===!1?i[t.sField]=i[t.sValue]=i[t.sOper]="":i[t.sFilter]="",n[0].resetFilter(),v&&e(".ui-template",l).val("default"),e.extend(s.p.postData,i),e(s).triggerHandler("jqGridFilterReset"),e.isFunction(t.onReset)&&t.onReset.call(s),e(s).trigger("reloadGrid",[{page:1}]),!1}),i(e("#"+r)),e(".fm-button:not(.ui-state-disabled)",l).hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")})}}})},editGridRow:function(i,s){return s=e.extend(!0,{top:0,left:0,width:300,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},recreateForm:!1,jqModal:!0,closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",saveicon:[],closeicon:[],savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0,overlayClass:"ui-widget-overlay"},e.jgrid.edit,s||{}),t[e(this)[0].p.id]=s,this.each(function(){function r(){return e(_+" > tbody > tr > td > .FormElement").each(function(){var t=e(".customelement",this);if(t.length){var i=e(t[0]).attr("name");e.each(f.p.colModel,function(){if(this.name===i&&this.editoptions&&e.isFunction(this.editoptions.custom_value)){try{if(g[i]=this.editoptions.custom_value.call(f,e("#"+e.jgrid.jqID(i),_),"get"),void 0===g[i])throw"e1"}catch(t){"e1"===t?e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_value' "+e.jgrid.edit.msg.novalue,e.jgrid.edit.bClose):e.jgrid.info_dialog(e.jgrid.errors.errcap,t.message,e.jgrid.edit.bClose)}return!0}})}else{switch(e(this).get(0).type){case"checkbox":e(this).is(":checked")?g[this.name]=e(this).val():(t=e(this).attr("offval"),g[this.name]=t);break;case"select-one":g[this.name]=e("option:selected",this).val();break;case"select-multiple":g[this.name]=e(this).val(),g[this.name]=g[this.name]?g[this.name].join(","):"",e("option:selected",this).each(function(t,i){e(i).text()});break;case"password":case"text":case"textarea":case"button":g[this.name]=e(this).val()}f.p.autoencode&&(g[this.name]=e.jgrid.htmlEncode(g[this.name]))}}),!0}function n(i,s,r,n){var a,o,l,d,c,h,u,p=0,g=[],m=!1,v="";for(u=1;n>=u;u++)v+="<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>";return"_empty"!==i&&(m=e(s).jqGrid("getInd",i)),e(s.p.colModel).each(function(u){if(a=this.name,c=(o=this.editrules&&!0===this.editrules.edithidden?!1:!0===this.hidden?!0:!1)?"style='display:none'":"","cb"!==a&&"subgrid"!==a&&!0===this.editable&&"rn"!==a){if(!1===m)d="";else if(a===s.p.ExpandColumn&&!0===s.p.treeGrid)d=e("td[role='gridcell']:eq("+u+")",s.rows[m]).text();else{try{d=e.unformat.call(s,e("td[role='gridcell']:eq("+u+")",s.rows[m]),{rowId:i,colModel:this},u)}catch(b){d=this.edittype&&"textarea"===this.edittype?e("td[role='gridcell']:eq("+u+")",s.rows[m]).text():e("td[role='gridcell']:eq("+u+")",s.rows[m]).html()}(!d||"&nbsp;"===d||"&#160;"===d||1===d.length&&160===d.charCodeAt(0))&&(d="")}var w=e.extend({},this.editoptions||{},{id:a,name:a}),_=e.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},this.formoptions||{}),x=parseInt(_.rowpos,10)||p+1,j=parseInt(2*(parseInt(_.colpos,10)||1),10);if("_empty"===i&&w.defaultValue&&(d=e.isFunction(w.defaultValue)?w.defaultValue.call(f):w.defaultValue),this.edittype||(this.edittype="text"),f.p.autoencode&&(d=e.jgrid.htmlDecode(d)),h=e.jgrid.createEl.call(f,this.edittype,w,d,!1,e.extend({},e.jgrid.ajaxOptions,s.p.ajaxSelectOptions||{})),(t[f.p.id].checkOnSubmit||t[f.p.id].checkOnUpdate)&&(t[f.p.id]._savedData[a]=d),e(h).addClass("FormElement"),-1<e.inArray(this.edittype,["text","textarea","password","select"])&&e(h).addClass("ui-widget-content ui-corner-all"),l=e(r).find("tr[rowpos="+x+"]"),_.rowabove){var C=e("<tr><td class='contentinfo' colspan='"+2*n+"'>"+_.rowcontent+"</td></tr>");e(r).append(C),C[0].rp=x}0===l.length&&(l=e("<tr "+c+" rowpos='"+x+"'></tr>").addClass("FormData").attr("id","tr_"+a),e(l).append(v),e(r).append(l),l[0].rp=x),e("td:eq("+(j-2)+")",l[0]).html(void 0===_.label?s.p.colNames[u]:_.label),e("td:eq("+(j-1)+")",l[0]).append(_.elmprefix).append(h).append(_.elmsuffix),e.isFunction(w.custom_value)&&"_empty"!==i&&w.custom_value.call(f,e("#"+a,"#"+y),"set",d),e.jgrid.bindEv.call(f,h,w),g[p]=u,p++}}),p>0&&(u=e("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*n-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+s.p.id+"_id' value='"+i+"'/></td></tr>"),u[0].rp=p+999,e(r).append(u),t[f.p.id].checkOnSubmit||t[f.p.id].checkOnUpdate)&&(t[f.p.id]._savedData[s.p.id+"_id"]=i),g}function a(i,s,r){var n,a,o,l,d,c,h=0;(t[f.p.id].checkOnSubmit||t[f.p.id].checkOnUpdate)&&(t[f.p.id]._savedData={},t[f.p.id]._savedData[s.p.id+"_id"]=i);var u=s.p.colModel;if("_empty"===i)e(u).each(function(){n=this.name,l=e.extend({},this.editoptions||{}),(o=e("#"+e.jgrid.jqID(n),"#"+r))&&o.length&&null!==o[0]&&(d="",l.defaultValue?(d=e.isFunction(l.defaultValue)?l.defaultValue.call(f):l.defaultValue,"checkbox"===o[0].type?(c=d.toLowerCase(),0>c.search(/(false|f|0|no|n|off|undefined)/i)&&""!==c?(o[0].checked=!0,o[0].defaultChecked=!0,o[0].value=d):(o[0].checked=!1,o[0].defaultChecked=!1)):o.val(d)):"checkbox"===o[0].type?(o[0].checked=!1,o[0].defaultChecked=!1,d=e(o).attr("offval")):o[0].type&&"select"===o[0].type.substr(0,6)?o[0].selectedIndex=0:o.val(d),(!0===t[f.p.id].checkOnSubmit||t[f.p.id].checkOnUpdate)&&(t[f.p.id]._savedData[n]=d))}),e("#id_g","#"+r).val(i);else{var p=e(s).jqGrid("getInd",i,!0);p&&(e('td[role="gridcell"]',p).each(function(o){if(n=u[o].name,"cb"!==n&&"subgrid"!==n&&"rn"!==n&&!0===u[o].editable){if(n===s.p.ExpandColumn&&!0===s.p.treeGrid)a=e(this).text();else try{a=e.unformat.call(s,e(this),{rowId:i,colModel:u[o]},o)}catch(l){a="textarea"===u[o].edittype?e(this).text():e(this).html()}switch(f.p.autoencode&&(a=e.jgrid.htmlDecode(a)),(!0===t[f.p.id].checkOnSubmit||t[f.p.id].checkOnUpdate)&&(t[f.p.id]._savedData[n]=a),n=e.jgrid.jqID(n),u[o].edittype){case"password":case"text":case"button":case"image":case"textarea":("&nbsp;"===a||"&#160;"===a||1===a.length&&160===a.charCodeAt(0))&&(a=""),e("#"+n,"#"+r).val(a);break;case"select":var d=a.split(","),d=e.map(d,function(t){return e.trim(t)});e("#"+n+" option","#"+r).each(function(){this.selected=u[o].editoptions.multiple||e.trim(a)!==e.trim(e(this).text())&&d[0]!==e.trim(e(this).text())&&d[0]!==e.trim(e(this).val())?u[o].editoptions.multiple&&(-1<e.inArray(e.trim(e(this).text()),d)||-1<e.inArray(e.trim(e(this).val()),d))?!0:!1:!0});break;case"checkbox":a=""+a,u[o].editoptions&&u[o].editoptions.value?u[o].editoptions.value.split(":")[0]===a?e("#"+n,"#"+r)[f.p.useProp?"prop":"attr"]({checked:!0,defaultChecked:!0}):e("#"+n,"#"+r)[f.p.useProp?"prop":"attr"]({checked:!1,defaultChecked:!1}):(a=a.toLowerCase(),0>a.search(/(false|f|0|no|n|off|undefined)/i)&&""!==a?(e("#"+n,"#"+r)[f.p.useProp?"prop":"attr"]("checked",!0),e("#"+n,"#"+r)[f.p.useProp?"prop":"attr"]("defaultChecked",!0)):(e("#"+n,"#"+r)[f.p.useProp?"prop":"attr"]("checked",!1),e("#"+n,"#"+r)[f.p.useProp?"prop":"attr"]("defaultChecked",!1)));break;case"custom":try{if(!u[o].editoptions||!e.isFunction(u[o].editoptions.custom_value))throw"e1";u[o].editoptions.custom_value.call(f,e("#"+n,"#"+r),"set",a)}catch(c){"e1"===c?e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_value' "+e.jgrid.edit.msg.nodefined,e.jgrid.edit.bClose):e.jgrid.info_dialog(e.jgrid.errors.errcap,c.message,e.jgrid.edit.bClose)}}h++}}),h>0&&e("#id_g",_).val(i))}}function o(){e.each(f.p.colModel,function(e,t){t.editoptions&&!0===t.editoptions.NullIfEmpty&&g.hasOwnProperty(t.name)&&""===g[t.name]&&(g[t.name]="null")})}function l(){var i,r,n,l,d,c,h=[!0,"",""],u={},p=f.p.prmNames,m=e(f).triggerHandler("jqGridAddEditBeforeCheckValues",[e("#"+y),v]);m&&"object"==typeof m&&(g=m),e.isFunction(t[f.p.id].beforeCheckValues)&&(m=t[f.p.id].beforeCheckValues.call(f,g,e("#"+y),v))&&"object"==typeof m&&(g=m);for(l in g)if(g.hasOwnProperty(l)&&(h=e.jgrid.checkValues.call(f,g[l],l),!1===h[0]))break;if(o(),h[0]&&(u=e(f).triggerHandler("jqGridAddEditClickSubmit",[t[f.p.id],g,v]),void 0===u&&e.isFunction(t[f.p.id].onclickSubmit)&&(u=t[f.p.id].onclickSubmit.call(f,t[f.p.id],g,v)||{}),h=e(f).triggerHandler("jqGridAddEditBeforeSubmit",[g,e("#"+y),v]),void 0===h&&(h=[!0,"",""]),h[0]&&e.isFunction(t[f.p.id].beforeSubmit)&&(h=t[f.p.id].beforeSubmit.call(f,g,e("#"+y),v))),h[0]&&!t[f.p.id].processing){if(t[f.p.id].processing=!0,e("#sData",_+"_2").addClass("ui-state-active"),n=p.oper,r=p.id,g[n]="_empty"===e.trim(g[f.p.id+"_id"])?p.addoper:p.editoper,g[n]!==p.addoper?g[r]=g[f.p.id+"_id"]:void 0===g[r]&&(g[r]=g[f.p.id+"_id"]),delete g[f.p.id+"_id"],g=e.extend(g,t[f.p.id].editData,u),!0===f.p.treeGrid)for(c in g[n]===p.addoper&&(d=e(f).jqGrid("getGridParam","selrow"),g["adjacency"===f.p.treeGridModel?f.p.treeReader.parent_id_field:"parent_id"]=d),f.p.treeReader)f.p.treeReader.hasOwnProperty(c)&&(u=f.p.treeReader[c],g.hasOwnProperty(u)&&!(g[n]===p.addoper&&"parent_id_field"===c)&&delete g[u]);g[r]=e.jgrid.stripPref(f.p.idPrefix,g[r]),c=e.extend({url:t[f.p.id].url||e(f).jqGrid("getGridParam","editurl"),type:t[f.p.id].mtype,data:e.isFunction(t[f.p.id].serializeEditData)?t[f.p.id].serializeEditData.call(f,g):g,complete:function(o,l){var c;if(g[r]=f.p.idPrefix+g[r],o.status>=300&&304!==o.status?(h[0]=!1,h[1]=e(f).triggerHandler("jqGridAddEditErrorTextFormat",[o,v]),h[1]=e.isFunction(t[f.p.id].errorTextFormat)?t[f.p.id].errorTextFormat.call(f,o,v):l+" Status: '"+o.statusText+"'. Error code: "+o.status):(h=e(f).triggerHandler("jqGridAddEditAfterSubmit",[o,g,v]),void 0===h&&(h=[!0,"",""]),h[0]&&e.isFunction(t[f.p.id].afterSubmit)&&(h=t[f.p.id].afterSubmit.call(f,o,g,v))),h[0]===!1)e("#FormError>td",_).html(h[1]),e("#FormError",_).show();else if(f.p.autoencode&&e.each(g,function(t,i){g[t]=e.jgrid.htmlDecode(i)}),g[n]===p.addoper?(h[2]||(h[2]=e.jgrid.randId()),g[r]=h[2],t[f.p.id].reloadAfterSubmit?e(f).trigger("reloadGrid"):f.p.treeGrid===!0?e(f).jqGrid("addChildNode",h[2],d,g):e(f).jqGrid("addRowData",h[2],g,s.addedrow),t[f.p.id].closeAfterAdd?(f.p.treeGrid!==!0&&e(f).jqGrid("setSelection",h[2]),e.jgrid.hideModal("#"+e.jgrid.jqID(x.themodal),{gb:"#gbox_"+e.jgrid.jqID(b),jqm:s.jqModal,onClose:t[f.p.id].onClose})):t[f.p.id].clearAfterAdd&&a("_empty",f,y)):(t[f.p.id].reloadAfterSubmit?(e(f).trigger("reloadGrid"),t[f.p.id].closeAfterEdit||setTimeout(function(){e(f).jqGrid("setSelection",g[r])},1e3)):f.p.treeGrid===!0?e(f).jqGrid("setTreeRow",g[r],g):e(f).jqGrid("setRowData",g[r],g),t[f.p.id].closeAfterEdit&&e.jgrid.hideModal("#"+e.jgrid.jqID(x.themodal),{gb:"#gbox_"+e.jgrid.jqID(b),jqm:s.jqModal,onClose:t[f.p.id].onClose})),e.isFunction(t[f.p.id].afterComplete)&&(i=o,setTimeout(function(){e(f).triggerHandler("jqGridAddEditAfterComplete",[i,g,e("#"+y),v]),t[f.p.id].afterComplete.call(f,i,g,e("#"+y),v),i=null},500)),(t[f.p.id].checkOnSubmit||t[f.p.id].checkOnUpdate)&&(e("#"+y).data("disabled",!1),"_empty"!==t[f.p.id]._savedData[f.p.id+"_id"]))for(c in t[f.p.id]._savedData)t[f.p.id]._savedData.hasOwnProperty(c)&&g[c]&&(t[f.p.id]._savedData[c]=g[c]);t[f.p.id].processing=!1,e("#sData",_+"_2").removeClass("ui-state-active");try{e(":input:visible","#"+y)[0].focus()}catch(u){}}},e.jgrid.ajaxOptions,t[f.p.id].ajaxEditOptions),!c.url&&!t[f.p.id].useDataProxy&&(e.isFunction(f.p.dataProxy)?t[f.p.id].useDataProxy=!0:(h[0]=!1,h[1]+=" "+e.jgrid.errors.nourl)),h[0]&&(t[f.p.id].useDataProxy?(u=f.p.dataProxy.call(f,c,"set_"+f.p.id),void 0===u&&(u=[!0,""]),!1===u[0]?(h[0]=!1,h[1]=u[1]||"Error deleting the selected row!"):(c.data.oper===p.addoper&&t[f.p.id].closeAfterAdd&&e.jgrid.hideModal("#"+e.jgrid.jqID(x.themodal),{gb:"#gbox_"+e.jgrid.jqID(b),jqm:s.jqModal,onClose:t[f.p.id].onClose}),c.data.oper===p.editoper&&t[f.p.id].closeAfterEdit&&e.jgrid.hideModal("#"+e.jgrid.jqID(x.themodal),{gb:"#gbox_"+e.jgrid.jqID(b),jqm:s.jqModal,onClose:t[f.p.id].onClose}))):e.ajax(c))}!1===h[0]&&(e("#FormError>td",_).html(h[1]),e("#FormError",_).show())}function d(e,t){var i,s=!1;for(i in e)if(e.hasOwnProperty(i)&&e[i]!=t[i]){s=!0;break}return s}function c(){var i=!0;return e("#FormError",_).hide(),t[f.p.id].checkOnUpdate&&(g={},r(),m=d(g,t[f.p.id]._savedData))&&(e("#"+y).data("disabled",!0),e(".confirm","#"+x.themodal).show(),i=!1),i}function h(){var t;if("_empty"!==i&&void 0!==f.p.savedRow&&0<f.p.savedRow.length&&e.isFunction(e.fn.jqGrid.restoreRow))for(t=0;t<f.p.savedRow.length;t++)if(f.p.savedRow[t].id==i){e(f).jqGrid("restoreRow",i);break}}function u(t,i){var s=i[1].length-1;0===t?e("#pData",_+"_2").addClass("ui-state-disabled"):void 0!==i[1][t-1]&&e("#"+e.jgrid.jqID(i[1][t-1])).hasClass("ui-state-disabled")?e("#pData",_+"_2").addClass("ui-state-disabled"):e("#pData",_+"_2").removeClass("ui-state-disabled"),t===s?e("#nData",_+"_2").addClass("ui-state-disabled"):void 0!==i[1][t+1]&&e("#"+e.jgrid.jqID(i[1][t+1])).hasClass("ui-state-disabled")?e("#nData",_+"_2").addClass("ui-state-disabled"):e("#nData",_+"_2").removeClass("ui-state-disabled")}function p(){var t=e(f).jqGrid("getDataIDs"),i=e("#id_g",_).val();return[e.inArray(i,t),t]}var f=this;if(f.grid&&i){var g,m,v,b=f.p.id,y="FrmGrid_"+b,w="TblGrid_"+b,_="#"+e.jgrid.jqID(w),x={themodal:"editmod"+b,modalhead:"edithd"+b,modalcontent:"editcnt"+b,scrollelm:y},j=e.isFunction(t[f.p.id].beforeShowForm)?t[f.p.id].beforeShowForm:!1,C=e.isFunction(t[f.p.id].afterShowForm)?t[f.p.id].afterShowForm:!1,D=e.isFunction(t[f.p.id].beforeInitData)?t[f.p.id].beforeInitData:!1,S=e.isFunction(t[f.p.id].onInitializeForm)?t[f.p.id].onInitializeForm:!1,q=!0,I=1,T=0,y=e.jgrid.jqID(y);"new"===i?(i="_empty",v="add",s.caption=t[f.p.id].addCaption):(s.caption=t[f.p.id].editCaption,v="edit"),!0===s.recreateForm&&void 0!==e("#"+e.jgrid.jqID(x.themodal))[0]&&e("#"+e.jgrid.jqID(x.themodal)).remove();var F=!0;if(s.checkOnUpdate&&s.jqModal&&!s.modal&&(F=!1),void 0!==e("#"+e.jgrid.jqID(x.themodal))[0]){if(q=e(f).triggerHandler("jqGridAddEditBeforeInitData",[e("#"+e.jgrid.jqID(y)),v]),void 0===q&&(q=!0),q&&D&&(q=D.call(f,e("#"+y),v)),!1===q)return;h(),e(".ui-jqdialog-title","#"+e.jgrid.jqID(x.modalhead)).html(s.caption),
e("#FormError",_).hide(),t[f.p.id].topinfo?(e(".topinfo",_).html(t[f.p.id].topinfo),e(".tinfo",_).show()):e(".tinfo",_).hide(),t[f.p.id].bottominfo?(e(".bottominfo",_+"_2").html(t[f.p.id].bottominfo),e(".binfo",_+"_2").show()):e(".binfo",_+"_2").hide(),a(i,f,y),"_empty"!==i&&t[f.p.id].viewPagerButtons?e("#pData, #nData",_+"_2").show():e("#pData, #nData",_+"_2").hide(),!0===t[f.p.id].processing&&(t[f.p.id].processing=!1,e("#sData",_+"_2").removeClass("ui-state-active")),!0===e("#"+y).data("disabled")&&(e(".confirm","#"+e.jgrid.jqID(x.themodal)).hide(),e("#"+y).data("disabled",!1)),e(f).triggerHandler("jqGridAddEditBeforeShowForm",[e("#"+y),v]),j&&j.call(f,e("#"+y),v),e("#"+e.jgrid.jqID(x.themodal)).data("onClose",t[f.p.id].onClose),e.jgrid.viewModal("#"+e.jgrid.jqID(x.themodal),{gbox:"#gbox_"+e.jgrid.jqID(b),jqm:s.jqModal,jqM:!1,overlay:s.overlay,modal:s.modal,overlayClass:s.overlayClass}),F||e("."+e.jgrid.jqID(s.overlayClass)).click(function(){return c()?(e.jgrid.hideModal("#"+e.jgrid.jqID(x.themodal),{gb:"#gbox_"+e.jgrid.jqID(b),jqm:s.jqModal,onClose:t[f.p.id].onClose}),!1):!1}),e(f).triggerHandler("jqGridAddEditAfterShowForm",[e("#"+y),v]),C&&C.call(f,e("#"+y),v)}else{var k=isNaN(s.dataheight)?s.dataheight:s.dataheight+"px",q=isNaN(s.datawidth)?s.datawidth:s.datawidth+"px",k=e("<form name='FormPost' id='"+y+"' class='FormGrid' onSubmit='return false;' style='width:"+q+";overflow:auto;position:relative;height:"+k+";'></form>").data("disabled",!1),P=e("<table id='"+w+"' class='EditTable' cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"),q=e(f).triggerHandler("jqGridAddEditBeforeInitData",[e("#"+y),v]);if(void 0===q&&(q=!0),q&&D&&(q=D.call(f,e("#"+y,v))),!1===q)return;h(),e(f.p.colModel).each(function(){var e=this.formoptions;I=Math.max(I,e?e.colpos||0:0),T=Math.max(T,e?e.rowpos||0:0)}),e(k).append(P),D=e("<tr id='FormError' style='display:none'><td class='ui-state-error' colspan='"+2*I+"'></td></tr>"),D[0].rp=0,e(P).append(D),D=e("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+2*I+"'>"+t[f.p.id].topinfo+"</td></tr>"),D[0].rp=0,e(P).append(D);var q=(D="rtl"===f.p.direction?!0:!1)?"nData":"pData",E=D?"pData":"nData";n(i,f,P,I);var q="<a href='javascript:void(0)' id='"+q+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>",E="<a href='javascript:void(0)' id='"+E+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>",N="<a href='javascript:void(0)' id='sData' class='fm-button ui-state-default ui-corner-all'>"+s.bSubmit+"</a>",A="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>"+s.bCancel+"</a>",w="<table border='0' cellspacing='0' cellpadding='0' class='EditTable' id='"+w+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton'>"+(D?E+q:q+E)+"</td><td class='EditButton'>"+N+A+"</td></tr>"+("<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+t[f.p.id].bottominfo+"</td></tr>"),w=w+"</tbody></table>";if(T>0){var R=[];e.each(e(P)[0].rows,function(e,t){R[e]=t}),R.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),e.each(R,function(t,i){e("tbody",P).append(i)})}s.gbox="#gbox_"+e.jgrid.jqID(b);var M=!1;!0===s.closeOnEscape&&(s.closeOnEscape=!1,M=!0),w=e("<div></div>").append(k).append(w),e.jgrid.createModal(x,w,s,"#gview_"+e.jgrid.jqID(f.p.id),e("#gbox_"+e.jgrid.jqID(f.p.id))[0]),D&&(e("#pData, #nData",_+"_2").css("float","right"),e(".EditButton",_+"_2").css("text-align","left")),t[f.p.id].topinfo&&e(".tinfo",_).show(),t[f.p.id].bottominfo&&e(".binfo",_+"_2").show(),w=w=null,e("#"+e.jgrid.jqID(x.themodal)).keydown(function(i){var r=i.target;if(e("#"+y).data("disabled")===!0)return!1;if(t[f.p.id].savekey[0]===!0&&i.which===t[f.p.id].savekey[1]&&"TEXTAREA"!==r.tagName)return e("#sData",_+"_2").trigger("click"),!1;if(27===i.which)return c()?(M&&e.jgrid.hideModal("#"+e.jgrid.jqID(x.themodal),{gb:s.gbox,jqm:s.jqModal,onClose:t[f.p.id].onClose}),!1):!1;if(t[f.p.id].navkeys[0]===!0){if("_empty"===e("#id_g",_).val())return!0;if(i.which===t[f.p.id].navkeys[1])return e("#pData",_+"_2").trigger("click"),!1;if(i.which===t[f.p.id].navkeys[2])return e("#nData",_+"_2").trigger("click"),!1}}),s.checkOnUpdate&&(e("a.ui-jqdialog-titlebar-close span","#"+e.jgrid.jqID(x.themodal)).removeClass("jqmClose"),e("a.ui-jqdialog-titlebar-close","#"+e.jgrid.jqID(x.themodal)).unbind("click").click(function(){return c()?(e.jgrid.hideModal("#"+e.jgrid.jqID(x.themodal),{gb:"#gbox_"+e.jgrid.jqID(b),jqm:s.jqModal,onClose:t[f.p.id].onClose}),!1):!1})),s.saveicon=e.extend([!0,"left","ui-icon-disk"],s.saveicon),s.closeicon=e.extend([!0,"left","ui-icon-close"],s.closeicon),!0===s.saveicon[0]&&e("#sData",_+"_2").addClass("right"===s.saveicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+s.saveicon[2]+"'></span>"),!0===s.closeicon[0]&&e("#cData",_+"_2").addClass("right"===s.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+s.closeicon[2]+"'></span>"),(t[f.p.id].checkOnSubmit||t[f.p.id].checkOnUpdate)&&(N="<a href='javascript:void(0)' id='sNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+s.bYes+"</a>",E="<a href='javascript:void(0)' id='nNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+s.bNo+"</a>",A="<a href='javascript:void(0)' id='cNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+s.bExit+"</a>",w=s.zIndex||999,w++,e("<div class='"+s.overlayClass+" jqgrid-overlay confirm' style='z-index:"+w+";display:none;'>&#160;</div><div class='confirm ui-widget-content ui-jqconfirm' style='z-index:"+(w+1)+"'>"+s.saveData+"<br/><br/>"+N+E+A+"</div>").insertAfter("#"+y),e("#sNew","#"+e.jgrid.jqID(x.themodal)).click(function(){return l(),e("#"+y).data("disabled",!1),e(".confirm","#"+e.jgrid.jqID(x.themodal)).hide(),!1}),e("#nNew","#"+e.jgrid.jqID(x.themodal)).click(function(){return e(".confirm","#"+e.jgrid.jqID(x.themodal)).hide(),e("#"+y).data("disabled",!1),setTimeout(function(){e(":input:visible","#"+y)[0].focus()},0),!1}),e("#cNew","#"+e.jgrid.jqID(x.themodal)).click(function(){return e(".confirm","#"+e.jgrid.jqID(x.themodal)).hide(),e("#"+y).data("disabled",!1),e.jgrid.hideModal("#"+e.jgrid.jqID(x.themodal),{gb:"#gbox_"+e.jgrid.jqID(b),jqm:s.jqModal,onClose:t[f.p.id].onClose}),!1})),e(f).triggerHandler("jqGridAddEditInitializeForm",[e("#"+y),v]),S&&S.call(f,e("#"+y),v),"_empty"!==i&&t[f.p.id].viewPagerButtons?e("#pData,#nData",_+"_2").show():e("#pData,#nData",_+"_2").hide(),e(f).triggerHandler("jqGridAddEditBeforeShowForm",[e("#"+y),v]),j&&j.call(f,e("#"+y),v),e("#"+e.jgrid.jqID(x.themodal)).data("onClose",t[f.p.id].onClose),e.jgrid.viewModal("#"+e.jgrid.jqID(x.themodal),{gbox:"#gbox_"+e.jgrid.jqID(b),jqm:s.jqModal,overlay:s.overlay,modal:s.modal,overlayClass:s.overlayClass}),F||e("."+e.jgrid.jqID(s.overlayClass)).click(function(){return c()?(e.jgrid.hideModal("#"+e.jgrid.jqID(x.themodal),{gb:"#gbox_"+e.jgrid.jqID(b),jqm:s.jqModal,onClose:t[f.p.id].onClose}),!1):!1}),e(f).triggerHandler("jqGridAddEditAfterShowForm",[e("#"+y),v]),C&&C.call(f,e("#"+y),v),e(".fm-button","#"+e.jgrid.jqID(x.themodal)).hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),e("#sData",_+"_2").click(function(){return g={},e("#FormError",_).hide(),r(),"_empty"===g[f.p.id+"_id"]?l():s.checkOnSubmit===!0&&(m=d(g,t[f.p.id]._savedData))?(e("#"+y).data("disabled",!0),e(".confirm","#"+e.jgrid.jqID(x.themodal)).show()):l(),!1}),e("#cData",_+"_2").click(function(){return c()?(e.jgrid.hideModal("#"+e.jgrid.jqID(x.themodal),{gb:"#gbox_"+e.jgrid.jqID(b),jqm:s.jqModal,onClose:t[f.p.id].onClose}),!1):!1}),e("#nData",_+"_2").click(function(){if(!c())return!1;e("#FormError",_).hide();var t=p();if(t[0]=parseInt(t[0],10),-1!==t[0]&&t[1][t[0]+1]){e(f).triggerHandler("jqGridAddEditClickPgButtons",["next",e("#"+y),t[1][t[0]]]);var i;if(e.isFunction(s.onclickPgButtons)&&(i=s.onclickPgButtons.call(f,"next",e("#"+y),t[1][t[0]]),void 0!==i&&i===!1))return!1;if(e("#"+e.jgrid.jqID(t[1][t[0]+1])).hasClass("ui-state-disabled"))return!1;a(t[1][t[0]+1],f,y),e(f).jqGrid("setSelection",t[1][t[0]+1]),e(f).triggerHandler("jqGridAddEditAfterClickPgButtons",["next",e("#"+y),t[1][t[0]]]),e.isFunction(s.afterclickPgButtons)&&s.afterclickPgButtons.call(f,"next",e("#"+y),t[1][t[0]+1]),u(t[0]+1,t)}return!1}),e("#pData",_+"_2").click(function(){if(!c())return!1;e("#FormError",_).hide();var t=p();if(-1!==t[0]&&t[1][t[0]-1]){e(f).triggerHandler("jqGridAddEditClickPgButtons",["prev",e("#"+y),t[1][t[0]]]);var i;if(e.isFunction(s.onclickPgButtons)&&(i=s.onclickPgButtons.call(f,"prev",e("#"+y),t[1][t[0]]),void 0!==i&&i===!1))return!1;if(e("#"+e.jgrid.jqID(t[1][t[0]-1])).hasClass("ui-state-disabled"))return!1;a(t[1][t[0]-1],f,y),e(f).jqGrid("setSelection",t[1][t[0]-1]),e(f).triggerHandler("jqGridAddEditAfterClickPgButtons",["prev",e("#"+y),t[1][t[0]]]),e.isFunction(s.afterclickPgButtons)&&s.afterclickPgButtons.call(f,"prev",e("#"+y),t[1][t[0]-1]),u(t[0]-1,t)}return!1})}j=p(),u(j[0],j)}})},viewGridRow:function(i,s){return s=e.extend(!0,{top:0,left:0,width:0,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,jqModal:!0,closeOnEscape:!1,labelswidth:"30%",closeicon:[],navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0,recreateForm:!1},e.jgrid.view,s||{}),t[e(this)[0].p.id]=s,this.each(function(){function r(){(!0===t[d.p.id].closeOnEscape||!0===t[d.p.id].navkeys[0])&&setTimeout(function(){e(".ui-jqdialog-titlebar-close","#"+e.jgrid.jqID(g.modalhead)).focus()},0)}function n(t,i,r,n){var a,o,l,d,c,h,u,p,f,g=0,m=[],v=!1,b="<td class='CaptionTD form-view-label ui-widget-content' width='"+s.labelswidth+"'>&#160;</td><td class='DataTD form-view-data ui-helper-reset ui-widget-content'>&#160;</td>",y="",w=["integer","number","currency"],_=0,x=0;for(h=1;n>=h;h++)y+=1===h?b:"<td class='CaptionTD form-view-label ui-widget-content'>&#160;</td><td class='DataTD form-view-data ui-widget-content'>&#160;</td>";return e(i.p.colModel).each(function(){o=this.editrules&&!0===this.editrules.edithidden?!1:!0===this.hidden?!0:!1,!o&&"right"===this.align&&(this.formatter&&-1!==e.inArray(this.formatter,w)?_=Math.max(_,parseInt(this.width,10)):x=Math.max(x,parseInt(this.width,10)))}),u=0!==_?_:0!==x?x:0,v=e(i).jqGrid("getInd",t),e(i.p.colModel).each(function(t){if(a=this.name,p=!1,c=(o=this.editrules&&!0===this.editrules.edithidden?!1:!0===this.hidden?!0:!1)?"style='display:none'":"",f="boolean"!=typeof this.viewable?!0:this.viewable,"cb"!==a&&"subgrid"!==a&&"rn"!==a&&f){d=!1===v?"":a===i.p.ExpandColumn&&!0===i.p.treeGrid?e("td:eq("+t+")",i.rows[v]).text():e("td:eq("+t+")",i.rows[v]).html(),p="right"===this.align&&0!==u?!0:!1;var s=e.extend({},{rowabove:!1,rowcontent:""},this.formoptions||{}),h=parseInt(s.rowpos,10)||g+1,b=parseInt(2*(parseInt(s.colpos,10)||1),10);if(s.rowabove){var w=e("<tr><td class='contentinfo' colspan='"+2*n+"'>"+s.rowcontent+"</td></tr>");e(r).append(w),w[0].rp=h}l=e(r).find("tr[rowpos="+h+"]"),0===l.length&&(l=e("<tr "+c+" rowpos='"+h+"'></tr>").addClass("FormData").attr("id","trv_"+a),e(l).append(y),e(r).append(l),l[0].rp=h),e("td:eq("+(b-2)+")",l[0]).html("<b>"+(void 0===s.label?i.p.colNames[t]:s.label)+"</b>"),e("td:eq("+(b-1)+")",l[0]).append("<span>"+d+"</span>").attr("id","v_"+a),p&&e("td:eq("+(b-1)+") span",l[0]).css({"text-align":"right",width:u+"px"}),m[g]=t,g++}}),g>0&&(t=e("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*n-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+t+"'/></td></tr>"),t[0].rp=g+99,e(r).append(t)),m}function a(t,i){var s,r,n,a,o=0;(a=e(i).jqGrid("getInd",t,!0))&&(e("td",a).each(function(t){s=i.p.colModel[t].name,r=i.p.colModel[t].editrules&&!0===i.p.colModel[t].editrules.edithidden?!1:!0===i.p.colModel[t].hidden?!0:!1,"cb"!==s&&"subgrid"!==s&&"rn"!==s&&(n=s===i.p.ExpandColumn&&!0===i.p.treeGrid?e(this).text():e(this).html(),s=e.jgrid.jqID("v_"+s),e("#"+s+" span","#"+u).html(n),r&&e("#"+s,"#"+u).parents("tr:first").hide(),o++)}),o>0&&e("#id_g","#"+u).val(t))}function o(t,i){var s=i[1].length-1;0===t?e("#pData","#"+u+"_2").addClass("ui-state-disabled"):void 0!==i[1][t-1]&&e("#"+e.jgrid.jqID(i[1][t-1])).hasClass("ui-state-disabled")?e("#pData",u+"_2").addClass("ui-state-disabled"):e("#pData","#"+u+"_2").removeClass("ui-state-disabled"),t===s?e("#nData","#"+u+"_2").addClass("ui-state-disabled"):void 0!==i[1][t+1]&&e("#"+e.jgrid.jqID(i[1][t+1])).hasClass("ui-state-disabled")?e("#nData",u+"_2").addClass("ui-state-disabled"):e("#nData","#"+u+"_2").removeClass("ui-state-disabled")}function l(){var t=e(d).jqGrid("getDataIDs"),i=e("#id_g","#"+u).val();return[e.inArray(i,t),t]}var d=this;if(d.grid&&i){var c=d.p.id,h="ViewGrid_"+e.jgrid.jqID(c),u="ViewTbl_"+e.jgrid.jqID(c),p="ViewGrid_"+c,f="ViewTbl_"+c,g={themodal:"viewmod"+c,modalhead:"viewhd"+c,modalcontent:"viewcnt"+c,scrollelm:h},m=e.isFunction(t[d.p.id].beforeInitData)?t[d.p.id].beforeInitData:!1,v=!0,b=1,y=0;if(!0===s.recreateForm&&void 0!==e("#"+e.jgrid.jqID(g.themodal))[0]&&e("#"+e.jgrid.jqID(g.themodal)).remove(),void 0!==e("#"+e.jgrid.jqID(g.themodal))[0]){if(m&&(v=m.call(d,e("#"+h)),void 0===v&&(v=!0)),!1===v)return;e(".ui-jqdialog-title","#"+e.jgrid.jqID(g.modalhead)).html(s.caption),e("#FormError","#"+u).hide(),a(i,d),e.isFunction(t[d.p.id].beforeShowForm)&&t[d.p.id].beforeShowForm.call(d,e("#"+h)),e.jgrid.viewModal("#"+e.jgrid.jqID(g.themodal),{gbox:"#gbox_"+e.jgrid.jqID(c),jqm:s.jqModal,jqM:!1,overlay:s.overlay,modal:s.modal}),r()}else{var w=isNaN(s.dataheight)?s.dataheight:s.dataheight+"px",_=isNaN(s.datawidth)?s.datawidth:s.datawidth+"px",p=e("<form name='FormPost' id='"+p+"' class='FormGrid' style='width:"+_+";overflow:auto;position:relative;height:"+w+";'></form>"),x=e("<table id='"+f+"' class='EditTable' cellspacing='1' cellpadding='2' border='0' style='table-layout:fixed'><tbody></tbody></table>");if(m&&(v=m.call(d,e("#"+h)),void 0===v&&(v=!0)),!1===v)return;if(e(d.p.colModel).each(function(){var e=this.formoptions;b=Math.max(b,e?e.colpos||0:0),y=Math.max(y,e?e.rowpos||0:0)}),e(p).append(x),n(i,d,x,b),f="rtl"===d.p.direction?!0:!1,m="<a href='javascript:void(0)' id='"+(f?"nData":"pData")+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>",v="<a href='javascript:void(0)' id='"+(f?"pData":"nData")+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>",w="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>"+s.bClose+"</a>",y>0){var j=[];e.each(e(x)[0].rows,function(e,t){j[e]=t}),j.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),e.each(j,function(t,i){e("tbody",x).append(i)})}s.gbox="#gbox_"+e.jgrid.jqID(c),p=e("<div></div>").append(p).append("<table border='0' class='EditTable' id='"+u+"_2'><tbody><tr id='Act_Buttons'><td class='navButton' width='"+s.labelswidth+"'>"+(f?v+m:m+v)+"</td><td class='EditButton'>"+w+"</td></tr></tbody></table>"),e.jgrid.createModal(g,p,s,"#gview_"+e.jgrid.jqID(d.p.id),e("#gview_"+e.jgrid.jqID(d.p.id))[0]),f&&(e("#pData, #nData","#"+u+"_2").css("float","right"),e(".EditButton","#"+u+"_2").css("text-align","left")),s.viewPagerButtons||e("#pData, #nData","#"+u+"_2").hide(),p=null,e("#"+g.themodal).keydown(function(i){if(27===i.which)return t[d.p.id].closeOnEscape&&e.jgrid.hideModal("#"+e.jgrid.jqID(g.themodal),{gb:s.gbox,jqm:s.jqModal,onClose:s.onClose}),!1;if(s.navkeys[0]===!0){if(i.which===s.navkeys[1])return e("#pData","#"+u+"_2").trigger("click"),!1;if(i.which===s.navkeys[2])return e("#nData","#"+u+"_2").trigger("click"),!1}}),s.closeicon=e.extend([!0,"left","ui-icon-close"],s.closeicon),!0===s.closeicon[0]&&e("#cData","#"+u+"_2").addClass("right"===s.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+s.closeicon[2]+"'></span>"),e.isFunction(s.beforeShowForm)&&s.beforeShowForm.call(d,e("#"+h)),e.jgrid.viewModal("#"+e.jgrid.jqID(g.themodal),{gbox:"#gbox_"+e.jgrid.jqID(c),jqm:s.jqModal,overlay:s.overlay,modal:s.modal}),e(".fm-button:not(.ui-state-disabled)","#"+u+"_2").hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),r(),e("#cData","#"+u+"_2").click(function(){return e.jgrid.hideModal("#"+e.jgrid.jqID(g.themodal),{gb:"#gbox_"+e.jgrid.jqID(c),jqm:s.jqModal,onClose:s.onClose}),!1}),e("#nData","#"+u+"_2").click(function(){e("#FormError","#"+u).hide();var t=l();return t[0]=parseInt(t[0],10),-1!==t[0]&&t[1][t[0]+1]&&(e.isFunction(s.onclickPgButtons)&&s.onclickPgButtons.call(d,"next",e("#"+h),t[1][t[0]]),a(t[1][t[0]+1],d),e(d).jqGrid("setSelection",t[1][t[0]+1]),e.isFunction(s.afterclickPgButtons)&&s.afterclickPgButtons.call(d,"next",e("#"+h),t[1][t[0]+1]),o(t[0]+1,t)),r(),!1}),e("#pData","#"+u+"_2").click(function(){e("#FormError","#"+u).hide();var t=l();return-1!==t[0]&&t[1][t[0]-1]&&(e.isFunction(s.onclickPgButtons)&&s.onclickPgButtons.call(d,"prev",e("#"+h),t[1][t[0]]),a(t[1][t[0]-1],d),e(d).jqGrid("setSelection",t[1][t[0]-1]),e.isFunction(s.afterclickPgButtons)&&s.afterclickPgButtons.call(d,"prev",e("#"+h),t[1][t[0]-1]),o(t[0]-1,t)),r(),!1})}p=l(),o(p[0],p)}})},delGridRow:function(i,s){return s=e.extend(!0,{top:0,left:0,width:240,height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,jqModal:!0,closeOnEscape:!1,delData:{},delicon:[],cancelicon:[],onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},e.jgrid.del,s||{}),t[e(this)[0].p.id]=s,this.each(function(){var r=this;if(r.grid&&i){var n,a,o,l,d=e.isFunction(t[r.p.id].beforeShowForm),c=e.isFunction(t[r.p.id].afterShowForm),h=e.isFunction(t[r.p.id].beforeInitData)?t[r.p.id].beforeInitData:!1,u=r.p.id,p={},f=!0,g="DelTbl_"+e.jgrid.jqID(u),m="DelTbl_"+u,v={themodal:"delmod"+u,modalhead:"delhd"+u,modalcontent:"delcnt"+u,scrollelm:g};if(e.isArray(i)&&(i=i.join()),void 0!==e("#"+e.jgrid.jqID(v.themodal))[0]){if(h&&(f=h.call(r,e("#"+g)),void 0===f&&(f=!0)),!1===f)return;e("#DelData>td","#"+g).text(i),e("#DelError","#"+g).hide(),!0===t[r.p.id].processing&&(t[r.p.id].processing=!1,e("#dData","#"+g).removeClass("ui-state-active")),d&&t[r.p.id].beforeShowForm.call(r,e("#"+g)),e.jgrid.viewModal("#"+e.jgrid.jqID(v.themodal),{gbox:"#gbox_"+e.jgrid.jqID(u),jqm:t[r.p.id].jqModal,jqM:!1,overlay:t[r.p.id].overlay,modal:t[r.p.id].modal})}else{var b=isNaN(t[r.p.id].dataheight)?t[r.p.id].dataheight:t[r.p.id].dataheight+"px",y=isNaN(s.datawidth)?s.datawidth:s.datawidth+"px",m="<div id='"+m+"' class='formdata' style='width:"+y+";overflow:auto;position:relative;height:"+b+";'><table class='DelTable'><tbody><tr id='DelError' style='display:none'><td class='ui-state-error'></td></tr>"+("<tr id='DelData' style='display:none'><td >"+i+"</td></tr>"),m=m+('<tr><td class="delmsg" style="white-space:pre;">'+t[r.p.id].msg+"</td></tr><tr><td >&#160;</td></tr>"),m=m+"</tbody></table></div>"+("<table cellspacing='0' cellpadding='0' border='0' class='EditTable' id='"+g+"_2'><tbody><tr><td><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton'>"+("<a href='javascript:void(0)' id='dData' class='fm-button ui-state-default ui-corner-all'>"+s.bSubmit+"</a>")+"&#160;"+("<a href='javascript:void(0)' id='eData' class='fm-button ui-state-default ui-corner-all'>"+s.bCancel+"</a>")+"</td></tr></tbody></table>");if(s.gbox="#gbox_"+e.jgrid.jqID(u),e.jgrid.createModal(v,m,s,"#gview_"+e.jgrid.jqID(r.p.id),e("#gview_"+e.jgrid.jqID(r.p.id))[0]),h&&(f=h.call(r,e("#"+g)),void 0===f&&(f=!0)),!1===f)return;e(".fm-button","#"+g+"_2").hover(function(){e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}),s.delicon=e.extend([!0,"left","ui-icon-scissors"],t[r.p.id].delicon),s.cancelicon=e.extend([!0,"left","ui-icon-cancel"],t[r.p.id].cancelicon),!0===s.delicon[0]&&e("#dData","#"+g+"_2").addClass("right"===s.delicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+s.delicon[2]+"'></span>"),!0===s.cancelicon[0]&&e("#eData","#"+g+"_2").addClass("right"===s.cancelicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+s.cancelicon[2]+"'></span>"),e("#dData","#"+g+"_2").click(function(){var i,d=[!0,""],c=e("#DelData>td","#"+g).text();if(p={},e.isFunction(t[r.p.id].onclickSubmit)&&(p=t[r.p.id].onclickSubmit.call(r,t[r.p.id],c)||{}),e.isFunction(t[r.p.id].beforeSubmit)&&(d=t[r.p.id].beforeSubmit.call(r,c)),d[0]&&!t[r.p.id].processing){if(t[r.p.id].processing=!0,o=r.p.prmNames,n=e.extend({},t[r.p.id].delData,p),l=o.oper,n[l]=o.deloper,a=o.id,c=(""+c).split(","),!c.length)return!1;for(i in c)c.hasOwnProperty(i)&&(c[i]=e.jgrid.stripPref(r.p.idPrefix,c[i]));n[a]=c.join(),e(this).addClass("ui-state-active"),i=e.extend({url:t[r.p.id].url||e(r).jqGrid("getGridParam","editurl"),type:t[r.p.id].mtype,data:e.isFunction(t[r.p.id].serializeDelData)?t[r.p.id].serializeDelData.call(r,n):n,complete:function(i,a){var o;if(i.status>=300&&304!==i.status?(d[0]=!1,d[1]=e.isFunction(t[r.p.id].errorTextFormat)?t[r.p.id].errorTextFormat.call(r,i):a+" Status: '"+i.statusText+"'. Error code: "+i.status):e.isFunction(t[r.p.id].afterSubmit)&&(d=t[r.p.id].afterSubmit.call(r,i,n)),d[0]===!1)e("#DelError>td","#"+g).html(d[1]),e("#DelError","#"+g).show();else{if(t[r.p.id].reloadAfterSubmit&&"local"!==r.p.datatype)e(r).trigger("reloadGrid");else{if(r.p.treeGrid===!0)try{e(r).jqGrid("delTreeNode",r.p.idPrefix+c[0])}catch(l){}else for(o=0;o<c.length;o++)e(r).jqGrid("delRowData",r.p.idPrefix+c[o]);r.p.selrow=null,r.p.selarrrow=[]}e.isFunction(t[r.p.id].afterComplete)&&setTimeout(function(){t[r.p.id].afterComplete.call(r,i,c)},500)}t[r.p.id].processing=!1,e("#dData","#"+g+"_2").removeClass("ui-state-active"),d[0]&&e.jgrid.hideModal("#"+e.jgrid.jqID(v.themodal),{gb:"#gbox_"+e.jgrid.jqID(u),jqm:s.jqModal,onClose:t[r.p.id].onClose})}},e.jgrid.ajaxOptions,t[r.p.id].ajaxDelOptions),i.url||t[r.p.id].useDataProxy||(e.isFunction(r.p.dataProxy)?t[r.p.id].useDataProxy=!0:(d[0]=!1,d[1]=d[1]+(" "+e.jgrid.errors.nourl))),d[0]&&(t[r.p.id].useDataProxy?(i=r.p.dataProxy.call(r,i,"del_"+r.p.id),void 0===i&&(i=[!0,""]),i[0]===!1?(d[0]=!1,d[1]=i[1]||"Error deleting the selected row!"):e.jgrid.hideModal("#"+e.jgrid.jqID(v.themodal),{gb:"#gbox_"+e.jgrid.jqID(u),jqm:s.jqModal,onClose:t[r.p.id].onClose})):e.ajax(i))}return d[0]===!1&&(e("#DelError>td","#"+g).html(d[1]),e("#DelError","#"+g).show()),!1}),e("#eData","#"+g+"_2").click(function(){return e.jgrid.hideModal("#"+e.jgrid.jqID(v.themodal),{gb:"#gbox_"+e.jgrid.jqID(u),jqm:t[r.p.id].jqModal,onClose:t[r.p.id].onClose}),!1}),d&&t[r.p.id].beforeShowForm.call(r,e("#"+g)),e.jgrid.viewModal("#"+e.jgrid.jqID(v.themodal),{gbox:"#gbox_"+e.jgrid.jqID(u),jqm:t[r.p.id].jqModal,overlay:t[r.p.id].overlay,modal:t[r.p.id].modal})}c&&t[r.p.id].afterShowForm.call(r,e("#"+g)),!0===t[r.p.id].closeOnEscape&&setTimeout(function(){e(".ui-jqdialog-titlebar-close","#"+e.jgrid.jqID(v.modalhead)).focus()},0)}})},navGrid:function(t,i,s,r,n,a,o){return i=e.extend({edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",del:!0,delicon:"ui-icon-trash",search:!0,searchicon:"ui-icon-search",refresh:!0,refreshicon:"ui-icon-refresh",refreshstate:"firstpage",view:!1,viewicon:"ui-icon-document",position:"left",closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,alertwidth:200,alertheight:"auto",alerttop:null,alertleft:null,alertzIndex:null},e.jgrid.nav,i||{}),this.each(function(){if(!this.nav){var l,d={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},c=this;if(c.grid&&"string"==typeof t){void 0===e("#"+d.themodal)[0]&&(!i.alerttop&&!i.alertleft&&(void 0!==window.innerWidth?(i.alertleft=window.innerWidth,i.alerttop=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(i.alertleft=document.documentElement.clientWidth,i.alerttop=document.documentElement.clientHeight):(i.alertleft=1024,i.alerttop=768),i.alertleft=i.alertleft/2-parseInt(i.alertwidth,10)/2,i.alerttop=i.alerttop/2-25),e.jgrid.createModal(d,"<div>"+i.alerttext+"</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>",{gbox:"#gbox_"+e.jgrid.jqID(c.p.id),jqModal:!0,drag:!0,resize:!0,caption:i.alertcap,top:i.alerttop,left:i.alertleft,width:i.alertwidth,height:i.alertheight,closeOnEscape:i.closeOnEscape,zIndex:i.alertzIndex},"#gview_"+e.jgrid.jqID(c.p.id),e("#gbox_"+e.jgrid.jqID(c.p.id))[0],!0));var h,u=1,p=function(){e(this).hasClass("ui-state-disabled")||e(this).addClass("ui-state-hover")},f=function(){e(this).removeClass("ui-state-hover")};for(i.cloneToTop&&c.p.toppager&&(u=2),h=0;u>h;h++){var g,m,v=e("<table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table navtable' style='float:left;table-layout:auto;'><tbody><tr></tr></tbody></table>");0===h?(g=t,m=c.p.id,g===c.p.toppager&&(m+="_top",u=1)):(g=c.p.toppager,m=c.p.id+"_top"),"rtl"===c.p.direction&&e(v).attr("dir","rtl").css("float","right"),i.add&&(r=r||{},l=e("<td class='ui-pg-button ui-corner-all'></td>"),e(l).append("<div class='ui-pg-div'><span class='ui-icon "+i.addicon+"'></span>"+i.addtext+"</div>"),e("tr",v).append(l),e(l,v).attr({title:i.addtitle||"",id:r.id||"add_"+m}).click(function(){return e(this).hasClass("ui-state-disabled")||(e.isFunction(i.addfunc)?i.addfunc.call(c):e(c).jqGrid("editGridRow","new",r)),!1}).hover(p,f),l=null),i.edit&&(l=e("<td class='ui-pg-button ui-corner-all'></td>"),s=s||{},e(l).append("<div class='ui-pg-div'><span class='ui-icon "+i.editicon+"'></span>"+i.edittext+"</div>"),e("tr",v).append(l),e(l,v).attr({title:i.edittitle||"",id:s.id||"edit_"+m}).click(function(){if(!e(this).hasClass("ui-state-disabled")){var t=c.p.selrow;t?e.isFunction(i.editfunc)?i.editfunc.call(c,t):e(c).jqGrid("editGridRow",t,s):(e.jgrid.viewModal("#"+d.themodal,{gbox:"#gbox_"+e.jgrid.jqID(c.p.id),jqm:!0}),e("#jqg_alrt").focus())}return!1}).hover(p,f),l=null),i.view&&(l=e("<td class='ui-pg-button ui-corner-all'></td>"),o=o||{},e(l).append("<div class='ui-pg-div'><span class='ui-icon "+i.viewicon+"'></span>"+i.viewtext+"</div>"),e("tr",v).append(l),e(l,v).attr({title:i.viewtitle||"",id:o.id||"view_"+m}).click(function(){if(!e(this).hasClass("ui-state-disabled")){var t=c.p.selrow;t?e.isFunction(i.viewfunc)?i.viewfunc.call(c,t):e(c).jqGrid("viewGridRow",t,o):(e.jgrid.viewModal("#"+d.themodal,{gbox:"#gbox_"+e.jgrid.jqID(c.p.id),jqm:!0}),e("#jqg_alrt").focus())}return!1}).hover(p,f),l=null),i.del&&(l=e("<td class='ui-pg-button ui-corner-all'></td>"),n=n||{},e(l).append("<div class='ui-pg-div'><span class='ui-icon "+i.delicon+"'></span>"+i.deltext+"</div>"),e("tr",v).append(l),e(l,v).attr({title:i.deltitle||"",id:n.id||"del_"+m}).click(function(){if(!e(this).hasClass("ui-state-disabled")){var t;c.p.multiselect?(t=c.p.selarrrow,0===t.length&&(t=null)):t=c.p.selrow,t?e.isFunction(i.delfunc)?i.delfunc.call(c,t):e(c).jqGrid("delGridRow",t,n):(e.jgrid.viewModal("#"+d.themodal,{gbox:"#gbox_"+e.jgrid.jqID(c.p.id),jqm:!0}),e("#jqg_alrt").focus())}return!1}).hover(p,f),l=null),(i.add||i.edit||i.del||i.view)&&e("tr",v).append("<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>"),i.search&&(l=e("<td class='ui-pg-button ui-corner-all'></td>"),a=a||{},e(l).append("<div class='ui-pg-div'><span class='ui-icon "+i.searchicon+"'></span>"+i.searchtext+"</div>"),e("tr",v).append(l),e(l,v).attr({title:i.searchtitle||"",id:a.id||"search_"+m}).click(function(){return e(this).hasClass("ui-state-disabled")||(e.isFunction(i.searchfunc)?i.searchfunc.call(c,a):e(c).jqGrid("searchGrid",a)),!1}).hover(p,f),a.showOnLoad&&!0===a.showOnLoad&&e(l,v).click(),l=null),i.refresh&&(l=e("<td class='ui-pg-button ui-corner-all'></td>"),e(l).append("<div class='ui-pg-div'><span class='ui-icon "+i.refreshicon+"'></span>"+i.refreshtext+"</div>"),e("tr",v).append(l),e(l,v).attr({title:i.refreshtitle||"",id:"refresh_"+m}).click(function(){if(!e(this).hasClass("ui-state-disabled")){e.isFunction(i.beforeRefresh)&&i.beforeRefresh.call(c),c.p.search=!1;try{var t=c.p.id;c.p.postData.filters="";try{e("#fbox_"+e.jgrid.jqID(t)).jqFilter("resetFilter")}catch(s){}e.isFunction(c.clearToolbar)&&c.clearToolbar.call(c,!1)}catch(r){}switch(i.refreshstate){case"firstpage":e(c).trigger("reloadGrid",[{page:1}]);break;case"current":e(c).trigger("reloadGrid",[{current:!0}])}e.isFunction(i.afterRefresh)&&i.afterRefresh.call(c)}return!1}).hover(p,f),l=null),l=e(".ui-jqgrid").css("font-size")||"11px",e("body").append("<div id='testpg2' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+l+";visibility:hidden;' ></div>"),l=e(v).clone().appendTo("#testpg2").width(),e("#testpg2").remove(),e(g+"_"+i.position,g).append(v),c.p._nvtd&&(l>c.p._nvtd[0]&&(e(g+"_"+i.position,g).width(l),c.p._nvtd[0]=l),c.p._nvtd[1]=l),v=l=l=null,this.nav=!0}}}})},navButtonAdd:function(t,i){return i=e.extend({caption:"newButton",title:"",buttonicon:"ui-icon-newwin",onClickButton:null,position:"last",cursor:"pointer"},i||{}),this.each(function(){if(this.grid){"string"==typeof t&&0!==t.indexOf("#")&&(t="#"+e.jgrid.jqID(t));var s=e(".navtable",t)[0],r=this;if(s&&(!i.id||void 0===e("#"+e.jgrid.jqID(i.id),s)[0])){var n=e("<td></td>");"NONE"===i.buttonicon.toString().toUpperCase()?e(n).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'>"+i.caption+"</div>"):e(n).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'><span class='ui-icon "+i.buttonicon+"'></span>"+i.caption+"</div>"),i.id&&e(n).attr("id",i.id),"first"===i.position?0===s.rows[0].cells.length?e("tr",s).append(n):e("tr td:eq(0)",s).before(n):e("tr",s).append(n),e(n,s).attr("title",i.title||"").click(function(t){return e(this).hasClass("ui-state-disabled")||e.isFunction(i.onClickButton)&&i.onClickButton.call(r,t),!1}).hover(function(){e(this).hasClass("ui-state-disabled")||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")})}}})},navSeparatorAdd:function(t,i){return i=e.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},i||{}),this.each(function(){if(this.grid){"string"==typeof t&&0!==t.indexOf("#")&&(t="#"+e.jgrid.jqID(t));var s=e(".navtable",t)[0];if(s){var r="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='"+i.sepclass+"'></span>"+i.sepcontent+"</td>";"first"===i.position?0===s.rows[0].cells.length?e("tr",s).append(r):e("tr td:eq(0)",s).before(r):e("tr",s).append(r)}}})},GridToForm:function(t,i){return this.each(function(){var s,r=this;if(r.grid){var n=e(r).jqGrid("getRowData",t);if(n)for(s in n)n.hasOwnProperty(s)&&(e("[name="+e.jgrid.jqID(s)+"]",i).is("input:radio")||e("[name="+e.jgrid.jqID(s)+"]",i).is("input:checkbox")?e("[name="+e.jgrid.jqID(s)+"]",i).each(function(){e(this).val()==n[s]?e(this)[r.p.useProp?"prop":"attr"]("checked",!0):e(this)[r.p.useProp?"prop":"attr"]("checked",!1)}):e("[name="+e.jgrid.jqID(s)+"]",i).val(n[s]))}})},FormToGrid:function(t,i,s,r){return this.each(function(){if(this.grid){s||(s="set"),r||(r="first");var n=e(i).serializeArray(),a={};e.each(n,function(e,t){a[t.name]=t.value}),"add"===s?e(this).jqGrid("addRowData",t,a,r):"set"===s&&e(this).jqGrid("setRowData",t,a)}})}})}(jQuery),function(e){e.fn.jqFilter=function(t){if("string"==typeof t){var i=e.fn.jqFilter[t];if(!i)throw"jqFilter - No such method: "+t;var s=e.makeArray(arguments).slice(1);return i.apply(this,s)}var r=e.extend(!0,{filter:null,columns:[],onChange:null,afterRedraw:null,checkValues:null,error:!1,errmsg:"",errorcheck:!0,
showQuery:!0,sopt:null,ops:[],operands:null,numopts:"eq,ne,lt,le,gt,ge,nu,nn,in,ni".split(","),stropts:"eq,ne,bw,bn,ew,en,cn,nc,nu,nn,in,ni".split(","),strarr:["text","string","blob"],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,direction:"ltr"},e.jgrid.filter,t||{});return this.each(function(){if(!this.filter){this.p=r,(null===this.p.filter||void 0===this.p.filter)&&(this.p.filter={groupOp:this.p.groupOps[0].op,rules:[],groups:[]});var t,i,s=this.p.columns.length,n=/msie/i.test(navigator.userAgent)&&!window.opera;if(this.p.initFilter=e.extend(!0,{},this.p.filter),s){for(t=0;s>t;t++)i=this.p.columns[t],i.stype?i.inputtype=i.stype:i.inputtype||(i.inputtype="text"),i.sorttype?i.searchtype=i.sorttype:i.searchtype||(i.searchtype="string"),void 0===i.hidden&&(i.hidden=!1),i.label||(i.label=i.name),i.index&&(i.name=i.index),i.hasOwnProperty("searchoptions")||(i.searchoptions={}),i.hasOwnProperty("searchrules")||(i.searchrules={});this.p.showQuery&&e(this).append("<table class='queryresult ui-widget ui-widget-content' style='display:block;max-width:440px;border:0px none;' dir='"+this.p.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var a=function(){return e("#"+e.jgrid.jqID(r.id))[0]||null},o=function(t,i){var s=[!0,""],n=a();if(e.isFunction(i.searchrules))s=i.searchrules.call(n,t,i);else if(e.jgrid&&e.jgrid.checkValues)try{s=e.jgrid.checkValues.call(n,t,-1,i.searchrules,i.label)}catch(o){}s&&s.length&&!1===s[0]&&(r.error=!s[0],r.errmsg=s[1])};this.onchange=function(){return this.p.error=!1,this.p.errmsg="",e.isFunction(this.p.onChange)?this.p.onChange.call(this,this.p):!1},this.reDraw=function(){e("table.group:first",this).remove();var t=this.createTableForGroup(r.filter,null);e(this).append(t),e.isFunction(this.p.afterRedraw)&&this.p.afterRedraw.call(this,this.p)},this.createTableForGroup=function(t,i){var s,n=this,a=e("<table class='group ui-widget ui-widget-content' style='border:0px none;'><tbody></tbody></table>"),o="left";"rtl"===this.p.direction&&(o="right",a.attr("dir","rtl")),null===i&&a.append("<tr class='error' style='display:none;'><th colspan='5' class='ui-state-error' align='"+o+"'></th></tr>");var l=e("<tr></tr>");if(a.append(l),o=e("<th colspan='5' align='"+o+"'></th>"),l.append(o),!0===this.p.ruleButtons){var d=e("<select class='opsel'></select>");o.append(d);var c,l="";for(s=0;s<r.groupOps.length;s++)c=t.groupOp===n.p.groupOps[s].op?" selected='selected'":"",l+="<option value='"+n.p.groupOps[s].op+"'"+c+">"+n.p.groupOps[s].text+"</option>";d.append(l).bind("change",function(){t.groupOp=e(d).val(),n.onchange()})}if(l="<span></span>",this.p.groupButton&&(l=e("<input type='button' value='+ {}' title='Add subgroup' class='add-group'/>"),l.bind("click",function(){return void 0===t.groups&&(t.groups=[]),t.groups.push({groupOp:r.groupOps[0].op,rules:[],groups:[]}),n.reDraw(),n.onchange(),!1})),o.append(l),!0===this.p.ruleButtons){var h,l=e("<input type='button' value='+' title='Add rule' class='add-rule ui-add'/>");l.bind("click",function(){for(void 0===t.rules&&(t.rules=[]),s=0;s<n.p.columns.length;s++){var i=void 0===n.p.columns[s].search?!0:n.p.columns[s].search,r=n.p.columns[s].hidden===!0;if(n.p.columns[s].searchoptions.searchhidden===!0&&i||i&&!r){h=n.p.columns[s];break}}return i=h.searchoptions.sopt?h.searchoptions.sopt:n.p.sopt?n.p.sopt:-1!==e.inArray(h.searchtype,n.p.strarr)?n.p.stropts:n.p.numopts,t.rules.push({field:h.name,op:i[0],data:""}),n.reDraw(),!1}),o.append(l)}if(null!==i&&(l=e("<input type='button' value='-' title='Delete group' class='delete-group'/>"),o.append(l),l.bind("click",function(){for(s=0;s<i.groups.length;s++)if(i.groups[s]===t){i.groups.splice(s,1);break}return n.reDraw(),n.onchange(),!1})),void 0!==t.groups)for(s=0;s<t.groups.length;s++)o=e("<tr></tr>"),a.append(o),l=e("<td class='first'></td>"),o.append(l),l=e("<td colspan='4'></td>"),l.append(this.createTableForGroup(t.groups[s],t)),o.append(l);if(void 0===t.groupOp&&(t.groupOp=n.p.groupOps[0].op),void 0!==t.rules)for(s=0;s<t.rules.length;s++)a.append(this.createTableRowForRule(t.rules[s],t));return a},this.createTableRowForRule=function(t,i){var s,o,l,d,c,h=this,u=a(),p=e("<tr></tr>"),f="";p.append("<td class='first'></td>");var g=e("<td class='columns'></td>");p.append(g);var m,v=e("<select></select>"),b=[];for(g.append(v),v.bind("change",function(){for(t.field=e(v).val(),l=e(this).parents("tr:first"),s=0;s<h.p.columns.length;s++)if(h.p.columns[s].name===t.field){d=h.p.columns[s];break}if(d){d.searchoptions.id=e.jgrid.randId(),n&&"text"===d.inputtype&&!d.searchoptions.size&&(d.searchoptions.size=10);var i=e.jgrid.createEl.call(u,d.inputtype,d.searchoptions,"",!0,h.p.ajaxSelectOptions,!0);e(i).addClass("input-elm"),o=d.searchoptions.sopt?d.searchoptions.sopt:h.p.sopt?h.p.sopt:-1!==e.inArray(d.searchtype,h.p.strarr)?h.p.stropts:h.p.numopts;var r="",a=0;for(b=[],e.each(h.p.ops,function(){b.push(this.oper)}),s=0;s<o.length;s++)m=e.inArray(o[s],b),-1!==m&&(0===a&&(t.op=h.p.ops[m].oper),r+="<option value='"+h.p.ops[m].oper+"'>"+h.p.ops[m].text+"</option>",a++);e(".selectopts",l).empty().append(r),e(".selectopts",l)[0].selectedIndex=0,e.jgrid.msie&&9>e.jgrid.msiever()&&(r=parseInt(e("select.selectopts",l)[0].offsetWidth,10)+1,e(".selectopts",l).width(r),e(".selectopts",l).css("width","auto")),e(".data",l).empty().append(i),e.jgrid.bindEv.call(u,i,d.searchoptions),e(".input-elm",l).bind("change",function(i){var s=e(this).hasClass("ui-autocomplete-input")?200:0;setTimeout(function(){var s=i.target;t.data="SPAN"===s.nodeName.toUpperCase()&&d.searchoptions&&e.isFunction(d.searchoptions.custom_value)?d.searchoptions.custom_value.call(u,e(s).children(".customelement:first"),"get"):s.value,h.onchange()},s)}),setTimeout(function(){t.data=e(i).val(),h.onchange()},0)}}),s=g=0;s<h.p.columns.length;s++){c=void 0===h.p.columns[s].search?!0:h.p.columns[s].search;var y=!0===h.p.columns[s].hidden;(!0===h.p.columns[s].searchoptions.searchhidden&&c||c&&!y)&&(c="",t.field===h.p.columns[s].name&&(c=" selected='selected'",g=s),f+="<option value='"+h.p.columns[s].name+"'"+c+">"+h.p.columns[s].label+"</option>")}v.append(f),f=e("<td class='operators'></td>"),p.append(f),d=r.columns[g],d.searchoptions.id=e.jgrid.randId(),n&&"text"===d.inputtype&&!d.searchoptions.size&&(d.searchoptions.size=10),g=e.jgrid.createEl.call(u,d.inputtype,d.searchoptions,t.data,!0,h.p.ajaxSelectOptions,!0),("nu"===t.op||"nn"===t.op)&&(e(g).attr("readonly","true"),e(g).attr("disabled","true"));var w=e("<select class='selectopts'></select>");for(f.append(w),w.bind("change",function(){t.op=e(w).val(),l=e(this).parents("tr:first");var i=e(".input-elm",l)[0];"nu"===t.op||"nn"===t.op?(t.data="",i.value="",i.setAttribute("readonly","true"),i.setAttribute("disabled","true")):(i.removeAttribute("readonly"),i.removeAttribute("disabled")),h.onchange()}),o=d.searchoptions.sopt?d.searchoptions.sopt:h.p.sopt?h.p.sopt:-1!==e.inArray(d.searchtype,h.p.strarr)?h.p.stropts:h.p.numopts,f="",e.each(h.p.ops,function(){b.push(this.oper)}),s=0;s<o.length;s++)m=e.inArray(o[s],b),-1!==m&&(c=t.op===h.p.ops[m].oper?" selected='selected'":"",f+="<option value='"+h.p.ops[m].oper+"'"+c+">"+h.p.ops[m].text+"</option>");return w.append(f),f=e("<td class='data'></td>"),p.append(f),f.append(g),e.jgrid.bindEv.call(u,g,d.searchoptions),e(g).addClass("input-elm").bind("change",function(){t.data="custom"===d.inputtype?d.searchoptions.custom_value.call(u,e(this).children(".customelement:first"),"get"):e(this).val(),h.onchange()}),f=e("<td></td>"),p.append(f),!0===this.p.ruleButtons&&(g=e("<input type='button' value='-' title='Delete rule' class='delete-rule ui-del'/>"),f.append(g),g.bind("click",function(){for(s=0;s<i.rules.length;s++)if(i.rules[s]===t){i.rules.splice(s,1);break}return h.reDraw(),h.onchange(),!1})),p},this.getStringForGroup=function(e){var t,i="(";if(void 0!==e.groups)for(t=0;t<e.groups.length;t++){1<i.length&&(i+=" "+e.groupOp+" ");try{i+=this.getStringForGroup(e.groups[t])}catch(s){alert(s)}}if(void 0!==e.rules)try{for(t=0;t<e.rules.length;t++)1<i.length&&(i+=" "+e.groupOp+" "),i+=this.getStringForRule(e.rules[t])}catch(r){alert(r)}return i+=")","()"===i?"":i},this.getStringForRule=function(t){var i,s,n="",a="";for(i=0;i<this.p.ops.length;i++)if(this.p.ops[i].oper===t.op){n=this.p.operands.hasOwnProperty(t.op)?this.p.operands[t.op]:"",a=this.p.ops[i].oper;break}for(i=0;i<this.p.columns.length;i++)if(this.p.columns[i].name===t.field){s=this.p.columns[i];break}return void 0===s?"":(i=t.data,("bw"===a||"bn"===a)&&(i+="%"),("ew"===a||"en"===a)&&(i="%"+i),("cn"===a||"nc"===a)&&(i="%"+i+"%"),("in"===a||"ni"===a)&&(i=" ("+i+")"),r.errorcheck&&o(t.data,s),-1!==e.inArray(s.searchtype,["int","integer","float","number","currency"])||"nn"===a||"nu"===a?t.field+" "+n+" "+i:t.field+" "+n+' "'+i+'"')},this.resetFilter=function(){this.p.filter=e.extend(!0,{},this.p.initFilter),this.reDraw(),this.onchange()},this.hideError=function(){e("th.ui-state-error",this).html(""),e("tr.error",this).hide()},this.showError=function(){e("th.ui-state-error",this).html(this.p.errmsg),e("tr.error",this).show()},this.toUserFriendlyString=function(){return this.getStringForGroup(r.filter)},this.toString=function(){function e(i){var s,r="(";if(void 0!==i.groups)for(s=0;s<i.groups.length;s++)1<r.length&&(r="OR"===i.groupOp?r+" || ":r+" && "),r+=e(i.groups[s]);if(void 0!==i.rules)for(s=0;s<i.rules.length;s++){1<r.length&&(r="OR"===i.groupOp?r+" || ":r+" && ");var n=i.rules[s];if(t.p.errorcheck){for(var a=void 0,l=void 0,a=0;a<t.p.columns.length;a++)if(t.p.columns[a].name===n.field){l=t.p.columns[a];break}l&&o(n.data,l)}r+=n.op+"(item."+n.field+",'"+n.data+"')"}return r+=")","()"===r?"":r}var t=this;return e(this.p.filter)},this.reDraw(),this.p.showQuery&&this.onchange(),this.filter=!0}}})},e.extend(e.fn.jqFilter,{toSQLString:function(){var e="";return this.each(function(){e=this.toUserFriendlyString()}),e},filterData:function(){var e;return this.each(function(){e=this.p.filter}),e},getParameter:function(e){return void 0!==e&&this.p.hasOwnProperty(e)?this.p[e]:this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},addFilter:function(t){"string"==typeof t&&(t=e.jgrid.parse(t)),this.each(function(){this.p.filter=t,this.reDraw(),this.onchange()})}})}(jQuery),function(e){e.jgrid.inlineEdit=e.jgrid.inlineEdit||{},e.jgrid.extend({editRow:function(t,i,s,r,n,a,o,l,d){var c={},h=e.makeArray(arguments).slice(1);return"object"===e.type(h[0])?c=h[0]:(void 0!==i&&(c.keys=i),e.isFunction(s)&&(c.oneditfunc=s),e.isFunction(r)&&(c.successfunc=r),void 0!==n&&(c.url=n),void 0!==a&&(c.extraparam=a),e.isFunction(o)&&(c.aftersavefunc=o),e.isFunction(l)&&(c.errorfunc=l),e.isFunction(d)&&(c.afterrestorefunc=d)),c=e.extend(!0,{keys:!1,oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST"},e.jgrid.inlineEdit,c),this.each(function(){var i,s,r,n,a=this,o=0,l=null,d={};a.grid&&(r=e(a).jqGrid("getInd",t,!0),!1!==r&&"0"===(e(r).attr("editable")||"0")&&!e(r).hasClass("not-editable-row"))&&(n=a.p.colModel,e('td[role="gridcell"]',r).each(function(r){i=n[r].name;var c=!0===a.p.treeGrid&&i===a.p.ExpandColumn;if(c)s=e("span:first",this).html();else try{s=e.unformat.call(a,this,{rowId:t,colModel:n[r]},r)}catch(h){s=n[r].edittype&&"textarea"===n[r].edittype?e(this).text():e(this).html()}if("cb"!==i&&"subgrid"!==i&&"rn"!==i&&(a.p.autoencode&&(s=e.jgrid.htmlDecode(s)),d[i]=s,!0===n[r].editable)){null===l&&(l=r),c?e("span:first",this).html(""):e(this).html("");var u=e.extend({},n[r].editoptions||{},{id:t+"_"+i,name:i});n[r].edittype||(n[r].edittype="text"),("&nbsp;"===s||"&#160;"===s||1===s.length&&160===s.charCodeAt(0))&&(s="");var p=e.jgrid.createEl.call(a,n[r].edittype,u,s,!0,e.extend({},e.jgrid.ajaxOptions,a.p.ajaxSelectOptions||{}));e(p).addClass("editable"),c?e("span:first",this).append(p):e(this).append(p),e.jgrid.bindEv.call(a,p,u),"select"===n[r].edittype&&void 0!==n[r].editoptions&&!0===n[r].editoptions.multiple&&void 0===n[r].editoptions.dataUrl&&e.jgrid.msie&&e(p).width(e(p).width()),o++}}),o>0&&(d.id=t,a.p.savedRow.push(d),e(r).attr("editable","1"),e("td:eq("+l+") input",r).focus(),!0===c.keys&&e(r).bind("keydown",function(i){if(27===i.keyCode){if(e(a).jqGrid("restoreRow",t,c.afterrestorefunc),a.p._inlinenav)try{e(a).jqGrid("showAddEditButtons")}catch(s){}return!1}if(13===i.keyCode){if("TEXTAREA"===i.target.tagName)return!0;if(e(a).jqGrid("saveRow",t,c)&&a.p._inlinenav)try{e(a).jqGrid("showAddEditButtons")}catch(r){}return!1}}),e(a).triggerHandler("jqGridInlineEditRow",[t,c]),e.isFunction(c.oneditfunc)&&c.oneditfunc.call(a,t)))})},saveRow:function(t,i,s,r,n,a,o){var l=e.makeArray(arguments).slice(1),d={};"object"===e.type(l[0])?d=l[0]:(e.isFunction(i)&&(d.successfunc=i),void 0!==s&&(d.url=s),void 0!==r&&(d.extraparam=r),e.isFunction(n)&&(d.aftersavefunc=n),e.isFunction(a)&&(d.errorfunc=a),e.isFunction(o)&&(d.afterrestorefunc=o));var c,h,u,p,d=e.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST"},e.jgrid.inlineEdit,d),f=!1,g=this[0],m={},v={},b={};if(!g.grid)return f;if(p=e(g).jqGrid("getInd",t,!0),!1===p)return f;if(l=e(p).attr("editable"),d.url=d.url||g.p.editurl,"1"===l){var y;if(e('td[role="gridcell"]',p).each(function(t){if(y=g.p.colModel[t],c=y.name,"cb"!==c&&"subgrid"!==c&&!0===y.editable&&"rn"!==c&&!e(this).hasClass("not-editable-cell")){switch(y.edittype){case"checkbox":var i=["Yes","No"];y.editoptions&&(i=y.editoptions.value.split(":")),m[c]=e("input",this).is(":checked")?i[0]:i[1];break;case"text":case"password":case"textarea":case"button":m[c]=e("input, textarea",this).val();break;case"select":if(y.editoptions.multiple){var i=e("select",this),s=[];m[c]=e(i).val(),m[c]=m[c]?m[c].join(","):"",e("select option:selected",this).each(function(t,i){s[t]=e(i).text()}),v[c]=s.join(",")}else m[c]=e("select option:selected",this).val(),v[c]=e("select option:selected",this).text();y.formatter&&"select"===y.formatter&&(v={});break;case"custom":try{if(!y.editoptions||!e.isFunction(y.editoptions.custom_value))throw"e1";if(m[c]=y.editoptions.custom_value.call(g,e(".customelement",this),"get"),void 0===m[c])throw"e2"}catch(r){"e1"===r&&e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_value' "+e.jgrid.edit.msg.nodefined,e.jgrid.edit.bClose),"e2"===r?e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_value' "+e.jgrid.edit.msg.novalue,e.jgrid.edit.bClose):e.jgrid.info_dialog(e.jgrid.errors.errcap,r.message,e.jgrid.edit.bClose)}}if(u=e.jgrid.checkValues.call(g,m[c],t),!1===u[0])return u[1]=m[c]+" "+u[1],!1;g.p.autoencode&&(m[c]=e.jgrid.htmlEncode(m[c])),"clientArray"!==d.url&&y.editoptions&&!0===y.editoptions.NullIfEmpty&&""===m[c]&&(b[c]="null")}}),!1===u[0]){try{var w=g.rows.namedItem(t),_=e.jgrid.findPos(w);e.jgrid.info_dialog(e.jgrid.errors.errcap,u[1],e.jgrid.edit.bClose,{left:_[0],top:_[1]+e(w).outerHeight()})}catch(x){alert(u[1])}return f}if(l=g.p.prmNames,w=t,_=!1===g.p.keyIndex?l.id:g.p.colModel[g.p.keyIndex+(!0===g.p.rownumbers?1:0)+(!0===g.p.multiselect?1:0)+(!0===g.p.subGrid?1:0)].name,m&&(m[l.oper]=l.editoper,void 0===m[_]||""===m[_]?m[_]=t:p.id!==g.p.idPrefix+m[_]&&(l=e.jgrid.stripPref(g.p.idPrefix,t),void 0!==g.p._index[l]&&(g.p._index[m[_]]=g.p._index[l],delete g.p._index[l]),t=g.p.idPrefix+m[_],e(p).attr("id",t),g.p.selrow===w&&(g.p.selrow=t),e.isArray(g.p.selarrrow)&&(l=e.inArray(w,g.p.selarrrow),l>=0&&(g.p.selarrrow[l]=t)),g.p.multiselect)&&(l="jqg_"+g.p.id+"_"+t,e("input.cbox",p).attr("id",l).attr("name",l)),void 0===g.p.inlineData&&(g.p.inlineData={}),m=e.extend({},m,g.p.inlineData,d.extraparam)),"clientArray"===d.url){for(m=e.extend({},m,v),g.p.autoencode&&e.each(m,function(t,i){m[t]=e.jgrid.htmlDecode(i)}),l=e(g).jqGrid("setRowData",t,m),e(p).attr("editable","0"),_=0;_<g.p.savedRow.length;_++)if(""+g.p.savedRow[_].id==""+w){h=_;break}h>=0&&g.p.savedRow.splice(h,1),e(g).triggerHandler("jqGridInlineAfterSaveRow",[t,l,m,d]),e.isFunction(d.aftersavefunc)&&d.aftersavefunc.call(g,t,l,d),f=!0,e(p).removeClass("jqgrid-new-row").unbind("keydown")}else e("#lui_"+e.jgrid.jqID(g.p.id)).show(),b=e.extend({},m,b),b[_]=e.jgrid.stripPref(g.p.idPrefix,b[_]),e.ajax(e.extend({url:d.url,data:e.isFunction(g.p.serializeRowData)?g.p.serializeRowData.call(g,b):b,type:d.mtype,async:!1,complete:function(i,s){if(e("#lui_"+e.jgrid.jqID(g.p.id)).hide(),"success"===s){var r,n=!0;if(r=e(g).triggerHandler("jqGridInlineSuccessSaveRow",[i,t,d]),e.isArray(r)||(r=[!0,m]),r[0]&&e.isFunction(d.successfunc)&&(r=d.successfunc.call(g,i)),e.isArray(r)?(n=r[0],m=r[1]||m):n=r,!0===n){for(g.p.autoencode&&e.each(m,function(t,i){m[t]=e.jgrid.htmlDecode(i)}),m=e.extend({},m,v),e(g).jqGrid("setRowData",t,m),e(p).attr("editable","0"),n=0;n<g.p.savedRow.length;n++)if(""+g.p.savedRow[n].id==""+t){h=n;break}h>=0&&g.p.savedRow.splice(h,1),e(g).triggerHandler("jqGridInlineAfterSaveRow",[t,i,m,d]),e.isFunction(d.aftersavefunc)&&d.aftersavefunc.call(g,t,i),f=!0,e(p).removeClass("jqgrid-new-row").unbind("keydown")}else e(g).triggerHandler("jqGridInlineErrorSaveRow",[t,i,s,null,d]),e.isFunction(d.errorfunc)&&d.errorfunc.call(g,t,i,s,null),!0===d.restoreAfterError&&e(g).jqGrid("restoreRow",t,d.afterrestorefunc)}},error:function(i,s,r){if(e("#lui_"+e.jgrid.jqID(g.p.id)).hide(),e(g).triggerHandler("jqGridInlineErrorSaveRow",[t,i,s,r,d]),e.isFunction(d.errorfunc))d.errorfunc.call(g,t,i,s,r);else{i=i.responseText||i.statusText;try{e.jgrid.info_dialog(e.jgrid.errors.errcap,'<div class="ui-state-error">'+i+"</div>",e.jgrid.edit.bClose,{buttonalign:"right"})}catch(n){alert(i)}}!0===d.restoreAfterError&&e(g).jqGrid("restoreRow",t,d.afterrestorefunc)}},e.jgrid.ajaxOptions,g.p.ajaxRowOptions||{}))}return f},restoreRow:function(t,i){var s=e.makeArray(arguments).slice(1),r={};return"object"===e.type(s[0])?r=s[0]:e.isFunction(i)&&(r.afterrestorefunc=i),r=e.extend(!0,{},e.jgrid.inlineEdit,r),this.each(function(){var i,s,n,a=this,o={};if(a.grid&&(s=e(a).jqGrid("getInd",t,!0),s!==!1)){for(n=0;n<a.p.savedRow.length;n++)if(""+a.p.savedRow[n].id==""+t){i=n;break}if(i>=0){if(e.isFunction(e.fn.datepicker))try{e("input.hasDatepicker","#"+e.jgrid.jqID(s.id)).datepicker("hide")}catch(l){}e.each(a.p.colModel,function(){this.editable===!0&&a.p.savedRow[i].hasOwnProperty(this.name)&&(o[this.name]=a.p.savedRow[i][this.name])}),e(a).jqGrid("setRowData",t,o),e(s).attr("editable","0").unbind("keydown"),a.p.savedRow.splice(i,1),e("#"+e.jgrid.jqID(t),"#"+e.jgrid.jqID(a.p.id)).hasClass("jqgrid-new-row")&&setTimeout(function(){e(a).jqGrid("delRowData",t),e(a).jqGrid("showAddEditButtons")},0)}e(a).triggerHandler("jqGridInlineAfterRestoreRow",[t]),e.isFunction(r.afterrestorefunc)&&r.afterrestorefunc.call(a,t)}})},addRow:function(t){return t=e.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,addRowParams:{extraparam:{}}},t||{}),this.each(function(){if(this.grid){var i=this;if(t.rowID=e.isFunction(t.rowID)?t.rowID.call(i,t):null!=t.rowID?t.rowID:e.jgrid.randId(),!0===t.useDefValues&&e(i.p.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var s=this.editoptions.defaultValue,s=e.isFunction(s)?s.call(i):s;t.initdata[this.name]=s}}),e(i).jqGrid("addRowData",t.rowID,t.initdata,t.position),t.rowID=i.p.idPrefix+t.rowID,e("#"+e.jgrid.jqID(t.rowID),"#"+e.jgrid.jqID(i.p.id)).addClass("jqgrid-new-row"),t.useFormatter)e("#"+e.jgrid.jqID(t.rowID)+" .ui-inline-edit","#"+e.jgrid.jqID(i.p.id)).click();else{var s=i.p.prmNames;t.addRowParams.extraparam[s.oper]=s.addoper,e(i).jqGrid("editRow",t.rowID,t.addRowParams),e(i).jqGrid("setSelection",t.rowID)}}})},inlineNav:function(t,i){return i=e.extend(!0,{edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",save:!0,saveicon:"ui-icon-disk",cancel:!0,cancelicon:"ui-icon-cancel",addParams:{addRowParams:{extraparam:{}}},editParams:{},restoreAfterSelect:!0},e.jgrid.nav,i||{}),this.each(function(){if(this.grid){var s,r=this,n=e.jgrid.jqID(r.p.id);if(r.p._inlinenav=!0,!0===i.addParams.useFormatter){var a,o=r.p.colModel;for(a=0;a<o.length;a++)if(o[a].formatter&&"actions"===o[a].formatter){o[a].formatoptions&&(o=e.extend({keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},o[a].formatoptions),i.addParams.addRowParams={keys:o.keys,oneditfunc:o.onEdit,successfunc:o.onSuccess,url:o.url,extraparam:o.extraparam,aftersavefunc:o.afterSave,errorfunc:o.onError,afterrestorefunc:o.afterRestore});break}}i.add&&e(r).jqGrid("navButtonAdd",t,{caption:i.addtext,title:i.addtitle,buttonicon:i.addicon,id:r.p.id+"_iladd",onClickButton:function(){e(r).jqGrid("addRow",i.addParams),i.addParams.useFormatter||(e("#"+n+"_ilsave").removeClass("ui-state-disabled"),e("#"+n+"_ilcancel").removeClass("ui-state-disabled"),e("#"+n+"_iladd").addClass("ui-state-disabled"),e("#"+n+"_iledit").addClass("ui-state-disabled"))}}),i.edit&&e(r).jqGrid("navButtonAdd",t,{caption:i.edittext,title:i.edittitle,buttonicon:i.editicon,id:r.p.id+"_iledit",onClickButton:function(){var t=e(r).jqGrid("getGridParam","selrow");t?(e(r).jqGrid("editRow",t,i.editParams),e("#"+n+"_ilsave").removeClass("ui-state-disabled"),e("#"+n+"_ilcancel").removeClass("ui-state-disabled"),e("#"+n+"_iladd").addClass("ui-state-disabled"),e("#"+n+"_iledit").addClass("ui-state-disabled")):(e.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+n,jqm:!0}),e("#jqg_alrt").focus())}}),i.save&&(e(r).jqGrid("navButtonAdd",t,{caption:i.savetext||"",title:i.savetitle||"Save row",buttonicon:i.saveicon,id:r.p.id+"_ilsave",onClickButton:function(){var t=r.p.savedRow[0].id;if(t){var s=r.p.prmNames,a=s.oper,o={};e("#"+e.jgrid.jqID(t),"#"+n).hasClass("jqgrid-new-row")?(i.addParams.addRowParams.extraparam[a]=s.addoper,o=i.addParams.addRowParams):(i.editParams.extraparam||(i.editParams.extraparam={}),i.editParams.extraparam[a]=s.editoper,o=i.editParams),e(r).jqGrid("saveRow",t,o)&&e(r).jqGrid("showAddEditButtons")}else e.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+n,jqm:!0}),e("#jqg_alrt").focus()}}),e("#"+n+"_ilsave").addClass("ui-state-disabled")),i.cancel&&(e(r).jqGrid("navButtonAdd",t,{caption:i.canceltext||"",title:i.canceltitle||"Cancel row editing",buttonicon:i.cancelicon,id:r.p.id+"_ilcancel",onClickButton:function(){var t=r.p.savedRow[0].id,s={};t?(s=e("#"+e.jgrid.jqID(t),"#"+n).hasClass("jqgrid-new-row")?i.addParams.addRowParams:i.editParams,e(r).jqGrid("restoreRow",t,s),e(r).jqGrid("showAddEditButtons")):(e.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+n,jqm:!0}),e("#jqg_alrt").focus())}}),e("#"+n+"_ilcancel").addClass("ui-state-disabled")),!0===i.restoreAfterSelect&&(s=e.isFunction(r.p.beforeSelectRow)?r.p.beforeSelectRow:!1,r.p.beforeSelectRow=function(t,n){var a=!0;return r.p.savedRow.length>0&&r.p._inlinenav===!0&&t!==r.p.selrow&&null!==r.p.selrow&&(r.p.selrow===i.addParams.rowID?e(r).jqGrid("delRowData",r.p.selrow):e(r).jqGrid("restoreRow",r.p.selrow,i.editParams),e(r).jqGrid("showAddEditButtons")),s&&(a=s.call(r,t,n)),a})}})},showAddEditButtons:function(){return this.each(function(){if(this.grid){var t=e.jgrid.jqID(this.p.id);e("#"+t+"_ilsave").addClass("ui-state-disabled"),e("#"+t+"_ilcancel").addClass("ui-state-disabled"),e("#"+t+"_iladd").removeClass("ui-state-disabled"),e("#"+t+"_iledit").removeClass("ui-state-disabled")}})}})}(jQuery),function(e){e.jgrid.extend({editCell:function(t,i,s){return this.each(function(){var r,n,a,o,l=this;if(l.grid&&!0===l.p.cellEdit){if(i=parseInt(i,10),l.p.selrow=l.rows[t].id,l.p.knv||e(l).jqGrid("GridNav"),0<l.p.savedRow.length){if(!0===s&&t==l.p.iRow&&i==l.p.iCol)return;e(l).jqGrid("saveCell",l.p.savedRow[0].id,l.p.savedRow[0].ic)}else window.setTimeout(function(){e("#"+e.jgrid.jqID(l.p.knv)).attr("tabindex","-1").focus()},0);if(o=l.p.colModel[i],r=o.name,"subgrid"!==r&&"cb"!==r&&"rn"!==r){if(a=e("td:eq("+i+")",l.rows[t]),!0!==o.editable||!0!==s||a.hasClass("not-editable-cell"))0<=parseInt(l.p.iCol,10)&&0<=parseInt(l.p.iRow,10)&&(e("td:eq("+l.p.iCol+")",l.rows[l.p.iRow]).removeClass("edit-cell ui-state-highlight"),e(l.rows[l.p.iRow]).removeClass("selected-row ui-state-hover")),a.addClass("edit-cell ui-state-highlight"),e(l.rows[t]).addClass("selected-row ui-state-hover"),n=a.html().replace(/\&#160\;/gi,""),e(l).triggerHandler("jqGridSelectCell",[l.rows[t].id,r,n,t,i]),e.isFunction(l.p.onSelectCell)&&l.p.onSelectCell.call(l,l.rows[t].id,r,n,t,i);else{0<=parseInt(l.p.iCol,10)&&0<=parseInt(l.p.iRow,10)&&(e("td:eq("+l.p.iCol+")",l.rows[l.p.iRow]).removeClass("edit-cell ui-state-highlight"),e(l.rows[l.p.iRow]).removeClass("selected-row ui-state-hover")),e(a).addClass("edit-cell ui-state-highlight"),e(l.rows[t]).addClass("selected-row ui-state-hover");try{n=e.unformat.call(l,a,{rowId:l.rows[t].id,colModel:o},i)}catch(d){n=o.edittype&&"textarea"===o.edittype?e(a).text():e(a).html()}if(l.p.autoencode&&(n=e.jgrid.htmlDecode(n)),o.edittype||(o.edittype="text"),l.p.savedRow.push({id:t,ic:i,name:r,v:n}),("&nbsp;"===n||"&#160;"===n||1===n.length&&160===n.charCodeAt(0))&&(n=""),e.isFunction(l.p.formatCell)){var c=l.p.formatCell.call(l,l.rows[t].id,r,n,t,i);void 0!==c&&(n=c)}var c=e.extend({},o.editoptions||{},{id:t+"_"+r,name:r}),h=e.jgrid.createEl.call(l,o.edittype,c,n,!0,e.extend({},e.jgrid.ajaxOptions,l.p.ajaxSelectOptions||{}));e(l).triggerHandler("jqGridBeforeEditCell",[l.rows[t].id,r,n,t,i]),e.isFunction(l.p.beforeEditCell)&&l.p.beforeEditCell.call(l,l.rows[t].id,r,n,t,i),e(a).html("").append(h).attr("tabindex","0"),e.jgrid.bindEv.call(l,h,c),window.setTimeout(function(){e(h).focus()},0),e("input, select, textarea",a).bind("keydown",function(s){if(27===s.keyCode&&(e("input.hasDatepicker",a).length>0?e(".ui-datepicker").is(":hidden")?e(l).jqGrid("restoreCell",t,i):e("input.hasDatepicker",a).datepicker("hide"):e(l).jqGrid("restoreCell",t,i)),13===s.keyCode)return e(l).jqGrid("saveCell",t,i),!1;if(9===s.keyCode){if(l.grid.hDiv.loading)return!1;s.shiftKey?e(l).jqGrid("prevCell",t,i):e(l).jqGrid("nextCell",t,i)}s.stopPropagation()}),e(l).triggerHandler("jqGridAfterEditCell",[l.rows[t].id,r,n,t,i]),e.isFunction(l.p.afterEditCell)&&l.p.afterEditCell.call(l,l.rows[t].id,r,n,t,i)}l.p.iCol=i,l.p.iRow=t}}})},saveCell:function(t,i){return this.each(function(){var s,r=this;if(r.grid&&!0===r.p.cellEdit){if(s=1<=r.p.savedRow.length?0:null,null!==s){var n,a,o=e("td:eq("+i+")",r.rows[t]),l=r.p.colModel[i],d=l.name,c=e.jgrid.jqID(d);switch(l.edittype){case"select":if(l.editoptions.multiple){var c=e("#"+t+"_"+c,r.rows[t]),h=[];(n=e(c).val())?n.join(","):n="",e("option:selected",c).each(function(t,i){h[t]=e(i).text()}),a=h.join(",")}else n=e("#"+t+"_"+c+" option:selected",r.rows[t]).val(),a=e("#"+t+"_"+c+" option:selected",r.rows[t]).text();l.formatter&&(a=n);break;case"checkbox":var u=["Yes","No"];l.editoptions&&(u=l.editoptions.value.split(":")),a=n=e("#"+t+"_"+c,r.rows[t]).is(":checked")?u[0]:u[1];break;case"password":case"text":case"textarea":case"button":a=n=e("#"+t+"_"+c,r.rows[t]).val();break;case"custom":try{if(!l.editoptions||!e.isFunction(l.editoptions.custom_value))throw"e1";if(n=l.editoptions.custom_value.call(r,e(".customelement",o),"get"),void 0===n)throw"e2";a=n}catch(p){"e1"===p&&e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_value' "+e.jgrid.edit.msg.nodefined,e.jgrid.edit.bClose),"e2"===p?e.jgrid.info_dialog(e.jgrid.errors.errcap,"function 'custom_value' "+e.jgrid.edit.msg.novalue,e.jgrid.edit.bClose):e.jgrid.info_dialog(e.jgrid.errors.errcap,p.message,e.jgrid.edit.bClose)}}if(a!==r.p.savedRow[s].v){(s=e(r).triggerHandler("jqGridBeforeSaveCell",[r.rows[t].id,d,n,t,i]))&&(a=n=s),e.isFunction(r.p.beforeSaveCell)&&(s=r.p.beforeSaveCell.call(r,r.rows[t].id,d,n,t,i))&&(a=n=s);var f=e.jgrid.checkValues.call(r,n,i);if(!0===f[0]){if(s=e(r).triggerHandler("jqGridBeforeSubmitCell",[r.rows[t].id,d,n,t,i])||{},e.isFunction(r.p.beforeSubmitCell)&&((s=r.p.beforeSubmitCell.call(r,r.rows[t].id,d,n,t,i))||(s={})),0<e("input.hasDatepicker",o).length&&e("input.hasDatepicker",o).datepicker("hide"),"remote"===r.p.cellsubmit)if(r.p.cellurl){var g={};r.p.autoencode&&(n=e.jgrid.htmlEncode(n)),g[d]=n,u=r.p.prmNames,l=u.id,c=u.oper,g[l]=e.jgrid.stripPref(r.p.idPrefix,r.rows[t].id),g[c]=u.editoper,g=e.extend(s,g),e("#lui_"+e.jgrid.jqID(r.p.id)).show(),r.grid.hDiv.loading=!0,e.ajax(e.extend({url:r.p.cellurl,data:e.isFunction(r.p.serializeCellData)?r.p.serializeCellData.call(r,g):g,type:"POST",complete:function(s,l){if(e("#lui_"+r.p.id).hide(),r.grid.hDiv.loading=!1,"success"===l){var c=e(r).triggerHandler("jqGridAfterSubmitCell",[r,s,g.id,d,n,t,i])||[!0,""];c[0]===!0&&e.isFunction(r.p.afterSubmitCell)&&(c=r.p.afterSubmitCell.call(r,s,g.id,d,n,t,i)),c[0]===!0?(e(o).empty(),e(r).jqGrid("setCell",r.rows[t].id,i,a,!1,!1,!0),e(o).addClass("dirty-cell"),e(r.rows[t]).addClass("edited"),e(r).triggerHandler("jqGridAfterSaveCell",[r.rows[t].id,d,n,t,i]),e.isFunction(r.p.afterSaveCell)&&r.p.afterSaveCell.call(r,r.rows[t].id,d,n,t,i),r.p.savedRow.splice(0,1)):(e.jgrid.info_dialog(e.jgrid.errors.errcap,c[1],e.jgrid.edit.bClose),e(r).jqGrid("restoreCell",t,i))}},error:function(s,n,a){e("#lui_"+e.jgrid.jqID(r.p.id)).hide(),r.grid.hDiv.loading=!1,e(r).triggerHandler("jqGridErrorCell",[s,n,a]),e.isFunction(r.p.errorCell)?r.p.errorCell.call(r,s,n,a):e.jgrid.info_dialog(e.jgrid.errors.errcap,s.status+" : "+s.statusText+"<br/>"+n,e.jgrid.edit.bClose),e(r).jqGrid("restoreCell",t,i)}},e.jgrid.ajaxOptions,r.p.ajaxCellOptions||{}))}else try{e.jgrid.info_dialog(e.jgrid.errors.errcap,e.jgrid.errors.nourl,e.jgrid.edit.bClose),e(r).jqGrid("restoreCell",t,i)}catch(m){}"clientArray"===r.p.cellsubmit&&(e(o).empty(),e(r).jqGrid("setCell",r.rows[t].id,i,a,!1,!1,!0),e(o).addClass("dirty-cell"),e(r.rows[t]).addClass("edited"),e(r).triggerHandler("jqGridAfterSaveCell",[r.rows[t].id,d,n,t,i]),e.isFunction(r.p.afterSaveCell)&&r.p.afterSaveCell.call(r,r.rows[t].id,d,n,t,i),r.p.savedRow.splice(0,1))}else try{window.setTimeout(function(){e.jgrid.info_dialog(e.jgrid.errors.errcap,n+" "+f[1],e.jgrid.edit.bClose)},100),e(r).jqGrid("restoreCell",t,i)}catch(v){}}else e(r).jqGrid("restoreCell",t,i)}window.setTimeout(function(){e("#"+e.jgrid.jqID(r.p.knv)).attr("tabindex","-1").focus()},0)}})},restoreCell:function(t,i){return this.each(function(){var s,r=this;if(r.grid&&!0===r.p.cellEdit){if(s=1<=r.p.savedRow.length?0:null,null!==s){var n=e("td:eq("+i+")",r.rows[t]);if(e.isFunction(e.fn.datepicker))try{e("input.hasDatepicker",n).datepicker("hide")}catch(a){}e(n).empty().attr("tabindex","-1"),e(r).jqGrid("setCell",r.rows[t].id,i,r.p.savedRow[s].v,!1,!1,!0),e(r).triggerHandler("jqGridAfterRestoreCell",[r.rows[t].id,r.p.savedRow[s].v,t,i]),e.isFunction(r.p.afterRestoreCell)&&r.p.afterRestoreCell.call(r,r.rows[t].id,r.p.savedRow[s].v,t,i),r.p.savedRow.splice(0,1)}window.setTimeout(function(){e("#"+r.p.knv).attr("tabindex","-1").focus()},0)}})},nextCell:function(t,i){return this.each(function(){var s,r=!1;if(this.grid&&!0===this.p.cellEdit){for(s=i+1;s<this.p.colModel.length;s++)if(!0===this.p.colModel[s].editable){r=s;break}!1!==r?e(this).jqGrid("editCell",t,r,!0):0<this.p.savedRow.length&&e(this).jqGrid("saveCell",t,i)}})},prevCell:function(t,i){return this.each(function(){var s,r=!1;if(this.grid&&!0===this.p.cellEdit){for(s=i-1;s>=0;s--)if(!0===this.p.colModel[s].editable){r=s;break}!1!==r?e(this).jqGrid("editCell",t,r,!0):0<this.p.savedRow.length&&e(this).jqGrid("saveCell",t,i)}})},GridNav:function(){return this.each(function(){function t(t,i,r){if("v"===r.substr(0,1)){var n=e(s.grid.bDiv)[0].clientHeight,a=e(s.grid.bDiv)[0].scrollTop,o=s.rows[t].offsetTop+s.rows[t].clientHeight,l=s.rows[t].offsetTop;"vd"===r&&o>=n&&(e(s.grid.bDiv)[0].scrollTop=e(s.grid.bDiv)[0].scrollTop+s.rows[t].clientHeight),"vu"===r&&a>l&&(e(s.grid.bDiv)[0].scrollTop=e(s.grid.bDiv)[0].scrollTop-s.rows[t].clientHeight)}"h"===r&&(r=e(s.grid.bDiv)[0].clientWidth,n=e(s.grid.bDiv)[0].scrollLeft,a=s.rows[t].cells[i].offsetLeft,s.rows[t].cells[i].offsetLeft+s.rows[t].cells[i].clientWidth>=r+parseInt(n,10)?e(s.grid.bDiv)[0].scrollLeft=e(s.grid.bDiv)[0].scrollLeft+s.rows[t].cells[i].clientWidth:n>a&&(e(s.grid.bDiv)[0].scrollLeft=e(s.grid.bDiv)[0].scrollLeft-s.rows[t].cells[i].clientWidth));
}function i(e,t){var i,r;if("lft"===t)for(i=e+1,r=e;r>=0;r--)if(!0!==s.p.colModel[r].hidden){i=r;break}if("rgt"===t)for(i=e-1,r=e;r<s.p.colModel.length;r++)if(!0!==s.p.colModel[r].hidden){i=r;break}return i}var s=this;if(s.grid&&!0===s.p.cellEdit){s.p.knv=s.p.id+"_kn";var r,n,a=e("<div style='position:fixed;top:0px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+s.p.knv+"'></div></div>");e(a).insertBefore(s.grid.cDiv),e("#"+s.p.knv).focus().keydown(function(a){switch(n=a.keyCode,"rtl"===s.p.direction&&(37===n?n=39:39===n&&(n=37)),n){case 38:0<s.p.iRow-1&&(t(s.p.iRow-1,s.p.iCol,"vu"),e(s).jqGrid("editCell",s.p.iRow-1,s.p.iCol,!1));break;case 40:s.p.iRow+1<=s.rows.length-1&&(t(s.p.iRow+1,s.p.iCol,"vd"),e(s).jqGrid("editCell",s.p.iRow+1,s.p.iCol,!1));break;case 37:0<=s.p.iCol-1&&(r=i(s.p.iCol-1,"lft"),t(s.p.iRow,r,"h"),e(s).jqGrid("editCell",s.p.iRow,r,!1));break;case 39:s.p.iCol+1<=s.p.colModel.length-1&&(r=i(s.p.iCol+1,"rgt"),t(s.p.iRow,r,"h"),e(s).jqGrid("editCell",s.p.iRow,r,!1));break;case 13:0<=parseInt(s.p.iCol,10)&&0<=parseInt(s.p.iRow,10)&&e(s).jqGrid("editCell",s.p.iRow,s.p.iCol,!0);break;default:return!0}return!1})}})},getChangedCells:function(t){var i=[];return t||(t="all"),this.each(function(){var s,r=this;r.grid&&!0===r.p.cellEdit&&e(r.rows).each(function(n){var a={};e(this).hasClass("edited")&&(e("td",this).each(function(i){if(s=r.p.colModel[i].name,"cb"!==s&&"subgrid"!==s)if("dirty"===t){if(e(this).hasClass("dirty-cell"))try{a[s]=e.unformat.call(r,this,{rowId:r.rows[n].id,colModel:r.p.colModel[i]},i)}catch(o){a[s]=e.jgrid.htmlDecode(e(this).html())}}else try{a[s]=e.unformat.call(r,this,{rowId:r.rows[n].id,colModel:r.p.colModel[i]},i)}catch(l){a[s]=e.jgrid.htmlDecode(e(this).html())}}),a.id=this.id,i.push(a))})}),i}})}(jQuery),function(e){e.fn.jqm=function(s){var n={overlay:50,closeoverlay:!0,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:r,ajaxText:"",target:r,modal:r,toTop:r,onShow:r,onHide:r,onLoad:r};return this.each(function(){return this._jqm?i[this._jqm].c=e.extend({},i[this._jqm].c,s):(t++,this._jqm=t,i[t]={c:e.extend(n,e.jqm.params,s),a:r,w:e(this).addClass("jqmID"+t),s:t},void(n.trigger&&e(this).jqmAddTrigger(n.trigger)))})},e.fn.jqmAddClose=function(e){return l(this,e,"jqmHide")},e.fn.jqmAddTrigger=function(e){return l(this,e,"jqmShow")},e.fn.jqmShow=function(t){return this.each(function(){e.jqm.open(this._jqm,t)})},e.fn.jqmHide=function(t){return this.each(function(){e.jqm.close(this._jqm,t)})},e.jqm={hash:{},open:function(t,o){var l=i[t],d=l.c,c="."+d.closeClass,h=parseInt(l.w.css("z-index")),h=h>0?h:3e3,u=e("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":h-1,opacity:d.overlay/100});return l.a?r:(l.t=o,l.a=!0,l.w.css("z-index",h),d.modal?(s[0]||setTimeout(function(){a("bind")},1),s.push(t)):0<d.overlay?d.closeoverlay&&l.w.jqmAddClose(u):u=r,l.o=u?u.addClass(d.overlayClass).prependTo("body"):r,d.ajax?(h=d.target||l.w,u=d.ajax,h="string"==typeof h?e(h,l.w):e(h),u="@"==u.substr(0,1)?e(o).attr(u.substring(1)):u,h.html(d.ajaxText).load(u,function(){d.onLoad&&d.onLoad.call(this,l),c&&l.w.jqmAddClose(e(c,l.w)),n(l)})):c&&l.w.jqmAddClose(e(c,l.w)),d.toTop&&l.o&&l.w.before('<span id="jqmP'+l.w[0]._jqm+'"></span>').insertAfter(l.o),d.onShow?d.onShow(l):l.w.show(),n(l),r)},close:function(t){return t=i[t],t.a?(t.a=r,s[0]&&(s.pop(),s[0]||a("unbind")),t.c.toTop&&t.o&&e("#jqmP"+t.w[0]._jqm).after(t.w).remove(),t.c.onHide?t.c.onHide(t):(t.w.hide(),t.o&&t.o.remove()),r):r},params:{}};var t=0,i=e.jqm.hash,s=[],r=!1,n=function(t){try{e(":input:visible",t.w)[0].focus()}catch(i){}},a=function(t){e(document)[t]("keypress",o)[t]("keydown",o)[t]("mousedown",o)},o=function(t){var r=i[s[s.length-1]],a=!e(t.target).parents(".jqmID"+r.s)[0];return a&&(e(".jqmID"+r.s).each(function(){var i=e(this),s=i.offset();return s.top<=t.pageY&&t.pageY<=s.top+i.height()&&s.left<=t.pageX&&t.pageX<=s.left+i.width()?a=!1:void 0}),n(r)),!a},l=function(t,s,n){return t.each(function(){var t=this._jqm;e(s).each(function(){this[n]||(this[n]=[],e(this).click(function(){for(var e in{jqmShow:1,jqmHide:1})for(var t in this[e])i[this[e][t]]&&i[this[e][t]].w[e](this);return r})),this[n].push(t)})})}}(jQuery),function(e){e.fn.jqDrag=function(e){return a(this,e,"d")},e.fn.jqResize=function(e,t){return a(this,e,"r",t)},e.jqDnR={dnr:{},e:0,drag:function(e){return"d"==r.k?n.css({left:r.X+e.pageX-r.pX,top:r.Y+e.pageY-r.pY}):(n.css({width:Math.max(e.pageX-r.pX+r.W,0),height:Math.max(e.pageY-r.pY+r.H,0)}),i&&t.css({width:Math.max(e.pageX-i.pX+i.W,0),height:Math.max(e.pageY-i.pY+i.H,0)})),!1},stop:function(){e(document).unbind("mousemove",s.drag).unbind("mouseup",s.stop)}};var t,i,s=e.jqDnR,r=s.dnr,n=s.e,a=function(s,a,d,c){return s.each(function(){a=a?e(a,s):s,a.bind("mousedown",{e:s,k:d},function(s){var a=s.data,d={};if(n=a.e,t=c?e(c):!1,"relative"!=n.css("position"))try{n.position(d)}catch(h){}if(r={X:d.left||o("left")||0,Y:d.top||o("top")||0,W:o("width")||n[0].scrollWidth||0,H:o("height")||n[0].scrollHeight||0,pX:s.pageX,pY:s.pageY,k:a.k},i=t&&"d"!=a.k?{X:d.left||l("left")||0,Y:d.top||l("top")||0,W:t[0].offsetWidth||l("width")||0,H:t[0].offsetHeight||l("height")||0,pX:s.pageX,pY:s.pageY,k:a.k}:!1,e("input.hasDatepicker",n[0])[0])try{e("input.hasDatepicker",n[0]).datepicker("hide")}catch(u){}return e(document).mousemove(e.jqDnR.drag).mouseup(e.jqDnR.stop),!1})})},o=function(e){return parseInt(n.css(e),10)||!1},l=function(e){return parseInt(t.css(e),10)||!1}}(jQuery),function(e){e.jgrid.extend({setSubGrid:function(){return this.each(function(){var t,i;if(this.p.subGridOptions=e.extend({plusicon:"ui-icon-plus",minusicon:"ui-icon-minus",openicon:"ui-icon-carat-1-sw",expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,reloadOnExpand:!0},this.p.subGridOptions||{}),this.p.colNames.unshift(""),this.p.colModel.unshift({name:"subgrid",width:e.jgrid.cell_width?this.p.subGridWidth+this.p.cellLayout:this.p.subGridWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0}),t=this.p.subGridModel,t[0])for(t[0].align=e.extend([],t[0].align||[]),i=0;i<t[0].name.length;i++)t[0].align[i]=t[0].align[i]||"left"})},addSubGridCell:function(e,t){var i,s,r="";return this.each(function(){r=this.formatCol(e,t),s=this.p.id,i=this.p.subGridOptions.plusicon}),'<td role="gridcell" aria-describedby="'+s+'_subgrid" class="ui-sgcollapsed sgcollapsed" '+r+"><a href='javascript:void(0);'><span class='ui-icon "+i+"'></span></a></td>"},addSubGrid:function(t,i){return this.each(function(){var s=this;if(s.grid){var r,n,a,o,l,d=function(t,i,r){i=e("<td align='"+s.p.subGridModel[0].align[r]+"'></td>").html(i),e(t).append(i)},c=function(t,i){var r,n,a,o=e("<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"),l=e("<tr></tr>");for(n=0;n<s.p.subGridModel[0].name.length;n++)r=e("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+s.p.direction+"'></th>"),e(r).html(s.p.subGridModel[0].name[n]),e(r).width(s.p.subGridModel[0].width[n]),e(l).append(r);return e(o).append(l),t&&(a=s.p.xmlReader.subgrid,e(a.root+" "+a.row,t).each(function(){if(l=e("<tr class='ui-widget-content ui-subtblcell'></tr>"),!0===a.repeatitems)e(a.cell,this).each(function(t){d(l,e(this).text()||"&#160;",t)});else{var t=s.p.subGridModel[0].mapping||s.p.subGridModel[0].name;if(t)for(n=0;n<t.length;n++)d(l,e(t[n],this).text()||"&#160;",n)}e(o).append(l)})),r=e("table:first",s.grid.bDiv).attr("id")+"_",e("#"+e.jgrid.jqID(r+i)).append(o),s.grid.hDiv.loading=!1,e("#load_"+e.jgrid.jqID(s.p.id)).hide(),!1},h=function(t,i){var r,n,a,o,l,c=e("<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"),h=e("<tr></tr>");for(n=0;n<s.p.subGridModel[0].name.length;n++)r=e("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+s.p.direction+"'></th>"),e(r).html(s.p.subGridModel[0].name[n]),e(r).width(s.p.subGridModel[0].width[n]),e(h).append(r);if(e(c).append(h),t&&(o=s.p.jsonReader.subgrid,r=e.jgrid.getAccessor(t,o.root),void 0!==r))for(n=0;n<r.length;n++){if(a=r[n],h=e("<tr class='ui-widget-content ui-subtblcell'></tr>"),!0===o.repeatitems)for(o.cell&&(a=a[o.cell]),l=0;l<a.length;l++)d(h,a[l]||"&#160;",l);else{var u=s.p.subGridModel[0].mapping||s.p.subGridModel[0].name;if(u.length)for(l=0;l<u.length;l++)d(h,a[u[l]]||"&#160;",l)}e(c).append(h)}return n=e("table:first",s.grid.bDiv).attr("id")+"_",e("#"+e.jgrid.jqID(n+i)).append(c),s.grid.hDiv.loading=!1,e("#load_"+e.jgrid.jqID(s.p.id)).hide(),!1},u=function(t){var i,r,n,a;if(i=e(t).attr("id"),r={nd_:(new Date).getTime()},r[s.p.prmNames.subgridid]=i,!s.p.subGridModel[0])return!1;if(s.p.subGridModel[0].params)for(a=0;a<s.p.subGridModel[0].params.length;a++)for(n=0;n<s.p.colModel.length;n++)s.p.colModel[n].name===s.p.subGridModel[0].params[a]&&(r[s.p.colModel[n].name]=e("td:eq("+n+")",t).text().replace(/\&#160\;/gi,""));if(!s.grid.hDiv.loading)switch(s.grid.hDiv.loading=!0,e("#load_"+e.jgrid.jqID(s.p.id)).show(),s.p.subgridtype||(s.p.subgridtype=s.p.datatype),e.isFunction(s.p.subgridtype)?s.p.subgridtype.call(s,r):s.p.subgridtype=s.p.subgridtype.toLowerCase(),s.p.subgridtype){case"xml":case"json":e.ajax(e.extend({type:s.p.mtype,url:s.p.subGridUrl,dataType:s.p.subgridtype,data:e.isFunction(s.p.serializeSubGridData)?s.p.serializeSubGridData.call(s,r):r,complete:function(t){"xml"===s.p.subgridtype?c(t.responseXML,i):h(e.jgrid.parse(t.responseText),i)}},e.jgrid.ajaxOptions,s.p.ajaxSubgridOptions||{}))}return!1},p=0;e.each(s.p.colModel,function(){(!0===this.hidden||"rn"===this.name||"cb"===this.name)&&p++});var f=s.rows.length,g=1;for(void 0!==i&&i>0&&(g=i,f=i+1);f>g;)e(s.rows[g]).hasClass("jqgrow")&&e(s.rows[g].cells[t]).bind("click",function(){var i=e(this).parent("tr")[0];if(l=i.nextSibling,e(this).hasClass("sgcollapsed")){if(n=s.p.id,r=i.id,s.p.subGridOptions.reloadOnExpand===!0||s.p.subGridOptions.reloadOnExpand===!1&&!e(l).hasClass("ui-subgrid")){if(a=t>=1?"<td colspan='"+t+"'>&#160;</td>":"",o=e(s).triggerHandler("jqGridSubGridBeforeExpand",[n+"_"+r,r]),(o=o===!1||"stop"===o?!1:!0)&&e.isFunction(s.p.subGridBeforeExpand)&&(o=s.p.subGridBeforeExpand.call(s,n+"_"+r,r)),o===!1)return!1;e(i).after("<tr role='row' class='ui-subgrid'>"+a+"<td class='ui-widget-content subgrid-cell'><span class='ui-icon "+s.p.subGridOptions.openicon+"'></span></td><td colspan='"+parseInt(s.p.colNames.length-1-p,10)+"' class='ui-widget-content subgrid-data'><div id="+n+"_"+r+" class='tablediv'></div></td></tr>"),e(s).triggerHandler("jqGridSubGridRowExpanded",[n+"_"+r,r]),e.isFunction(s.p.subGridRowExpanded)?s.p.subGridRowExpanded.call(s,n+"_"+r,r):u(i)}else e(l).show();e(this).html("<a href='javascript:void(0);'><span class='ui-icon "+s.p.subGridOptions.minusicon+"'></span></a>").removeClass("sgcollapsed").addClass("sgexpanded"),s.p.subGridOptions.selectOnExpand&&e(s).jqGrid("setSelection",r)}else if(e(this).hasClass("sgexpanded")){if(o=e(s).triggerHandler("jqGridSubGridRowColapsed",[n+"_"+r,r]),(o=o===!1||"stop"===o?!1:!0)&&e.isFunction(s.p.subGridRowColapsed)&&(r=i.id,o=s.p.subGridRowColapsed.call(s,n+"_"+r,r)),o===!1)return!1;s.p.subGridOptions.reloadOnExpand===!0?e(l).remove(".ui-subgrid"):e(l).hasClass("ui-subgrid")&&e(l).hide(),e(this).html("<a href='javascript:void(0);'><span class='ui-icon "+s.p.subGridOptions.plusicon+"'></span></a>").removeClass("sgexpanded").addClass("sgcollapsed")}return!1}),g++;!0===s.p.subGridOptions.expandOnLoad&&e(s.rows).filter(".jqgrow").each(function(t,i){e(i.cells[0]).click()}),s.subGridXml=function(e,t){c(e,t)},s.subGridJson=function(e,t){h(e,t)}}})},expandSubGridRow:function(t){return this.each(function(){if((this.grid||t)&&!0===this.p.subGrid){var i=e(this).jqGrid("getInd",t,!0);i&&(i=e("td.sgcollapsed",i)[0])&&e(i).trigger("click")}})},collapseSubGridRow:function(t){return this.each(function(){if((this.grid||t)&&!0===this.p.subGrid){var i=e(this).jqGrid("getInd",t,!0);i&&(i=e("td.sgexpanded",i)[0])&&e(i).trigger("click")}})},toggleSubGridRow:function(t){return this.each(function(){if((this.grid||t)&&!0===this.p.subGrid){var i=e(this).jqGrid("getInd",t,!0);if(i){var s=e("td.sgcollapsed",i)[0];s?e(s).trigger("click"):(s=e("td.sgexpanded",i)[0])&&e(s).trigger("click")}}})}})}(jQuery),function(e){e.extend(e.jgrid,{template:function(t){var i,s=e.makeArray(arguments).slice(1),r=s.length;return null==t&&(t=""),t.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,function(t,n){if(!isNaN(parseInt(n,10)))return s[parseInt(n,10)];for(i=0;r>i;i++)if(e.isArray(s[i]))for(var a=s[i],o=a.length;o--;)if(n===a[o].nm)return a[o].v})}}),e.jgrid.extend({groupingSetup:function(){return this.each(function(){var t,i,s=this.p.colModel,r=this.p.groupingView;if(null===r||"object"!=typeof r&&!e.isFunction(r))this.p.grouping=!1;else if(r.groupField.length){for(void 0===r.visibiltyOnNextGrouping&&(r.visibiltyOnNextGrouping=[]),r.lastvalues=[],r.groups=[],r.counters=[],t=0;t<r.groupField.length;t++)r.groupOrder[t]||(r.groupOrder[t]="asc"),r.groupText[t]||(r.groupText[t]="{0}"),"boolean"!=typeof r.groupColumnShow[t]&&(r.groupColumnShow[t]=!0),"boolean"!=typeof r.groupSummary[t]&&(r.groupSummary[t]=!1),!0===r.groupColumnShow[t]?(r.visibiltyOnNextGrouping[t]=!0,e(this).jqGrid("showCol",r.groupField[t])):(r.visibiltyOnNextGrouping[t]=e("#"+e.jgrid.jqID(this.p.id+"_"+r.groupField[t])).is(":visible"),e(this).jqGrid("hideCol",r.groupField[t]));for(r.summary=[],t=0,i=s.length;i>t;t++)s[t].summaryType&&r.summary.push({nm:s[t].name,st:s[t].summaryType,v:"",sr:s[t].summaryRound,srt:s[t].summaryRoundType||"round"})}else this.p.grouping=!1})},groupingPrepare:function(t,i,s,r){return this.each(function(){var n,a,o,l,d=this.p.groupingView,c=this,h=d.groupField.length,u=0;for(n=0;h>n;n++)a=d.groupField[n],l=d.displayField[n],o=s[a],l=null==l?null:s[l],null==l&&(l=o),void 0!==o&&(0===r?(d.groups.push({idx:n,dataIndex:a,value:o,displayValue:l,startRow:r,cnt:1,summary:[]}),d.lastvalues[n]=o,d.counters[n]={cnt:1,pos:d.groups.length-1,summary:e.extend(!0,[],d.summary)}):"object"==typeof o||(e.isArray(d.isInTheSameGroup)&&e.isFunction(d.isInTheSameGroup[n])?d.isInTheSameGroup[n].call(c,d.lastvalues[n],o,n,d):d.lastvalues[n]===o)?1===u?(d.groups.push({idx:n,dataIndex:a,value:o,displayValue:l,startRow:r,cnt:1,summary:[]}),d.lastvalues[n]=o,d.counters[n]={cnt:1,pos:d.groups.length-1,summary:e.extend(!0,[],d.summary)}):(d.counters[n].cnt+=1,d.groups[d.counters[n].pos].cnt=d.counters[n].cnt):(d.groups.push({idx:n,dataIndex:a,value:o,displayValue:l,startRow:r,cnt:1,summary:[]}),d.lastvalues[n]=o,u=1,d.counters[n]={cnt:1,pos:d.groups.length-1,summary:e.extend(!0,[],d.summary)}),e.each(d.counters[n].summary,function(){this.v=e.isFunction(this.st)?this.st.call(c,this.v,this.nm,s):e(c).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,s)}),d.groups[d.counters[n].pos].summary=d.counters[n].summary);i.push(t)}),i},groupingToggle:function(t){return this.each(function(){var i=this.p.groupingView,s=t.split("_"),r=parseInt(s[s.length-2],10);s.splice(s.length-2,2);var s=s.join("_"),n=i.minusicon,a=i.plusicon,o=e("#"+e.jgrid.jqID(t)),o=o.length?o[0].nextSibling:null,l=e("#"+e.jgrid.jqID(t)+" span.tree-wrap-"+this.p.direction),d=!1;if(l.hasClass(n)){if(i.showSummaryOnHide){if(o)for(;o&&!(e(o).hasClass("jqfoot")&&parseInt(e(o).attr("jqfootlevel"),10)<=r);)e(o).hide(),o=o.nextSibling}else if(o)for(;o&&(i=o.className.indexOf(s),!(-1!==i&&parseInt(o.className.substring(i+s.length+1),10)<=r));)e(o).hide(),o=o.nextSibling;l.removeClass(n).addClass(a),d=!0}else{if(o)for(;o&&(i=o.className.indexOf(s),!(-1!==i&&parseInt(o.className.substring(i+s.length+1),10)<=r));)e(o).show(),(i=e(o).find("span.tree-wrap-"+this.p.direction))&&e(i).hasClass(a)&&e(i).removeClass(a).addClass(n),o=o.nextSibling;l.removeClass(a).addClass(n)}e(this).triggerHandler("jqGridGroupingClickGroup",[t,d]),e.isFunction(this.p.onClickGroup)&&this.p.onClickGroup.call(this,t,d)}),!1},groupingRender:function(t,i){return this.each(function(){function s(e,t,i){var s=!1;if(0===t)s=i[e];else{var r=i[e].idx;if(0===r)s=i[e];else for(;e>=0;e--)if(i[e].idx===r-t){s=i[e];break}}return s}var r,n,a,o=this,l=o.p.groupingView,d="",c="",h=l.groupCollapse?l.plusicon:l.minusicon,u=[],p=l.groupField.length,h=h+(" tree-wrap-"+o.p.direction);e.each(o.p.colModel,function(e,t){var i;for(i=0;p>i;i++)if(l.groupField[i]===t.name){u[i]=e;break}});var f=0,g=e.makeArray(l.groupSummary);g.reverse(),e.each(l.groups,function(m,v){f++,n=o.p.id+"ghead_"+v.idx,r=n+"_"+m,c="<span style='cursor:pointer;' class='ui-icon "+h+"' onclick=\"jQuery('#"+e.jgrid.jqID(o.p.id)+"').jqGrid('groupingToggle','"+r+"');return false;\"></span>";try{e.isArray(l.formatDisplayField)&&e.isFunction(l.formatDisplayField[v.idx])&&(v.displayValue=l.formatDisplayField[v.idx].call(o,v.displayValue,v.value,o.p.colModel[u[v.idx]],v.idx,l)),a=o.formatter(r,v.displayValue,u[v.idx],v.value)}catch(b){a=v.displayValue}if(d+='<tr id="'+r+'" role="row" class= "ui-widget-content jqgroup ui-row-'+o.p.direction+" "+n+'"><td style="padding-left:'+12*v.idx+'px;" colspan="'+i+'">'+c+e.jgrid.template(l.groupText[v.idx],a,v.cnt,v.summary)+"</td></tr>",p-1===v.idx){var y,w,_=l.groups[m+1],x=void 0!==_?l.groups[m+1].startRow:t.length;for(w=v.startRow;x>w;w++)d+=t[w].join("");var j;if(void 0!==_){for(j=0;j<l.groupField.length&&_.dataIndex!==l.groupField[j];j++);f=l.groupField.length-j}for(_=0;f>_;_++)if(g[_]){w="",l.groupCollapse&&!l.showSummaryOnHide&&(w=' style="display:none;"'),d+="<tr"+w+' jqfootlevel="'+(v.idx-_)+'" role="row" class="ui-widget-content jqfoot ui-row-'+o.p.direction+'">',w=s(m,_,l.groups);var C,D=o.p.colModel,S=w.cnt;for(y=0;i>y;y++){var q="<td "+o.formatCol(y,1,"")+">&#160;</td>",I="{0}";e.each(w.summary,function(){if(this.nm===D[y].name){D[y].summaryTpl&&(I=D[y].summaryTpl),"string"==typeof this.st&&"avg"===this.st.toLowerCase()&&this.v&&S>0&&(this.v/=S);try{C=o.formatter("",this.v,y,this)}catch(t){C=this.v}return q="<td "+o.formatCol(y,1,"")+">"+e.jgrid.format(I,C)+"</td>",!1}}),d+=q}d+="</tr>"}f=j}}),e("#"+e.jgrid.jqID(o.p.id)+" tbody:first").append(d),d=null})},groupingGroupBy:function(t,i){return this.each(function(){"string"==typeof t&&(t=[t]);var s=this.p.groupingView;this.p.grouping=!0,void 0===s.visibiltyOnNextGrouping&&(s.visibiltyOnNextGrouping=[]);var r;for(r=0;r<s.groupField.length;r++)!s.groupColumnShow[r]&&s.visibiltyOnNextGrouping[r]&&e(this).jqGrid("showCol",s.groupField[r]);for(r=0;r<t.length;r++)s.visibiltyOnNextGrouping[r]=e("#"+e.jgrid.jqID(this.p.id)+"_"+e.jgrid.jqID(t[r])).is(":visible");this.p.groupingView=e.extend(this.p.groupingView,i||{}),s.groupField=t,e(this).trigger("reloadGrid")})},groupingRemove:function(t){return this.each(function(){if(void 0===t&&(t=!0),this.p.grouping=!1,!0===t){var i,s=this.p.groupingView;for(i=0;i<s.groupField.length;i++)!s.groupColumnShow[i]&&s.visibiltyOnNextGrouping[i]&&e(this).jqGrid("showCol",s.groupField);e("tr.jqgroup, tr.jqfoot","#"+e.jgrid.jqID(this.p.id)+" tbody:first").remove(),e("tr.jqgrow:hidden","#"+e.jgrid.jqID(this.p.id)+" tbody:first").show()}else e(this).trigger("reloadGrid")})},groupingCalculations:{handler:function(e,t,i,s,r,n){var a={sum:function(){return parseFloat(t||0)+parseFloat(n[i]||0)},min:function(){return""===t?parseFloat(n[i]||0):Math.min(parseFloat(t),parseFloat(n[i]||0))},max:function(){return""===t?parseFloat(n[i]||0):Math.max(parseFloat(t),parseFloat(n[i]||0))},count:function(){return""===t&&(t=0),n.hasOwnProperty(i)?t+1:0},avg:function(){return a.sum()}};if(!a[e])throw"jqGrid Grouping No such method: "+e;return e=a[e](),null!=s&&("fixed"===r?e=e.toFixed(s):(s=Math.pow(10,s),e=Math.round(e*s)/s)),e}}})}(jQuery),function(e){e.jgrid.extend({setTreeNode:function(t,i){return this.each(function(){var s=this;if(s.grid&&s.p.treeGrid)for(var r,n,a,o,l=s.p.expColInd,d=s.p.treeReader.expanded_field,c=s.p.treeReader.leaf_field,h=s.p.treeReader.level_field,u=s.p.treeReader.icon_field,p=s.p.treeReader.loaded;i>t;)o=e.jgrid.stripPref(s.p.idPrefix,s.rows[t].id),o=s.p.data[s.p._index[o]],"nested"===s.p.treeGridModel&&!o[c]&&(r=parseInt(o[s.p.treeReader.left_field],10),n=parseInt(o[s.p.treeReader.right_field],10),o[c]=n===r+1?"true":"false",s.rows[t].cells[s.p._treeleafpos].innerHTML=o[c]),r=parseInt(o[h],10),0===s.p.tree_root_level?(a=r+1,n=r):(a=r,n=r-1),a="<div class='tree-wrap tree-wrap-"+s.p.direction+"' style='width:"+18*a+"px;'>",a+="<div style='"+("rtl"===s.p.direction?"right:":"left:")+18*n+"px;' class='ui-icon ",void 0!==o[p]&&(o[p]="true"===o[p]||!0===o[p]?!0:!1),"true"===o[c]||!0===o[c]?(a+=(void 0!==o[u]&&""!==o[u]?o[u]:s.p.treeIcons.leaf)+" tree-leaf treeclick",o[c]=!0,n="leaf"):(o[c]=!1,n=""),o[d]=("true"===o[d]||!0===o[d]?!0:!1)&&(o[p]||void 0===o[p]),a=!1===o[d]?a+(!0===o[c]?"'":s.p.treeIcons.plus+" tree-plus treeclick'"):a+(!0===o[c]?"'":s.p.treeIcons.minus+" tree-minus treeclick'"),a+="></div></div>",e(s.rows[t].cells[l]).wrapInner("<span class='cell-wrapper"+n+"'></span>").prepend(a),r!==parseInt(s.p.tree_root_level,10)&&((o=(o=e(s).jqGrid("getNodeParent",o))&&o.hasOwnProperty(d)?o[d]:!0)||e(s.rows[t]).css("display","none")),e(s.rows[t].cells[l]).find("div.treeclick").bind("click",function(t){return t=e.jgrid.stripPref(s.p.idPrefix,e(t.target||t.srcElement,s.rows).closest("tr.jqgrow")[0].id),t=s.p._index[t],s.p.data[t][c]||(s.p.data[t][d]?(e(s).jqGrid("collapseRow",s.p.data[t]),e(s).jqGrid("collapseNode",s.p.data[t])):(e(s).jqGrid("expandRow",s.p.data[t]),e(s).jqGrid("expandNode",s.p.data[t]))),!1}),!0===s.p.ExpandColClick&&e(s.rows[t].cells[l]).find("span.cell-wrapper").css("cursor","pointer").bind("click",function(t){var t=e.jgrid.stripPref(s.p.idPrefix,e(t.target||t.srcElement,s.rows).closest("tr.jqgrow")[0].id),i=s.p._index[t];return s.p.data[i][c]||(s.p.data[i][d]?(e(s).jqGrid("collapseRow",s.p.data[i]),e(s).jqGrid("collapseNode",s.p.data[i])):(e(s).jqGrid("expandRow",s.p.data[i]),e(s).jqGrid("expandNode",s.p.data[i]))),e(s).jqGrid("setSelection",t),!1}),t++})},setTreeGrid:function(){return this.each(function(){var t,i,s,r=this,n=0,a=!1,o=[];if(r.p.treeGrid){r.p.treedatatype||e.extend(r.p,{treedatatype:r.p.datatype}),r.p.subGrid=!1,r.p.altRows=!1,r.p.pgbuttons=!1,r.p.pginput=!1,r.p.gridview=!0,null===r.p.rowTotal&&(r.p.rowNum=1e4),r.p.multiselect=!1,r.p.rowList=[],r.p.expColInd=0,r.p.treeIcons=e.extend({plus:"ui-icon-triangle-1-"+("rtl"===r.p.direction?"w":"e"),minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off"},r.p.treeIcons||{}),"nested"===r.p.treeGridModel?r.p.treeReader=e.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},r.p.treeReader):"adjacency"===r.p.treeGridModel&&(r.p.treeReader=e.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},r.p.treeReader));for(i in r.p.colModel)if(r.p.colModel.hasOwnProperty(i))for(s in t=r.p.colModel[i].name,t===r.p.ExpandColumn&&!a&&(a=!0,r.p.expColInd=n),n++,r.p.treeReader)r.p.treeReader.hasOwnProperty(s)&&r.p.treeReader[s]===t&&o.push(t);e.each(r.p.treeReader,function(t,i){i&&-1===e.inArray(i,o)&&("leaf_field"===t&&(r.p._treeleafpos=n),n++,r.p.colNames.push(i),r.p.colModel.push({name:i,width:1,hidden:!0,sortable:!1,resizable:!1,hidedlg:!0,editable:!0,search:!1}))})}})},expandRow:function(t){this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var s=e(i).jqGrid("getNodeChildren",t),r=i.p.treeReader.expanded_field,n=i.rows;e(s).each(function(){var t=i.p.idPrefix+e.jgrid.getAccessor(this,i.p.localReader.id);e(n.namedItem(t)).css("display",""),this[r]&&e(i).jqGrid("expandRow",this)})}})},collapseRow:function(t){this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var s=e(i).jqGrid("getNodeChildren",t),r=i.p.treeReader.expanded_field,n=i.rows;e(s).each(function(){var t=i.p.idPrefix+e.jgrid.getAccessor(this,i.p.localReader.id);e(n.namedItem(t)).css("display","none"),this[r]&&e(i).jqGrid("collapseRow",this)})}})},getRootNodes:function(){var t=[];return this.each(function(){var i=this;if(i.grid&&i.p.treeGrid)switch(i.p.treeGridModel){case"nested":var s=i.p.treeReader.level_field;e(i.p.data).each(function(){parseInt(this[s],10)===parseInt(i.p.tree_root_level,10)&&t.push(this)});break;case"adjacency":var r=i.p.treeReader.parent_id_field;e(i.p.data).each(function(){(null===this[r]||"null"===(""+this[r]).toLowerCase())&&t.push(this)})}}),t},getNodeDepth:function(t){var i=null;return this.each(function(){if(this.grid&&this.p.treeGrid)switch(this.p.treeGridModel){case"nested":i=parseInt(t[this.p.treeReader.level_field],10)-parseInt(this.p.tree_root_level,10);break;case"adjacency":i=e(this).jqGrid("getNodeAncestors",t).length}}),i},getNodeParent:function(t){var i=null;return this.each(function(){var s=this;if(s.grid&&s.p.treeGrid)switch(s.p.treeGridModel){case"nested":var r=s.p.treeReader.left_field,n=s.p.treeReader.right_field,a=s.p.treeReader.level_field,o=parseInt(t[r],10),l=parseInt(t[n],10),d=parseInt(t[a],10);e(this.p.data).each(function(){return parseInt(this[a],10)===d-1&&parseInt(this[r],10)<o&&parseInt(this[n],10)>l?(i=this,!1):void 0});break;case"adjacency":var c=s.p.treeReader.parent_id_field,h=s.p.localReader.id;e(this.p.data).each(function(){return this[h]===e.jgrid.stripPref(s.p.idPrefix,t[c])?(i=this,!1):void 0})}}),i},getNodeChildren:function(t){var i=[];return this.each(function(){var s=this;if(s.grid&&s.p.treeGrid)switch(s.p.treeGridModel){case"nested":var r=s.p.treeReader.left_field,n=s.p.treeReader.right_field,a=s.p.treeReader.level_field,o=parseInt(t[r],10),l=parseInt(t[n],10),d=parseInt(t[a],10);e(this.p.data).each(function(){parseInt(this[a],10)===d+1&&parseInt(this[r],10)>o&&parseInt(this[n],10)<l&&i.push(this)});break;case"adjacency":var c=s.p.treeReader.parent_id_field,h=s.p.localReader.id;e(this.p.data).each(function(){this[c]==e.jgrid.stripPref(s.p.idPrefix,t[h])&&i.push(this)})}}),i},getFullTreeNode:function(t){var i=[];return this.each(function(){var s,r=this;if(r.grid&&r.p.treeGrid)switch(r.p.treeGridModel){case"nested":var n=r.p.treeReader.left_field,a=r.p.treeReader.right_field,o=r.p.treeReader.level_field,l=parseInt(t[n],10),d=parseInt(t[a],10),c=parseInt(t[o],10);e(this.p.data).each(function(){parseInt(this[o],10)>=c&&parseInt(this[n],10)>=l&&parseInt(this[n],10)<=d&&i.push(this)});break;case"adjacency":if(t){i.push(t);var h=r.p.treeReader.parent_id_field,u=r.p.localReader.id;e(this.p.data).each(function(t){for(s=i.length,t=0;s>t;t++)if(e.jgrid.stripPref(r.p.idPrefix,i[t][u])===this[h]){i.push(this);break}})}}}),i},getNodeAncestors:function(t){var i=[];return this.each(function(){if(this.grid&&this.p.treeGrid)for(var s=e(this).jqGrid("getNodeParent",t);s;)i.push(s),s=e(this).jqGrid("getNodeParent",s)}),i},isVisibleNode:function(t){var i=!0;return this.each(function(){if(this.grid&&this.p.treeGrid){var s=e(this).jqGrid("getNodeAncestors",t),r=this.p.treeReader.expanded_field;e(s).each(function(){return i=i&&this[r],i?void 0:!1})}}),i},isNodeLoaded:function(t){var i;return this.each(function(){if(this.grid&&this.p.treeGrid){var s=this.p.treeReader.leaf_field;i=void 0!==t?void 0!==t.loaded?t.loaded:t[s]||0<e(this).jqGrid("getNodeChildren",t).length?!0:!1:!1}}),i},expandNode:function(t){return this.each(function(){if(this.grid&&this.p.treeGrid){var i=this.p.treeReader.expanded_field,s=this.p.treeReader.parent_id_field,r=this.p.treeReader.loaded,n=this.p.treeReader.level_field,a=this.p.treeReader.left_field,o=this.p.treeReader.right_field;if(!t[i]){var l=e.jgrid.getAccessor(t,this.p.localReader.id),d=e("#"+this.p.idPrefix+e.jgrid.jqID(l),this.grid.bDiv)[0],c=this.p._index[l];e(this).jqGrid("isNodeLoaded",this.p.data[c])?(t[i]=!0,e("div.treeclick",d).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus")):this.grid.hDiv.loading||(t[i]=!0,e("div.treeclick",d).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=d.rowIndex,this.p.datatype=this.p.treedatatype,"nested"===this.p.treeGridModel?e(this).jqGrid("setGridParam",{postData:{nodeid:l,n_left:t[a],n_right:t[o],n_level:t[n]}}):e(this).jqGrid("setGridParam",{postData:{nodeid:l,parentid:t[s],n_level:t[n]}}),e(this).trigger("reloadGrid"),t[r]=!0,"nested"===this.p.treeGridModel?e(this).jqGrid("setGridParam",{postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):e(this).jqGrid("setGridParam",{postData:{nodeid:"",parentid:"",n_level:""}}))}}})},collapseNode:function(t){return this.each(function(){if(this.grid&&this.p.treeGrid){var i=this.p.treeReader.expanded_field;t[i]&&(t[i]=!1,i=e.jgrid.getAccessor(t,this.p.localReader.id),i=e("#"+this.p.idPrefix+e.jgrid.jqID(i),this.grid.bDiv)[0],e("div.treeclick",i).removeClass(this.p.treeIcons.minus+" tree-minus").addClass(this.p.treeIcons.plus+" tree-plus"))}})},SortTree:function(t,i,s,r){return this.each(function(){if(this.grid&&this.p.treeGrid){var n,a,o,l,d=[],c=this;for(n=e(this).jqGrid("getRootNodes"),n=e.jgrid.from(n),n.orderBy(t,i,s,r),l=n.select(),n=0,a=l.length;a>n;n++)o=l[n],d.push(o),e(this).jqGrid("collectChildrenSortTree",d,o,t,i,s,r);e.each(d,function(t){var i=e.jgrid.getAccessor(this,c.p.localReader.id);e("#"+e.jgrid.jqID(c.p.id)+" tbody tr:eq("+t+")").after(e("tr#"+e.jgrid.jqID(i),c.grid.bDiv))}),d=l=n=null}})},collectChildrenSortTree:function(t,i,s,r,n,a){return this.each(function(){if(this.grid&&this.p.treeGrid){var o,l,d,c;for(o=e(this).jqGrid("getNodeChildren",i),o=e.jgrid.from(o),o.orderBy(s,r,n,a),c=o.select(),o=0,l=c.length;l>o;o++)d=c[o],t.push(d),e(this).jqGrid("collectChildrenSortTree",t,d,s,r,n,a)}})},setTreeRow:function(t,i){var s=!1;return this.each(function(){this.grid&&this.p.treeGrid&&(s=e(this).jqGrid("setRowData",t,i))}),s},delTreeNode:function(t){return this.each(function(){var i,s,r,n,a=this.p.localReader.id,o=this.p.treeReader.left_field,l=this.p.treeReader.right_field;if(this.grid&&this.p.treeGrid&&(i=this.p._index[t],void 0!==i)){s=parseInt(this.p.data[i][l],10),r=s-parseInt(this.p.data[i][o],10)+1;var d=e(this).jqGrid("getFullTreeNode",this.p.data[i]);if(0<d.length)for(i=0;i<d.length;i++)e(this).jqGrid("delRowData",d[i][a]);if("nested"===this.p.treeGridModel){if(a=e.jgrid.from(this.p.data).greater(o,s,{stype:"integer"}).select(),a.length)for(n in a)a.hasOwnProperty(n)&&(a[n][o]=parseInt(a[n][o],10)-r);if(a=e.jgrid.from(this.p.data).greater(l,s,{stype:"integer"}).select(),a.length)for(n in a)a.hasOwnProperty(n)&&(a[n][l]=parseInt(a[n][l],10)-r)}}})},addChildNode:function(t,i,s,r){var n=this[0];if(s){var a,o,l,d,c,h=n.p.treeReader.expanded_field,u=n.p.treeReader.leaf_field,p=n.p.treeReader.level_field,f=n.p.treeReader.parent_id_field,g=n.p.treeReader.left_field,m=n.p.treeReader.right_field,v=n.p.treeReader.loaded;a=0;var b,y=i;if(void 0===r&&(r=!1),void 0===t||null===t){if(c=n.p.data.length-1,c>=0)for(;c>=0;)a=Math.max(a,parseInt(n.p.data[c][n.p.localReader.id],10)),c--;t=a+1}var w=e(n).jqGrid("getInd",i);if(b=!1,void 0===i||null===i||""===i?(y=i=null,a="last",d=n.p.tree_root_level,c=n.p.data.length+1):(a="after",o=n.p._index[i],l=n.p.data[o],i=l[n.p.localReader.id],d=parseInt(l[p],10)+1,c=e(n).jqGrid("getFullTreeNode",l),c.length?(y=c=c[c.length-1][n.p.localReader.id],c=e(n).jqGrid("getInd",y)+1):c=e(n).jqGrid("getInd",i)+1,l[u]&&(b=!0,l[h]=!0,e(n.rows[w]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(n.p.treeIcons.leaf+" tree-leaf").addClass(n.p.treeIcons.minus+" tree-minus"),n.p.data[o][u]=!1,l[v]=!0)),o=c+1,void 0===s[h]&&(s[h]=!1),void 0===s[v]&&(s[v]=!1),s[p]=d,void 0===s[u]&&(s[u]=!0),"adjacency"===n.p.treeGridModel&&(s[f]=i),"nested"===n.p.treeGridModel){var _;if(null!==i){if(u=parseInt(l[m],10),p=e.jgrid.from(n.p.data),p=p.greaterOrEquals(m,u,{stype:"integer"}),p=p.select(),p.length)for(_ in p)p.hasOwnProperty(_)&&(p[_][g]=p[_][g]>u?parseInt(p[_][g],10)+2:p[_][g],p[_][m]=p[_][m]>=u?parseInt(p[_][m],10)+2:p[_][m]);s[g]=u,s[m]=u+1}else{if(u=parseInt(e(n).jqGrid("getCol",m,!1,"max"),10),
p=e.jgrid.from(n.p.data).greater(g,u,{stype:"integer"}).select(),p.length)for(_ in p)p.hasOwnProperty(_)&&(p[_][g]=parseInt(p[_][g],10)+2);if(p=e.jgrid.from(n.p.data).greater(m,u,{stype:"integer"}).select(),p.length)for(_ in p)p.hasOwnProperty(_)&&(p[_][m]=parseInt(p[_][m],10)+2);s[g]=u+1,s[m]=u+2}}(null===i||e(n).jqGrid("isNodeLoaded",l)||b)&&(e(n).jqGrid("addRowData",t,s,a,y),e(n).jqGrid("setTreeNode",c,o)),l&&!l[h]&&r&&e(n.rows[w]).find("div.treeclick").click()}}})}(jQuery),function(e){e.jgrid.extend({jqGridImport:function(t){return t=e.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"roots>grid",data:"roots>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},t||{}),this.each(function(){var i=this,s=function(t,s){var r,n,a=e(s.xmlGrid.config,t)[0],o=e(s.xmlGrid.data,t)[0];if(xmlJsonClass.xml2json&&e.jgrid.parse){a=xmlJsonClass.xml2json(a," "),a=e.jgrid.parse(a);for(n in a)a.hasOwnProperty(n)&&(r=a[n]);o?(o=a.grid.datatype,a.grid.datatype="xmlstring",a.grid.datastr=t,e(i).jqGrid(r).jqGrid("setGridParam",{datatype:o})):e(i).jqGrid(r)}else alert("xml2json or parse are not present")},r=function(t,s){if(t&&"string"==typeof t){var r=!1;e.jgrid.useJSON&&(e.jgrid.useJSON=!1,r=!0);var n=e.jgrid.parse(t);if(r&&(e.jgrid.useJSON=!0),r=n[s.jsonGrid.config],n=n[s.jsonGrid.data]){var a=r.datatype;r.datatype="jsonstring",r.datastr=n,e(i).jqGrid(r).jqGrid("setGridParam",{datatype:a})}else e(i).jqGrid(r)}};switch(t.imptype){case"xml":e.ajax(e.extend({url:t.impurl,type:t.mtype,data:t.impData,dataType:"xml",complete:function(r,n){"success"===n&&(s(r.responseXML,t),e(i).triggerHandler("jqGridImportComplete",[r,t]),e.isFunction(t.importComplete)&&t.importComplete(r))}},t.ajaxOptions));break;case"xmlstring":if(t.impstring&&"string"==typeof t.impstring){var n=e.parseXML(t.impstring);n&&(s(n,t),e(i).triggerHandler("jqGridImportComplete",[n,t]),e.isFunction(t.importComplete)&&t.importComplete(n),t.impstring=null),n=null}break;case"json":e.ajax(e.extend({url:t.impurl,type:t.mtype,data:t.impData,dataType:"json",complete:function(s){try{r(s.responseText,t),e(i).triggerHandler("jqGridImportComplete",[s,t]),e.isFunction(t.importComplete)&&t.importComplete(s)}catch(n){}}},t.ajaxOptions));break;case"jsonstring":t.impstring&&"string"==typeof t.impstring&&(r(t.impstring,t),e(i).triggerHandler("jqGridImportComplete",[t.impstring,t]),e.isFunction(t.importComplete)&&t.importComplete(t.impstring),t.impstring=null)}})},jqGridExport:function(t){var t=e.extend({exptype:"xmlstring",root:"grid",ident:"	"},t||{}),i=null;return this.each(function(){if(this.grid){var s,r=e.extend(!0,{},e(this).jqGrid("getGridParam"));if(r.rownumbers&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.multiselect&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.subGrid&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.knv=null,r.treeGrid)for(s in r.treeReader)r.treeReader.hasOwnProperty(s)&&(r.colNames.splice(r.colNames.length-1),r.colModel.splice(r.colModel.length-1));switch(t.exptype){case"xmlstring":i="<"+t.root+">"+xmlJsonClass.json2xml(r,t.ident)+"</"+t.root+">";break;case"jsonstring":i="{"+xmlJsonClass.toJson(r,t.root,t.ident,!1)+"}",void 0!==r.postData.filters&&(i=i.replace(/filters":"/,'filters":'),i=i.replace(/}]}"/,"}]}"))}}}),i},excelExport:function(t){return t=e.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",exportOptions:{}},t||{}),this.each(function(){if(this.grid){var i;"remote"===t.exptype&&(i=e.extend({},this.p.postData),i[t.oper]=t.tag,i=jQuery.param(i),i=-1!==t.url.indexOf("?")?t.url+"&"+i:t.url+"?"+i,window.location=i)}})}})}(jQuery);var xmlJsonClass={xml2json:function(e,t){9===e.nodeType&&(e=e.documentElement);var i=this.toJson(this.toObj(this.removeWhite(e)),e.nodeName,"	");return"{\n"+t+(t?i.replace(/\t/g,t):i.replace(/\t|\n/g,""))+"\n}"},json2xml:function(e,t){var i,s=function(e,t,i){var r,n,a="";if(e instanceof Array)if(0===e.length)a+=i+"<"+t+">__EMPTY_ARRAY_</"+t+">\n";else for(r=0,n=e.length;n>r;r+=1)var o=i+s(e[r],t,i+"	")+"\n",a=a+o;else if("object"==typeof e){r=!1,a+=i+"<"+t;for(n in e)e.hasOwnProperty(n)&&("@"===n.charAt(0)?a+=" "+n.substr(1)+'="'+e[n].toString()+'"':r=!0);if(a+=r?">":"/>",r){for(n in e)e.hasOwnProperty(n)&&("#text"===n?a+=e[n]:"#cdata"===n?a+="<![CDATA["+e[n]+"]]>":"@"!==n.charAt(0)&&(a+=s(e[n],n,i+"	")));a+=("\n"===a.charAt(a.length-1)?i:"")+"</"+t+">"}}else"function"==typeof e?a+=i+"<"+t+"><![CDATA["+e+"]]></"+t+">":(void 0===e&&(e=""),a='""'===e.toString()||0===e.toString().length?a+(i+"<"+t+">__EMPTY_STRING_</"+t+">"):a+(i+"<"+t+">"+e.toString()+"</"+t+">"));return a},r="";for(i in e)e.hasOwnProperty(i)&&(r+=s(e[i],i,""));return t?r.replace(/\t/g,t):r.replace(/\t|\n/g,"")},toObj:function(e){var t={},i=/function/i;if(1===e.nodeType){if(e.attributes.length){var s;for(s=0;s<e.attributes.length;s+=1)t["@"+e.attributes[s].nodeName]=(e.attributes[s].nodeValue||"").toString()}if(e.firstChild){var r,n=s=0,a=!1;for(r=e.firstChild;r;r=r.nextSibling)1===r.nodeType?a=!0:3===r.nodeType&&r.nodeValue.match(/[^ \f\n\r\t\v]/)?s+=1:4===r.nodeType&&(n+=1);if(a)if(2>s&&2>n)for(this.removeWhite(e),r=e.firstChild;r;r=r.nextSibling)3===r.nodeType?t["#text"]=this.escape(r.nodeValue):4===r.nodeType?i.test(r.nodeValue)?t[r.nodeName]=[t[r.nodeName],r.nodeValue]:t["#cdata"]=this.escape(r.nodeValue):t[r.nodeName]?t[r.nodeName]instanceof Array?t[r.nodeName][t[r.nodeName].length]=this.toObj(r):t[r.nodeName]=[t[r.nodeName],this.toObj(r)]:t[r.nodeName]=this.toObj(r);else e.attributes.length?t["#text"]=this.escape(this.innerXml(e)):t=this.escape(this.innerXml(e));else if(s)e.attributes.length?t["#text"]=this.escape(this.innerXml(e)):(t=this.escape(this.innerXml(e)),"__EMPTY_ARRAY_"===t?t="[]":"__EMPTY_STRING_"===t&&(t=""));else if(n)if(n>1)t=this.escape(this.innerXml(e));else for(r=e.firstChild;r;r=r.nextSibling){if(i.test(e.firstChild.nodeValue)){t=e.firstChild.nodeValue;break}t["#cdata"]=this.escape(r.nodeValue)}}!e.attributes.length&&!e.firstChild&&(t=null)}else 9===e.nodeType?t=this.toObj(e.documentElement):alert("unhandled node type: "+e.nodeType);return t},toJson:function(e,t,i,s){void 0===s&&(s=!0);var r=t?'"'+t+'"':"",n="	",a="\n";if(s||(a=n=""),"[]"===e)r+=t?":[]":"[]";else if(e instanceof Array){var o,l,d=[];for(l=0,o=e.length;o>l;l+=1)d[l]=this.toJson(e[l],"",i+n,s);r+=(t?":[":"[")+(1<d.length?a+i+n+d.join(","+a+i+n)+a+i:d.join(""))+"]"}else if(null===e)r+=(t&&":")+"null";else if("object"==typeof e){o=[];for(l in e)e.hasOwnProperty(l)&&(o[o.length]=this.toJson(e[l],l,i+n,s));r+=(t?":{":"{")+(1<o.length?a+i+n+o.join(","+a+i+n)+a+i:o.join(""))+"}"}else r="string"==typeof e?r+((t&&":")+'"'+e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"'):r+((t&&":")+e.toString());return r},innerXml:function(e){var t="";if("innerHTML"in e)t=e.innerHTML;else for(var i=function(e){var t,s="";if(1===e.nodeType){for(s+="<"+e.nodeName,t=0;t<e.attributes.length;t+=1)s+=" "+e.attributes[t].nodeName+'="'+(e.attributes[t].nodeValue||"").toString()+'"';if(e.firstChild){for(s+=">",t=e.firstChild;t;t=t.nextSibling)s+=i(t);s+="</"+e.nodeName+">"}else s+="/>"}else 3===e.nodeType?s+=e.nodeValue:4===e.nodeType&&(s+="<![CDATA["+e.nodeValue+"]]>");return s},e=e.firstChild;e;e=e.nextSibling)t+=i(e);return t},escape:function(e){return e.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){e.normalize();var t;for(t=e.firstChild;t;)if(3===t.nodeType)if(t.nodeValue.match(/[^ \f\n\r\t\v]/))t=t.nextSibling;else{var i=t.nextSibling;e.removeChild(t),t=i}else 1===t.nodeType&&this.removeWhite(t),t=t.nextSibling;return e}};!function(b){if(b.jgrid.msie&&8===b.jgrid.msiever()&&(b.expr[":"].hidden=function(e){return 0===e.offsetWidth||0===e.offsetHeight||"none"===e.style.display}),b.jgrid._multiselect=!1,b.ui&&b.ui.multiselect){if(b.ui.multiselect.prototype._setSelected){var o=b.ui.multiselect.prototype._setSelected;b.ui.multiselect.prototype._setSelected=function(e,t){var i=o.call(this,e,t);if(t&&this.selectedList){var s=this.element;this.selectedList.find("li").each(function(){b(this).data("optionLink")&&b(this).data("optionLink").remove().appendTo(s)})}return i}}b.ui.multiselect.prototype.destroy&&(b.ui.multiselect.prototype.destroy=function(){this.element.show(),this.container.remove(),void 0===b.Widget?b.widget.prototype.destroy.apply(this,arguments):b.Widget.prototype.destroy.apply(this,arguments)}),b.jgrid._multiselect=!0}b.jgrid.extend({sortableColumns:function(e){return this.each(function(){function t(){i.p.disableClick=!0}var i=this,s=b.jgrid.jqID(i.p.id),s={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+s+"_cb,#jqgh_"+s+"_rn,#jqgh_"+s+"_subgrid),:hidden)",placeholder:{element:function(e){return b(document.createElement(e[0].nodeName)).addClass(e[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(e,t){t.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),t.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}},update:function(e,t){var s=b(t.item).parent(),s=b(">th",s),r={},n=i.p.id+"_";b.each(i.p.colModel,function(e){r[this.name]=e});var a=[];s.each(function(){var e=b(">div",this).get(0).id.replace(/^jqgh_/,"").replace(n,"");r.hasOwnProperty(e)&&a.push(r[e])}),b(i).jqGrid("remapColumns",a,!0,!0),b.isFunction(i.p.sortable.update)&&i.p.sortable.update(a),setTimeout(function(){i.p.disableClick=!1},50)}};if(i.p.sortable.options?b.extend(s,i.p.sortable.options):b.isFunction(i.p.sortable)&&(i.p.sortable={update:i.p.sortable}),s.start){var r=s.start;s.start=function(e,i){t(),r.call(this,e,i)}}else s.start=t;i.p.sortable.exclude&&(s.items=s.items+(":not("+i.p.sortable.exclude+")")),e.sortable(s).data("sortable").floating=!0})},columnChooser:function(e){function t(e,t){e&&("string"==typeof e?b.fn[e]&&b.fn[e].apply(t,b.makeArray(arguments).slice(2)):b.isFunction(e)&&e.apply(t,b.makeArray(arguments).slice(2)))}var i=this;if(!b("#colchooser_"+b.jgrid.jqID(i[0].p.id)).length){var s=b('<div id="colchooser_'+i[0].p.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),r=b("select",s),e=b.extend({width:420,height:240,classname:null,done:function(e){e&&i.jqGrid("remapColumns",e,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470},dlog_opts:function(e){var t={};return t[e.bSubmit]=function(){e.apply_perm(),e.cleanup(!1)},t[e.bCancel]=function(){e.cleanup(!0)},b.extend(!0,{buttons:t,close:function(){e.cleanup(!0)},modal:e.modal||!1,resizable:e.resizable||!0,width:e.width+20},e.dialog_opts||{})},apply_perm:function(){b("option",r).each(function(){this.selected?i.jqGrid("showCol",n[this.value].name):i.jqGrid("hideCol",n[this.value].name)});var t=[];b("option:selected",r).each(function(){t.push(parseInt(this.value,10))}),b.each(t,function(){delete o[n[parseInt(this,10)].name]}),b.each(o,function(){var e=parseInt(this,10),i=t,s=e;if(s>=0){var r=i.slice(),n=r.splice(s,Math.max(i.length-s,s));s>i.length&&(s=i.length),r[s]=e,t=r.concat(n)}else t=void 0}),e.done&&e.done.call(i,t)},cleanup:function(n){t(e.dlog,s,"destroy"),t(e.msel,r,"destroy"),s.remove(),n&&e.done&&e.done.call(i)},msel_opts:{}},b.jgrid.col,e||{});if(b.ui&&b.ui.multiselect&&"multiselect"===e.msel){if(!b.jgrid._multiselect)return void alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");e.msel_opts=b.extend(b.ui.multiselect.defaults,e.msel_opts)}e.caption&&s.attr("title",e.caption),e.classname&&(s.addClass(e.classname),r.addClass(e.classname)),e.width&&(b(">div",s).css({width:e.width,margin:"0 auto"}),r.css("width",e.width)),e.height&&(b(">div",s).css("height",e.height),r.css("height",e.height-10));var n=i.jqGrid("getGridParam","colModel"),a=i.jqGrid("getGridParam","colNames"),o={},l=[];r.empty(),b.each(n,function(e){o[this.name]=e,this.hidedlg?this.hidden||l.push(e):r.append("<option value='"+e+"' "+(this.hidden?"":"selected='selected'")+">"+b.jgrid.stripHtml(a[e])+"</option>")});var d=b.isFunction(e.dlog_opts)?e.dlog_opts.call(i,e):e.dlog_opts;t(e.dlog,s,d),d=b.isFunction(e.msel_opts)?e.msel_opts.call(i,e):e.msel_opts,t(e.msel,r,d)}},sortableRows:function(e){return this.each(function(){var t=this;t.grid&&!t.p.treeGrid&&b.fn.sortable&&(e=b.extend({cursor:"move",axis:"y",items:".jqgrow"},e||{}),e.start&&b.isFunction(e.start)?(e._start_=e.start,delete e.start):e._start_=!1,e.update&&b.isFunction(e.update)?(e._update_=e.update,delete e.update):e._update_=!1,e.start=function(i,s){if(b(s.item).css("border-width","0px"),b("td",s.item).each(function(e){this.style.width=t.grid.cols[e].style.width}),t.p.subGrid){var r=b(s.item).attr("id");try{b(t).jqGrid("collapseSubGridRow",r)}catch(n){}}e._start_&&e._start_.apply(this,[i,s])},e.update=function(i,s){b(s.item).css("border-width",""),t.p.rownumbers===!0&&b("td.jqgrid-rownum",t.rows).each(function(e){b(this).html(e+1+(parseInt(t.p.page,10)-1)*parseInt(t.p.rowNum,10))}),e._update_&&e._update_.apply(this,[i,s])},b("tbody:first",t).sortable(e),b("tbody:first",t).disableSelection())})},gridDnD:function(e){return this.each(function(){function t(){var e=b.data(r,"dnd");b("tr.jqgrow:not(.ui-draggable)",r).draggable(b.isFunction(e.drag)?e.drag.call(b(r),e):e.drag)}var i,s,r=this;if(r.grid&&!r.p.treeGrid&&b.fn.draggable&&b.fn.droppable)if(void 0===b("#jqgrid_dnd")[0]&&b("body").append("<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>"),"string"==typeof e&&"updateDnD"===e&&r.p.jqgdnd===!0)t();else if(e=b.extend({drag:function(e){return b.extend({start:function(t,i){var s;if(r.p.subGrid){s=b(i.helper).attr("id");try{b(r).jqGrid("collapseSubGridRow",s)}catch(n){}}for(s=0;s<b.data(r,"dnd").connectWith.length;s++)0===b(b.data(r,"dnd").connectWith[s]).jqGrid("getGridParam","reccount")&&b(b.data(r,"dnd").connectWith[s]).jqGrid("addRowData","jqg_empty_row",{});i.helper.addClass("ui-state-highlight"),b("td",i.helper).each(function(e){this.style.width=r.grid.headers[e].width+"px"}),e.onstart&&b.isFunction(e.onstart)&&e.onstart.call(b(r),t,i)},stop:function(t,i){var s;for(i.helper.dropped&&!e.dragcopy&&(s=b(i.helper).attr("id"),void 0===s&&(s=b(this).attr("id")),b(r).jqGrid("delRowData",s)),s=0;s<b.data(r,"dnd").connectWith.length;s++)b(b.data(r,"dnd").connectWith[s]).jqGrid("delRowData","jqg_empty_row");e.onstop&&b.isFunction(e.onstop)&&e.onstop.call(b(r),t,i)}},e.drag_opts||{})},drop:function(e){return b.extend({accept:function(e){return b(e).hasClass("jqgrow")?(e=b(e).closest("table.ui-jqgrid-btable"),e.length>0&&void 0!==b.data(e[0],"dnd")?(e=b.data(e[0],"dnd").connectWith,-1!==b.inArray("#"+b.jgrid.jqID(this.id),e)?!0:!1):!1):e},drop:function(t,i){if(b(i.draggable).hasClass("jqgrow")){var s=b(i.draggable).attr("id"),s=i.draggable.parent().parent().jqGrid("getRowData",s);if(!e.dropbyname){var n,a,o=0,l={},d=b("#"+b.jgrid.jqID(this.id)).jqGrid("getGridParam","colModel");try{for(a in s)s.hasOwnProperty(a)&&(n=d[o].name,"cb"===n||"rn"===n||"subgrid"===n||s.hasOwnProperty(a)&&d[o]&&(l[n]=s[a]),o++);s=l}catch(c){}}if(i.helper.dropped=!0,e.beforedrop&&b.isFunction(e.beforedrop)&&(n=e.beforedrop.call(this,t,i,s,b("#"+b.jgrid.jqID(r.p.id)),b(this)),void 0!==n&&null!==n&&"object"==typeof n&&(s=n)),i.helper.dropped){var h;e.autoid&&(b.isFunction(e.autoid)?h=e.autoid.call(this,s):(h=Math.ceil(1e3*Math.random()),h=e.autoidprefix+h)),b("#"+b.jgrid.jqID(this.id)).jqGrid("addRowData",h,s,e.droppos)}e.ondrop&&b.isFunction(e.ondrop)&&e.ondrop.call(this,t,i,s)}}},e.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},e||{}),e.connectWith)for(e.connectWith=e.connectWith.split(","),e.connectWith=b.map(e.connectWith,function(e){return b.trim(e)}),b.data(r,"dnd",e),0!==r.p.reccount&&!r.p.jqgdnd&&t(),r.p.jqgdnd=!0,i=0;i<e.connectWith.length;i++)s=e.connectWith[i],b(s).droppable(b.isFunction(e.drop)?e.drop.call(b(r),e):e.drop)})},gridResize:function(a){return this.each(function(){var d=this,c=b.jgrid.jqID(d.p.id);d.grid&&b.fn.resizable&&(a=b.extend({},a||{}),a.alsoResize?(a._alsoResize_=a.alsoResize,delete a.alsoResize):a._alsoResize_=!1,a.stop&&b.isFunction(a.stop)?(a._stop_=a.stop,delete a.stop):a._stop_=!1,a.stop=function(e,t){b(d).jqGrid("setGridParam",{height:b("#gview_"+c+" .ui-jqgrid-bdiv").height()}),b(d).jqGrid("setGridWidth",t.size.width,a.shrinkToFit),a._stop_&&a._stop_.call(d,e,t)},a.alsoResize=a._alsoResize_?eval("("+("{'#gview_"+c+" .ui-jqgrid-bdiv':true,'"+a._alsoResize_+"':true}")+")"):b(".ui-jqgrid-bdiv","#gview_"+c),delete a._alsoResize_,b("#gbox_"+c).resizable(a))})}})}(jQuery),function(e){"use strict";e.extend(e.jgrid,{icons:{common:"fa",titleVisibleGrid:"fa-chevron-circle-up",titleHiddenGrid:"fa-chevron-circle-down",titleButton:"ui-corner-all fa-title",close:"fa-times",sortAsc:"fa-sort-asc fa-lg",sortDesc:"fa-sort-desc fa-lg",navEdit:"fa-pencil fa-fw",navAdd:"fa-plus fa-fw",navDel:"fa-trash-o fa-fw",navSearch:"fa-search fa-fw",navRefresh:"fa-refresh fa-fw",navView:"fa-file-o fa-fw",pagerFirst:"fa-step-backward fa-fw",pagerPrev:"fa-backward fa-fw",pagerNext:"fa-forward fa-fw",pagerLast:"fa-step-forward fa-fw",formPrev:"fa-caret-left",formNext:"fa-caret-right",formSave:"fa-floppy-o",formUndo:"fa-undo",formDel:"fa-trash-o",searchReset:"fa-undo",searchQuery:"fa-comments-o",searchSearch:"fa-search",getClass:function(e){return""!==this.common?this.common+" "+this[e]:this[e]}}}),e.extend(e.jgrid.nav,{editicon:e.jgrid.icons.getClass("navEdit"),addicon:e.jgrid.icons.getClass("navAdd"),delicon:e.jgrid.icons.getClass("navDel"),searchicon:e.jgrid.icons.getClass("navSearch"),refreshicon:e.jgrid.icons.getClass("navRefresh"),viewicon:e.jgrid.icons.getClass("navView")}),e.extend(e.jgrid.defaults,{fontAwesomeIcons:!0}),e.extend(e.jgrid,{originalCreateModal:e.jgrid.originalCreateModal||e.jgrid.createModal,createModal:function(t,i,s,r,n,a,o){e.jgrid.originalCreateModal.call(this,t,i,s,r,n,a,o),e(r).find(">.ui-jqgrid-bdiv>div>.ui-jqgrid-btable").jqGrid("getGridParam","fontAwesomeIcons")&&(e("#"+e.jgrid.jqID(t.modalhead)+">a.ui-jqdialog-titlebar-close>span.ui-icon").removeClass("ui-icon ui-icon-closethick").addClass(e.jgrid.icons.getClass("close")),e("#"+e.jgrid.jqID(t.themodal)+">div.jqResize").removeClass("ui-icon-grip-diagonal-se"))}}),e.extend(e.jgrid.view,{beforeShowForm:function(t){var i=t.closest(".ui-jqdialog"),s=i.find("a.fm-button>span.ui-icon");s.each(function(){var t=e(this),i=t.parent();t.hasClass("ui-icon-triangle-1-w")?t.removeClass("ui-icon ui-icon-triangle-1-w").addClass(e.jgrid.icons.getClass("formPrev")):t.hasClass("ui-icon-triangle-1-e")?t.removeClass("ui-icon ui-icon-triangle-1-e").addClass(e.jgrid.icons.getClass("formNext")):t.hasClass("ui-icon-close")&&i.html('<span class="'+e.jgrid.icons.getClass("close")+'"></span><span>'+i.text()+"</span>")})}}),e.extend(e.jgrid.del,{afterShowForm:function(t){var i=t.closest(".ui-jqdialog"),s=i.find(".EditTable .DelButton"),r=e('<td class="DelButton EditButton" style="float: right;">'),n=s.find(">a.fm-button>span.ui-icon");s.css("float","right"),n.each(function(){var t=e(this),i=t.parent();t.hasClass("ui-icon-scissors")?(i.html('<span class="'+e.jgrid.icons.getClass("formDel")+'"></span><span>'+i.text()+"</span>"),r.append(i)):t.hasClass("ui-icon-cancel")&&(i.html('<span class="'+e.jgrid.icons.getClass("formUndo")+'"></span><span>'+i.text()+"</span>"),r.append(i))}),r.children().length>0&&s.replaceWith(r)}}),e.jgrid.extend({initFontAwesome:function(){return this.each(function(){var t=e(this);t.bind("jqGridFilterAfterShow",function(t,i){var s=i.closest(".ui-jqdialog"),r=s.find("a.fm-button>span.ui-icon");r.each(function(){var t=e(this),i=t.parent();t.removeClass("ui-icon"),t.hasClass("ui-icon-search")?i.html('<span class="'+e.jgrid.icons.getClass("searchSearch")+'"></span><span>'+i.text()+"</span>"):t.hasClass("ui-icon-arrowreturnthick-1-w")?i.html('<span class="'+e.jgrid.icons.getClass("searchReset")+'"></span><span>'+i.text()+"</span>"):t.hasClass("ui-icon-comment")&&i.html('<span class="'+e.jgrid.icons.getClass("searchQuery")+'"></span><span>'+i.text()+"</span>")})}).bind("jqGridAddEditBeforeShowForm",function(t,i){var s=i.closest(".ui-jqdialog"),r=s.find("a.fm-button>span.ui-icon");r.each(function(){var t=e(this),i=t.parent();t.hasClass("ui-icon-triangle-1-w")?t.removeClass("ui-icon ui-icon-triangle-1-w").addClass(e.jgrid.icons.getClass("formPrev")):t.hasClass("ui-icon-triangle-1-e")?t.removeClass("ui-icon ui-icon-triangle-1-e").addClass(e.jgrid.icons.getClass("formNext")):t.hasClass("ui-icon-disk")?i.hasClass("fm-button-icon-right")?i.html("<span>"+i.text()+'</span><span class="'+e.jgrid.icons.getClass("formSave")+'"></span>'):i.html("<span>"+i.text()+'</span><span class="'+e.jgrid.icons.getClass("formSave")+'"></span>'):t.hasClass("ui-icon-close")&&(i.hasClass("fm-button-icon-right")?i.html("<span>"+i.text()+'</span><span class="'+e.jgrid.icons.getClass("formUndo")+'"></span>'):i.html("<span>"+i.text()+'</span><span class="'+e.jgrid.icons.getClass("formUndo")+'"></span>'))})}).bind("jqGridHeaderClick",function(t,i){var s;this.p.fontAwesomeIcons&&(s=e(this).closest(".ui-jqgrid").find(".ui-jqgrid-titlebar>.ui-jqgrid-titlebar-close>span"),"visible"===i?s.removeClass("ui-icon ui-icon-circle-triangle-n ui-icon-circle-triangle-s "+e.jgrid.icons.getClass("titleHiddenGrid")).addClass(e.jgrid.icons.getClass("titleVisibleGrid")).parent().addClass(e.jgrid.icons.getClass("titleButton")):"hidden"===i&&s.removeClass("ui-icon ui-icon-circle-triangle-n ui-icon-circle-triangle-s "+e.jgrid.icons.getClass("titleVisibleGrid")).addClass(e.jgrid.icons.getClass("titleHiddenGrid")).parent().addClass(e.jgrid.icons.getClass("titleButton")))}).bind("jqGridInitGrid",function(){var t,i,s=e(this);s.closest(".ui-jqgrid-view").find(">.ui-jqgrid-toppager").removeClass("ui-state-default").addClass("ui-widget-content").find(">.ui-pager-control").addClass("ui-state-default"),this.p.fontAwesomeIcons&&(t=s.closest(".ui-jqgrid").find(".ui-pg-table"),t.find(".ui-pg-button>span.ui-icon-seek-first").removeClass("ui-icon ui-icon-seek-first").addClass(e.jgrid.icons.getClass("pagerFirst")),t.find(".ui-pg-button>span.ui-icon-seek-prev").removeClass("ui-icon ui-icon-seek-prev").addClass(e.jgrid.icons.getClass("pagerPrev")),t.find(".ui-pg-button>span.ui-icon-seek-next").removeClass("ui-icon ui-icon-seek-next").addClass(e.jgrid.icons.getClass("pagerNext")),t.find(".ui-pg-button>span.ui-icon-seek-end").removeClass("ui-icon ui-icon-seek-end").addClass(e.jgrid.icons.getClass("pagerLast")),s.closest(".ui-jqgrid").find(".ui-jqgrid-titlebar>.ui-jqgrid-titlebar-close>.ui-icon-circle-triangle-n").removeClass("ui-icon ui-icon-circle-triangle-n").addClass(e.jgrid.icons.getClass("titleVisibleGrid")).parent().addClass("ui-corner-all"+e.jgrid.icons.getClass("titleButton")).css({right:""}),i=s.closest(".ui-jqgrid").find(".ui-jqgrid-htable .ui-jqgrid-labels .ui-jqgrid-sortable span.s-ico"),i.find(">span.ui-icon-triangle-1-s").removeClass("ui-icon ui-icon-triangle-1-s").addClass(e.jgrid.icons.getClass("sortAsc")),i.find(">span.ui-icon-triangle-1-n").removeClass("ui-icon ui-icon-triangle-1-n").addClass(e.jgrid.icons.getClass("sortDesc")))})})}})}(jQuery),function(e,t,i,s){function r(i,s){this.w=e(t),this.el=e(i),this.options=e.extend({},c,s),this.init()}var n="ontouchstart"in t,a=function(){var e=i.createElement("div"),s=i.documentElement;if(!("pointerEvents"in e.style))return!1;e.style.pointerEvents="auto",e.style.pointerEvents="x",s.appendChild(e);var r=t.getComputedStyle&&"auto"===t.getComputedStyle(e,"").pointerEvents;return s.removeChild(e),!!r}(),o=n?"touchstart":"mousedown",l=n?"touchmove":"mousemove",d=n?"touchend":"mouseup";eCancel=n?"touchcancel":"mouseup";var c={listNodeName:"ol",itemNodeName:"li",rootClass:"dd",listClass:"dd-list",itemClass:"dd-item",dragClass:"dd-dragel",handleClass:"dd-handle",collapsedClass:"dd-collapsed",placeClass:"dd-placeholder",noDragClass:"dd-nodrag",emptyClass:"dd-empty",expandBtnHTML:'<button data-action="expand" type="button">Expand</button>',collapseBtnHTML:'<button data-action="collapse" type="button">Collapse</button>',group:0,maxDepth:5,threshold:20,clonable:!1,structure:!1,nestable:!0};r.prototype={init:function(){var i=this;i.reset(),i.el.data("nestable-group",this.options.group),i.placeEl=e('<div class="'+i.options.placeClass+'"/>'),e.each(this.el.find(i.options.itemNodeName),function(t,s){i.setParent(e(s))}),i.el.on("click","button",function(t){if(!i.dragEl&&(n||0===t.button)){var s=e(t.currentTarget),r=s.data("action"),a=s.parent(i.options.itemNodeName);"collapse"===r&&i.collapseItem(a),"expand"===r&&i.expandItem(a)}});var s=function(t){var s=e(t.target);if(!s.hasClass(i.options.handleClass)){if(s.closest("."+i.options.noDragClass).length)return;s=s.closest("."+i.options.handleClass)}!s.length||i.dragEl||!n&&0!==t.button||n&&1!==t.touches.length||(t.preventDefault(),i.dragStart(n?t.touches[0]:t))},r=function(e){i.dragEl&&(e.preventDefault(),i.dragMove(n?e.touches[0]:e))},a=function(e){i.dragEl&&(e.preventDefault(),i.dragStop(n?e.touches[0]:e))};n?(i.el[0].addEventListener(o,s,!1),t.addEventListener(l,r,!1),t.addEventListener(d,a,!1),t.addEventListener(eCancel,a,!1)):(i.el.on(o,s),i.w.on(l,r),i.w.on(d,a))},serialize:function(){var t,i=0,s=this;return step=function(t,i){var r=[],n=t.children(s.options.itemNodeName);return n.each(function(){var t=e(this),n=e.extend({},t.data()),a=t.children(s.options.listNodeName);a.length&&(n.children=step(a,i+1)),r.push(n)}),r},t=step(s.el.find(s.options.listNodeName).first(),i)},serialise:function(){return this.serialize()},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0},this.moving=!1,this.dragEl=null,this.dragRootEl=null,this.dragDepth=0,this.hasNewRoot=!1,this.pointEl=null},expandItem:function(e){e.removeClass(this.options.collapsedClass),e.children('[data-action="expand"]').hide(),e.children('[data-action="collapse"]').show(),e.children(this.options.listNodeName).show()},collapseItem:function(e){var t=e.children(this.options.listNodeName);t.length&&(e.addClass(this.options.collapsedClass),e.children('[data-action="collapse"]').hide(),e.children('[data-action="expand"]').show(),e.children(this.options.listNodeName).hide())},expandAll:function(){var t=this;t.el.find(t.options.itemNodeName).each(function(){t.expandItem(e(this))})},collapseAll:function(){var t=this;t.el.find(t.options.itemNodeName).each(function(){t.collapseItem(e(this))})},setParent:function(t){t.children(this.options.listNodeName).length&&(t.prepend(e(this.options.expandBtnHTML)),t.prepend(e(this.options.collapseBtnHTML))),t.children('[data-action="expand"]').hide()},unsetParent:function(e){e.removeClass(this.options.collapsedClass),e.children("[data-action]").remove(),e.children(this.options.listNodeName).remove()},dragStart:function(t){var r=this.mouse,n=e(t.target).closest("."+this.options.handleClass),a=n.closest(this.options.itemNodeName);if(console.log(n),this.placeEl.css("height",a.height()),r.offsetX=t.offsetX!==s?t.offsetX:t.pageX-n.offset().left,r.offsetY=t.offsetY!==s?t.offsetY:t.pageY-n.offset().top,r.startX=r.lastX=t.pageX,r.startY=r.lastY=t.pageY,this.dragRootEl=this.el,this.dragEl=e(i.createElement(this.options.listNodeName)).addClass(this.options.listClass+" "+this.options.dragClass),this.dragEl.css("width",a.width()),a.after(this.placeEl),this.options.clonable){var o=a[0].cloneNode(!0);a[0].parentNode.replaceChild(o,a[0]),$(".dd-handle a").on("mousedown",function(e){e.stopPropagation()})}else a[0].parentNode.removeChild(a[0]);a.appendTo(this.dragEl),e(i.body).append(this.dragEl),this.dragEl.css({left:t.pageX-r.offsetX,top:t.pageY-r.offsetY});var l,d,c=this.dragEl.find(this.options.itemNodeName);for(l=0;l<c.length;l++)d=e(c[l]).parents(this.options.listNodeName).length,d>this.dragDepth&&(this.dragDepth=d)},dragStop:function(e){var t=this.dragEl.children(this.options.itemNodeName).first();t[0].parentNode.removeChild(t[0]);var i=this.dragRootEl.data("nestable").options.nestable;if(this.hasNewRoot&&this.options.clonable&&i||!this.hasNewRoot&&this.options.structure){if(this.hasNewRoot){var s=0,r=t.attr("data-id").substring(0,1);$("#study_structure div[id^='handler_"+r+"_']").each(function(){var e=parseInt($(this).attr("id").substring($(this).attr("id").lastIndexOf("_")+1));e>s&&(s=e)}),s++,t.attr("data-id",r+"_"+s),nome_xml=t.children($(".class dd-handle")).attr("id").substring(10),t.children($(".class dd-handle")).attr("id","handler_"+r+"_"+s);var n=t.children($(".class dd-handle"));n.children(".action-buttons").each(function(){if("none"==$(this).css("display")){$(this).css("display","block"),$(this).children("a").attr("id","a_"+s),$(this).children("input").attr("id","H_"+r+"_"+s);var e=$(this).children("input").attr("value");"{}"!=e?$(this).children("input").attr("value",'{"number":"'+s+'","xml":"'+nome_xml+'"'+e.replace("{",",")):$(this).children("input").attr("value",'{"number":"'+s+'"}')}else $(this).remove()})}this.placeEl.replaceWith(t)}else this.placeEl.remove();this.dragEl.remove(),this.el.trigger("change"),this.dragRootEl.trigger("change"),this.reset()},dragMove:function(s){var r,n,o,l,d,c=this.options,h=this.mouse;this.dragEl.css({left:s.pageX-h.offsetX,top:s.pageY-h.offsetY}),h.lastX=h.nowX,h.lastY=h.nowY,h.nowX=s.pageX,h.nowY=s.pageY,h.distX=h.nowX-h.lastX,h.distY=h.nowY-h.lastY,h.lastDirX=h.dirX,h.lastDirY=h.dirY,h.dirX=0===h.distX?0:h.distX>0?1:-1,h.dirY=0===h.distY?0:h.distY>0?1:-1;var u=Math.abs(h.distX)>Math.abs(h.distY)?1:0;if(!h.moving)return h.dirAx=u,void(h.moving=!0);if(h.dirAx!==u?(h.distAxX=0,h.distAxY=0):(h.distAxX+=Math.abs(h.distX),0!==h.dirX&&h.dirX!==h.lastDirX&&(h.distAxX=0),h.distAxY+=Math.abs(h.distY),0!==h.dirY&&h.dirY!==h.lastDirY&&(h.distAxY=0)),h.dirAx=u,h.dirAx&&h.distAxX>=c.threshold){if(h.distAxX=0,o=this.placeEl.prev(c.itemNodeName),h.distX>0&&o.length&&!o.hasClass(c.collapsedClass)){r=o.find(c.listNodeName).last(),d=this.placeEl.parents(c.listNodeName).length;var p=this.dragRootEl.data("nestable").options.nestable;p&&d+this.dragDepth<=c.maxDepth&&(r.length?(r=o.children(c.listNodeName).last(),r.append(this.placeEl)):(r=e("<"+c.listNodeName+"/>").addClass(c.listClass),r.append(this.placeEl),o.append(r),this.setParent(o)))}h.distX<0&&(l=this.placeEl.next(c.itemNodeName),l.length||(n=this.placeEl.parent(),this.placeEl.closest(c.itemNodeName).after(this.placeEl),n.children().length||this.unsetParent(n.parent())))}var f=!1;if(a||(this.dragEl[0].style.visibility="hidden"),this.pointEl=e(i.elementFromPoint(s.pageX-i.body.scrollLeft,s.pageY-(t.pageYOffset||i.documentElement.scrollTop))),a||(this.dragEl[0].style.visibility="visible"),this.pointEl.hasClass(c.handleClass)&&(this.pointEl=this.pointEl.parent(c.itemNodeName)),this.pointEl.hasClass(c.emptyClass))f=!0;else if(!this.pointEl.length||!this.pointEl.hasClass(c.itemClass))return;var g=this.pointEl.closest("."+c.rootClass),m=this.dragRootEl.data("nestable-id")!==g.data("nestable-id");if(!h.dirAx||m||f){if(m&&c.group!==g.data("nestable-group"))return;if(d=this.dragDepth-1+this.pointEl.parents(c.listNodeName).length,d>c.maxDepth)return;var v=s.pageY<this.pointEl.offset().top+this.pointEl.height()/2;n=this.placeEl.parent(),f?(r=e(i.createElement(c.listNodeName)).addClass(c.listClass),r.append(this.placeEl),this.pointEl.replaceWith(r)):v?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl),n.children().length||this.unsetParent(n.parent()),this.dragRootEl.find(c.itemNodeName).length||this.dragRootEl.append('<div class="'+c.emptyClass+'"/>'),m&&(this.dragRootEl=g,this.hasNewRoot=this.el[0]!==this.dragRootEl[0]);
}}},e.fn.nestable=function(t){var i=this,s=this;return i.each(function(){var i=e(this).data("nestable");i?"string"==typeof t&&"function"==typeof i[t]&&(s=i[t]()):(e(this).data("nestable",new r(this,t)),e(this).data("nestable-id",(new Date).getTime()))}),s||i}}(window.jQuery||window.Zepto,window,document);